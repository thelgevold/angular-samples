function scheduleMicroTask(e){Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function getTypeNameForDebugging(e){return e.name?e.name:typeof e}function isPresent(e){return void 0!==e&&null!==e}function isBlank(e){return void 0===e||null===e}function isString(e){return"string"==typeof e}function isFunction(e){return"function"==typeof e}function isPromise(e){return isPresent(e)&&isFunction(e.then)}function isArray(e){return Array.isArray(e)}function stringify(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.overriddenName)return e.overriddenName;if(e.name)return e.name;var t=e.toString(),r=t.indexOf("\n");return r===-1?t:t.substring(0,r)}function looseIdentical(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function getMapKey(e){return e}function isJsObject(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function print(e){console.log(e)}function warn(e){console.warn(e)}function getSymbolIterator(){if(isBlank(_symbolIterator))if(isPresent(globalScope.Symbol)&&isPresent(Symbol.iterator))_symbolIterator=Symbol.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),t=0;t<e.length;++t){var r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(_symbolIterator=r)}return _symbolIterator}function isPrimitive(e){return!isJsObject(e)}function forwardRef(e){return e.__forward_ref__=forwardRef,e.toString=function(){return stringify(this())},e}function resolveForwardRef(e){return isFunction(e)&&e.hasOwnProperty("__forward_ref__")&&e.__forward_ref__===forwardRef?e():e}function extractAnnotation(e){return isFunction(e)&&e.hasOwnProperty("annotation")&&(e=e.annotation),e}function applyParams(e,t){if(e===Object||e===String||e===Function||e===Number||e===Array)throw new Error("Can not use native "+stringify(e)+" as constructor");if(isFunction(e))return e;if(e instanceof Array){var r=e,n=r.length-1,i=e[n];if(!isFunction(i))throw new Error("Last position of Class method array must be Function in key "+t+" was '"+stringify(i)+"'");if(n!=i.length)throw new Error("Number of annotations ("+n+") does not match number of arguments ("+i.length+") in the function: "+stringify(i));for(var o=[],s=0,a=r.length-1;s<a;s++){var u=[];o.push(u);var c=r[s];if(c instanceof Array)for(var l=0;l<c.length;l++)u.push(extractAnnotation(c[l]));else isFunction(c)?u.push(extractAnnotation(c)):u.push(c)}return Reflect$1.defineMetadata("parameters",o,i),i}throw new Error("Only Function or Array is supported in Class definition for key '"+t+"' is '"+stringify(e)+"'")}function Class(e){var t=applyParams(e.hasOwnProperty("constructor")?e.constructor:void 0,"constructor"),r=t.prototype;if(e.hasOwnProperty("extends")){if(!isFunction(e.extends))throw new Error("Class definition 'extends' property must be a constructor function was: "+stringify(e.extends));t.prototype=r=Object.create(e.extends.prototype)}for(var n in e)"extends"!=n&&"prototype"!=n&&e.hasOwnProperty(n)&&(r[n]=applyParams(e[n],n));this&&this.annotations instanceof Array&&Reflect$1.defineMetadata("annotations",this.annotations,t);var i=t.name;return i&&"constructor"!==i||(t.overriddenName="class"+_nextClassId++),t}function makeDecorator(e,t){function r(r){if(!Reflect$1||!Reflect$1.getMetadata)throw"reflect-metadata shim is required when using class decorators";var n=new e(r);if(this instanceof e)return n;var i=isFunction(this)&&this.annotations instanceof Array?this.annotations:[];i.push(n);var o=function(e){var t=Reflect$1.getOwnMetadata("annotations",e)||[];return t.push(n),Reflect$1.defineMetadata("annotations",t,e),e};return o.annotations=i,o.Class=Class,t&&t(o),o}return void 0===t&&(t=null),r.prototype=Object.create(e.prototype),r.annotationCls=e,r}function makeParamDecorator(e){function t(){function t(e,t,r){for(var n=Reflect$1.getMetadata("parameters",e)||[];n.length<=r;)n.push(null);n[r]=n[r]||[];var o=n[r];return o.push(i),Reflect$1.defineMetadata("parameters",n,e),e}for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];var i=Object.create(e.prototype);return e.apply(i,r),this instanceof e?i:(t.annotation=i,t)}return t.prototype=Object.create(e.prototype),t.annotationCls=e,t}function makePropDecorator(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=Object.create(e.prototype);return e.apply(n,t),this instanceof e?n:function(e,t){var r=Reflect$1.getOwnMetadata("propMetadata",e.constructor)||{};r[t]=r[t]||[],r[t].unshift(n),Reflect$1.defineMetadata("propMetadata",r,e.constructor)}}return t.prototype=Object.create(e.prototype),t.annotationCls=e,t}function isDefaultChangeDetectionStrategy(e){return isBlank(e)||e===ChangeDetectionStrategy.Default}function unimplemented(){throw new Error("unimplemented")}function _flattenArray(e,t){if(isPresent(e))for(var r=0;r<e.length;r++){var n=e[r];isArray(n)?_flattenArray(n,t):t.push(n)}return t}function isListLikeIterable(e){return!!isJsObject(e)&&(isArray(e)||!(e instanceof Map$1)&&getSymbolIterator()in e)}function areIterablesEqual(e,t,r){for(var n=e[getSymbolIterator()](),i=t[getSymbolIterator()]();;){var o=n.next(),s=i.next();if(o.done&&s.done)return!0;if(o.done||s.done)return!1;if(!r(o.value,s.value))return!1}}function iterateListLike(e,t){if(isArray(e))for(var r=0;r<e.length;r++)t(e[r]);else for(var n,i=e[getSymbolIterator()]();!(n=i.next()).done;)t(n.value)}function findFirstClosedCycle(e){for(var t=[],r=0;r<e.length;++r){if(ListWrapper.contains(t,e[r]))return t.push(e[r]),t;t.push(e[r])}return t}function constructResolvingPath(e){if(e.length>1){var t=findFirstClosedCycle(ListWrapper.reversed(e)),r=t.map(function(e){return stringify(e.token)});return" ("+r.join(" -> ")+")"}return""}function convertTsickleDecoratorIntoMetadata(e){return e?e.map(function(e){var t=e.type,r=t.annotationCls,n=e.args?e.args:[],i=Object.create(r.prototype);return r.apply(i,n),i}):[]}function _mergeMaps(e,t){StringMapWrapper.forEach(t,function(t,r){return e.set(r,t)})}function resolveReflectiveFactory(e){var t,r;if(isPresent(e.useClass)){var n=resolveForwardRef(e.useClass);t=reflector.factory(n),r=_dependenciesFor(n)}else isPresent(e.useExisting)?(t=function(e){return e},r=[ReflectiveDependency.fromKey(ReflectiveKey.get(e.useExisting))]):isPresent(e.useFactory)?(t=e.useFactory,r=constructDependencies(e.useFactory,e.deps)):(t=function(){return e.useValue},r=_EMPTY_LIST);return new ResolvedReflectiveFactory(t,r)}function resolveReflectiveProvider(e){return new ResolvedReflectiveProvider_(ReflectiveKey.get(e.provide),[resolveReflectiveFactory(e)],e.multi)}function resolveReflectiveProviders(e){var t=_normalizeProviders(e,[]),r=t.map(resolveReflectiveProvider);return MapWrapper.values(mergeResolvedReflectiveProviders(r,new Map))}function mergeResolvedReflectiveProviders(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=t.get(n.key.id);if(isPresent(i)){if(n.multiProvider!==i.multiProvider)throw new MixingMultiProvidersWithRegularProvidersError(i,n);if(n.multiProvider)for(var o=0;o<n.resolvedFactories.length;o++)i.resolvedFactories.push(n.resolvedFactories[o]);else t.set(n.key.id,n)}else{var s;s=n.multiProvider?new ResolvedReflectiveProvider_(n.key,ListWrapper.clone(n.resolvedFactories),n.multiProvider):n,t.set(n.key.id,s)}}return t}function _normalizeProviders(e,t){return e.forEach(function(e){if(e instanceof Type)t.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)t.push(e);else{if(!(e instanceof Array))throw new InvalidProviderError(e);_normalizeProviders(e,t)}}),t}function constructDependencies(e,t){if(isBlank(t))return _dependenciesFor(e);var r=t.map(function(e){return[e]});return t.map(function(t){return _extractToken(e,t,r)})}function _dependenciesFor(e){var t=reflector.parameters(e);if(isBlank(t))return[];if(t.some(isBlank))throw new NoAnnotationError(e,t);return t.map(function(r){return _extractToken(e,r,t)})}function _extractToken(e,t,r){var n=[],i=null,o=!1;if(!isArray(t))return t instanceof InjectMetadata?_createDependency(t.token,o,null,null,n):_createDependency(t,o,null,null,n);for(var s=null,a=null,u=0;u<t.length;++u){var c=t[u];c instanceof Type?i=c:c instanceof InjectMetadata?i=c.token:c instanceof OptionalMetadata?o=!0:c instanceof SelfMetadata?a=c:c instanceof HostMetadata?a=c:c instanceof SkipSelfMetadata?s=c:c instanceof DependencyMetadata&&(isPresent(c.token)&&(i=c.token),n.push(c))}if(i=resolveForwardRef(i),isPresent(i))return _createDependency(i,o,s,a,n);throw new NoAnnotationError(e,r)}function _createDependency(e,t,r,n,i){return new ReflectiveDependency(ReflectiveKey.get(e),t,r,n,i)}function _mapProviders(e,t){for(var r=new Array(e._proto.numberOfProviders),n=0;n<e._proto.numberOfProviders;++n)r[n]=t(e._proto.getProviderAtIndex(n));return r}function _appIdRandomProviderFactory(){return""+_randomChar()+_randomChar()+_randomChar()}function _randomChar(){return StringWrapper.fromCharCode(97+Math$1.floor(25*Math$1.random()))}function _throwError(){throw new Error("Runtime compiler is not loaded")}function getPreviousIndex(e,t,r){var n=e.previousIndex;if(null===n)return n;var i=0;return r&&n<r.length&&(i=r[n]),n+t+i}function devModeEqual(e,t){return isListLikeIterable(e)&&isListLikeIterable(t)?areIterablesEqual(e,t,devModeEqual):!(isListLikeIterable(e)||isPrimitive(e)||isListLikeIterable(t)||isPrimitive(t))||looseIdentical(e,t)}function detectWTF(){var e=global$1.wtf;return!(!e||!(trace=e.trace))&&(events=trace.events,!0)}function createScope(e,t){return void 0===t&&(t=null),events.createScope(e,t)}function leave(e,t){return trace.leaveScope(e,t),t}function noopScope(e,t){return null}function flattenNestedViewRenderNodes(e){return _flattenNestedViewRenderNodes(e,[])}function _flattenNestedViewRenderNodes(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n instanceof AppElement){var i=n;if(t.push(i.nativeElement),isPresent(i.nestedViews))for(var o=0;o<i.nestedViews.length;o++)_flattenNestedViewRenderNodes(i.nestedViews[o].rootNodesOrAppElements,t)}else t.push(n)}return t}function ensureSlotCount(e,t){var r;if(isBlank(e))r=EMPTY_ARR;else if(e.length<t){var n=e.length;r=ListWrapper.createFixedSize(t);for(var i=0;i<t;i++)r[i]=i<n?e[i]:EMPTY_ARR}else r=e;return r}function interpolate(e,t,r,n,i,o,s,a,u,c,l,p,h,f,d,m,y,v,_,g){switch(e){case 1:return t+_toStringWithNull(r)+n;case 2:return t+_toStringWithNull(r)+n+_toStringWithNull(i)+o;case 3:return t+_toStringWithNull(r)+n+_toStringWithNull(i)+o+_toStringWithNull(s)+a;case 4:return t+_toStringWithNull(r)+n+_toStringWithNull(i)+o+_toStringWithNull(s)+a+_toStringWithNull(u)+c;case 5:return t+_toStringWithNull(r)+n+_toStringWithNull(i)+o+_toStringWithNull(s)+a+_toStringWithNull(u)+c+_toStringWithNull(l)+p;case 6:return t+_toStringWithNull(r)+n+_toStringWithNull(i)+o+_toStringWithNull(s)+a+_toStringWithNull(u)+c+_toStringWithNull(l)+p+_toStringWithNull(h)+f;case 7:return t+_toStringWithNull(r)+n+_toStringWithNull(i)+o+_toStringWithNull(s)+a+_toStringWithNull(u)+c+_toStringWithNull(l)+p+_toStringWithNull(h)+f+_toStringWithNull(d)+m;case 8:return t+_toStringWithNull(r)+n+_toStringWithNull(i)+o+_toStringWithNull(s)+a+_toStringWithNull(u)+c+_toStringWithNull(l)+p+_toStringWithNull(h)+f+_toStringWithNull(d)+m+_toStringWithNull(y)+v;case 9:return t+_toStringWithNull(r)+n+_toStringWithNull(i)+o+_toStringWithNull(s)+a+_toStringWithNull(u)+c+_toStringWithNull(l)+p+_toStringWithNull(h)+f+_toStringWithNull(d)+m+_toStringWithNull(y)+v+_toStringWithNull(_)+g;default:throw new Error("Does not support more than 9 expressions")}}function _toStringWithNull(e){return null!=e?e.toString():""}function checkBinding(e,t,r){if(e){if(!devModeEqual(t,r))throw new ExpressionChangedAfterItHasBeenCheckedError(t,r);return!1}return!looseIdentical(t,r)}function castByValue(e,t){return e}function pureProxy1(e){var t,r=UNINITIALIZED;return function(n){return looseIdentical(r,n)||(r=n,t=e(n)),t}}function pureProxy2(e){var t,r=UNINITIALIZED,n=UNINITIALIZED;return function(i,o){return looseIdentical(r,i)&&looseIdentical(n,o)||(r=i,n=o,t=e(i,o)),t}}function pureProxy3(e){var t,r=UNINITIALIZED,n=UNINITIALIZED,i=UNINITIALIZED;return function(o,s,a){return looseIdentical(r,o)&&looseIdentical(n,s)&&looseIdentical(i,a)||(r=o,n=s,i=a,t=e(o,s,a)),t}}function pureProxy4(e){var t,r,n,i,o;return r=n=i=o=UNINITIALIZED,function(s,a,u,c){return looseIdentical(r,s)&&looseIdentical(n,a)&&looseIdentical(i,u)&&looseIdentical(o,c)||(r=s,n=a,i=u,o=c,t=e(s,a,u,c)),t}}function pureProxy5(e){var t,r,n,i,o,s;return r=n=i=o=s=UNINITIALIZED,function(a,u,c,l,p){return looseIdentical(r,a)&&looseIdentical(n,u)&&looseIdentical(i,c)&&looseIdentical(o,l)&&looseIdentical(s,p)||(r=a,n=u,i=c,o=l,s=p,t=e(a,u,c,l,p)),t}}function pureProxy6(e){var t,r,n,i,o,s,a;return r=n=i=o=s=a=UNINITIALIZED,function(u,c,l,p,h,f){return looseIdentical(r,u)&&looseIdentical(n,c)&&looseIdentical(i,l)&&looseIdentical(o,p)&&looseIdentical(s,h)&&looseIdentical(a,f)||(r=u,n=c,i=l,o=p,s=h,a=f,t=e(u,c,l,p,h,f)),t}}function pureProxy7(e){var t,r,n,i,o,s,a,u;return r=n=i=o=s=a=u=UNINITIALIZED,function(c,l,p,h,f,d,m){return looseIdentical(r,c)&&looseIdentical(n,l)&&looseIdentical(i,p)&&looseIdentical(o,h)&&looseIdentical(s,f)&&looseIdentical(a,d)&&looseIdentical(u,m)||(r=c,n=l,i=p,o=h,s=f,a=d,u=m,t=e(c,l,p,h,f,d,m)),t}}function pureProxy8(e){var t,r,n,i,o,s,a,u,c;return r=n=i=o=s=a=u=c=UNINITIALIZED,function(l,p,h,f,d,m,y,v){return looseIdentical(r,l)&&looseIdentical(n,p)&&looseIdentical(i,h)&&looseIdentical(o,f)&&looseIdentical(s,d)&&looseIdentical(a,m)&&looseIdentical(u,y)&&looseIdentical(c,v)||(r=l,n=p,i=h,o=f,s=d,a=m,u=y,c=v,t=e(l,p,h,f,d,m,y,v)),t}}function pureProxy9(e){var t,r,n,i,o,s,a,u,c,l;return r=n=i=o=s=a=u=c=l=UNINITIALIZED,function(p,h,f,d,m,y,v,_,g){return looseIdentical(r,p)&&looseIdentical(n,h)&&looseIdentical(i,f)&&looseIdentical(o,d)&&looseIdentical(s,m)&&looseIdentical(a,y)&&looseIdentical(u,v)&&looseIdentical(c,_)&&looseIdentical(l,g)||(r=p,n=h,i=f,o=d,s=m,a=y,u=v,c=_,l=g,t=e(p,h,f,d,m,y,v,_,g)),t}}function pureProxy10(e){var t,r,n,i,o,s,a,u,c,l,p;return r=n=i=o=s=a=u=c=l=p=UNINITIALIZED,function(h,f,d,m,y,v,_,g,b,E){return looseIdentical(r,h)&&looseIdentical(n,f)&&looseIdentical(i,d)&&looseIdentical(o,m)&&looseIdentical(s,y)&&looseIdentical(a,v)&&looseIdentical(u,_)&&looseIdentical(c,g)&&looseIdentical(l,b)&&looseIdentical(p,E)||(r=h,n=f,i=d,o=m,s=y,a=v,u=_,c=g,l=b,p=E,t=e(h,f,d,m,y,v,_,g,b,E)),t}}function isFunction$1(e){return"function"==typeof e}function isObject(e){return null!=e&&"object"==typeof e}function tryCatcher(){try{return tryCatchTarget.apply(this,arguments)}catch(e){return errorObject.e=e,errorObject}}function tryCatch(e){return tryCatchTarget=e,tryCatcher}function toSubscriber(e,t,r){if(e){if(e instanceof Subscriber)return e;if(e[rxSubscriber])return e[rxSubscriber]()}return e||t||r?new Subscriber(e,t,r):new Subscriber}function getSymbolObservable(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}function setTestabilityGetter(e){_testabilityGetter=e}function isDevMode(){return _runModeLocked=!0,_devMode}function createPlatform(e){if(isPresent(_platform)&&!_platform.destroyed)throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_platform=e.get(PlatformRef);var t=e.get(PLATFORM_INITIALIZER,null);return isPresent(t)&&t.forEach(function(e){return e()}),_platform}function createPlatformFactory(e,t,r){void 0===r&&(r=[]);var n=new OpaqueToken("Platform: "+t);return function(t){return void 0===t&&(t=[]),getPlatform()||(e?e(r.concat(t).concat({provide:n,useValue:!0})):createPlatform(ReflectiveInjector.resolveAndCreate(r.concat(t).concat({provide:n,useValue:!0})))),assertPlatform(n)}}function assertPlatform(e){var t=getPlatform();if(isBlank(t))throw new Error("No platform exists!");if(isPresent(t)&&isBlank(t.injector.get(e,null)))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function getPlatform(){return isPresent(_platform)&&!_platform.destroyed?_platform:null}function _callAndReportToErrorHandler(e,t){try{var r=t();return isPromise(r)?r.catch(function(t){throw e.handleError(t),t}):r}catch(t){throw e.handleError(t),t}}function checkNotEmpty(e,t,r){if(!e)throw new Error("Cannot find '"+r+"' in '"+t+"'");return e}function _queryElementChildren(e,t,r){e.childNodes.forEach(function(e){e instanceof DebugElement&&(t(e)&&r.push(e),_queryElementChildren(e,t,r))})}function _queryNodeChildren(e,t,r){e instanceof DebugElement&&e.childNodes.forEach(function(e){t(e)&&r.push(e),e instanceof DebugElement&&_queryNodeChildren(e,t,r)})}function getDebugNode(e){return _nativeNodeToDebugNode.get(e)}function indexDebugNode(e){_nativeNodeToDebugNode.set(e.nativeNode,e)}function removeDebugNodeFromIndex(e){_nativeNodeToDebugNode.delete(e.nativeNode)}function _reflector(){return reflector}function _iterableDiffersFactory(){return defaultIterableDiffers}function _keyValueDiffersFactory(){return defaultKeyValueDiffers}function prepareFinalAnimationStyles(e,t,r){void 0===r&&(r=null);var n={};return StringMapWrapper.forEach(t,function(e,t){n[t]=e==AUTO_STYLE?r:e.toString()}),StringMapWrapper.forEach(e,function(e,t){isPresent(n[t])||(n[t]=r)}),n}function balanceAnimationKeyframes(e,t,r){var n=r.length-1,i=r[0],o=flattenStyles(i.styles.styles),s={},a=!1;StringMapWrapper.forEach(e,function(e,t){o[t]||(o[t]=e,s[t]=e,a=!0)});var u=StringMapWrapper.merge({},o),c=r[n];ListWrapper.insert(c.styles.styles,0,t);var l=flattenStyles(c.styles.styles),p={},h=!1;return StringMapWrapper.forEach(u,function(e,t){isPresent(l[t])||(p[t]=AUTO_STYLE,h=!0)}),h&&c.styles.styles.push(p),StringMapWrapper.forEach(l,function(e,t){isPresent(o[t])||(s[t]=AUTO_STYLE,a=!0)}),a&&i.styles.styles.push(s),r}function clearStyles(e){var t={};return StringMapWrapper.keys(e).forEach(function(e){t[e]=null}),t}function collectAndResolveStyles(e,t){return t.map(function(t){var r={};return StringMapWrapper.forEach(t,function(t,n){t==FILL_STYLE_FLAG&&(t=e[n],isPresent(t)||(t=AUTO_STYLE)),e[n]=t,r[n]=t}),r})}function renderStyles(e,t,r){StringMapWrapper.forEach(r,function(r,n){t.setElementStyle(e,n,r)})}function flattenStyles(e){var t={};return e.forEach(function(e){StringMapWrapper.forEach(e,function(e,r){t[r]=e})}),t}function _findLastRenderNode(e){var t;if(e instanceof AppElement){var r=e;if(t=r.nativeElement,isPresent(r.nestedViews))for(var n=r.nestedViews.length-1;n>=0;n--){var i=r.nestedViews[n];i.rootNodesOrAppElements.length>0&&(t=_findLastRenderNode(i.rootNodesOrAppElements[i.rootNodesOrAppElements.length-1]))}}else t=e;return t}function isPresent$1(e){return void 0!==e&&null!==e}function isBlank$1(e){return void 0===e||null===e}function isString$1(e){return"string"==typeof e}function isStringMap$1(e){return"object"==typeof e&&null!==e}function isStrictStringMap$1(e){return isStringMap$1(e)&&Object.getPrototypeOf(e)===STRING_MAP_PROTO$1}function isArray$2(e){return Array.isArray(e)}function stringify$1(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.overriddenName)return e.overriddenName;if(e.name)return e.name;var t=e.toString(),r=t.indexOf("\n");return r===-1?t:t.substring(0,r)}function normalizeBlank$1(e){return isBlank$1(e)?null:e}function normalizeBool$1(e){return!isBlank$1(e)&&e}function isJsObject$1(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function evalExpression$1(e,t,r,n){var i=r+"\nreturn "+t+"\n//# sourceURL="+e,o=[],s=[];for(var a in n)o.push(a),s.push(n[a]);return(new(Function.bind.apply(Function,[void 0].concat(o.concat(i))))).apply(void 0,s)}function isPrimitive$1(e){return!isJsObject$1(e)}function escapeRegExp$1(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function templateVisitAll(e,t,r){void 0===r&&(r=null);var n=[];return t.forEach(function(t){var i=t.visit(e,r);isPresent$1(i)&&n.push(i)}),n}function _flattenArray$1(e,t){if(isPresent$1(e))for(var r=0;r<e.length;r++){var n=e[r];isArray$2(n)?_flattenArray$1(n,t):t.push(n)}return t}function replaceVarInExpression(e,t,r){var n=new _ReplaceVariableTransformer(e,t);return r.visitExpression(n,null)}function findReadVarNames(e){var t=new _VariableFinder;return t.visitAllStatements(e,null),t.varNames}function variable(e,t){return void 0===t&&(t=null),new ReadVarExpr(e,t)}function importExpr(e,t){return void 0===t&&(t=null),new ExternalExpr(e,null,t)}function importType(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=null),isPresent$1(e)?new ExternalType(e,t,r):null}function literalArr(e,t){return void 0===t&&(t=null),new LiteralArrayExpr(e,t)}function literalMap(e,t){return void 0===t&&(t=null),new LiteralMapExpr(e,t)}function not(e){return new NotExpr(e)}function fn(e,t,r){return void 0===r&&(r=null),new FunctionExpr(e,t,r)}function literal(e,t){return void 0===t&&(t=null),new LiteralExpr(e,t)}function camelCaseToDashCase(e){return StringWrapper$1.replaceAllMapped(e,CAMEL_CASE_REGEXP,function(e){return"-"+e[1].toLowerCase()})}function splitAtColon(e,t){var r=e.indexOf(":");return r==-1?t:[e.slice(0,r).trim(),e.slice(r+1).trim()]}function sanitizeIdentifier(e){return StringWrapper$1.replaceAll(e,/\W/g,"_")}function visitValue(e,t,r){return isArray$2(e)?t.visitArray(e,r):isStrictStringMap$1(e)?t.visitStringMap(e,r):isBlank$1(e)||isPrimitive$1(e)?t.visitPrimitive(e,r):t.visitOther(e,r)}function assetUrl(e,t,r){return void 0===t&&(t=null),void 0===r&&(r="src"),null==t?"asset:@angular/lib/"+e+"/index":"asset:@angular/lib/"+e+"/src/"+t}function createDiTokenExpression(e){return isPresent$1(e.value)?literal(e.value):e.identifierIsInstance?importExpr(e.identifier).instantiate([],importType(e.identifier,[],[TypeModifier.Const])):importExpr(e.identifier)}function unimplemented$1(){throw new Error("unimplemented")}function createHostComponentMeta(e){var t=CssSelector.parse(e.selector)[0].getMatchingElementTemplate();return CompileDirectiveMetadata.create({type:new CompileTypeMetadata({reference:Object,name:e.type.name+"_Host",moduleUrl:e.type.moduleUrl,isHost:!0}),template:new CompileTemplateMetadata({encapsulation:ViewEncapsulation.None,template:t,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[],animations:[]}),changeDetection:ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],viewQueries:[]})}function removeIdentifierDuplicates(e){var t=new Map;return e.forEach(function(e){t.get(e.identifier.reference)||t.set(e.identifier.reference,e)}),MapWrapper$1.values(t)}function _normalizeArray(e){return isPresent$1(e)?e:[]}function isStaticSymbol(e){return isStringMap$1(e)&&isPresent$1(e.name)&&isPresent$1(e.filePath)}function isWhitespace(e){return e>=$TAB&&e<=$SPACE||e==$NBSP}function isDigit(e){return $0<=e&&e<=$9}function isAsciiLetter(e){return e>=$a&&e<=$z||e>=$A&&e<=$Z}function isAsciiHexDigit(e){return e>=$a&&e<=$f||e>=$A&&e<=$F||isDigit(e)}function assertArrayOfStrings(e,t){if(isDevMode()&&!isBlank$1(t)){if(!isArray$2(t))throw new Error("Expected '"+e+"' to be an array of strings.");for(var r=0;r<t.length;r+=1)if(!isString$1(t[r]))throw new Error("Expected '"+e+"' to be an array of strings.")}}function assertInterpolationSymbols(e,t){if(isPresent$1(t)&&(!isArray$2(t)||2!=t.length))throw new Error("Expected '"+e+"' to be an array, [start, end].");if(isDevMode()&&!isBlank$1(t)){var r=t[0],n=t[1];INTERPOLATION_BLACKLIST_REGEXPS.forEach(function(e){if(e.test(r)||e.test(n))throw new Error("['"+r+"', '"+n+"'] contains unusable interpolation symbol.")})}}function newCharacterToken(e,t){return new Token(e,TokenType.Character,t,StringWrapper$1.fromCharCode(t))}function newIdentifierToken(e,t){return new Token(e,TokenType.Identifier,0,t)}function newKeywordToken(e,t){return new Token(e,TokenType.Keyword,0,t)}function newOperatorToken(e,t){return new Token(e,TokenType.Operator,0,t)}function newStringToken(e,t){return new Token(e,TokenType.String,0,t)}function newNumberToken(e,t){return new Token(e,TokenType.Number,t,"")}function newErrorToken(e,t){return new Token(e,TokenType.Error,0,t)}function isIdentifierStart(e){return $a<=e&&e<=$z||$A<=e&&e<=$Z||e==$_||e==$$}function isIdentifier(e){if(0==e.length)return!1;var t=new _Scanner(e);if(!isIdentifierStart(t.peek))return!1;for(t.advance();t.peek!==$EOF;){if(!isIdentifierPart(t.peek))return!1;t.advance()}return!0}function isIdentifierPart(e){return isAsciiLetter(e)||isDigit(e)||e==$_||e==$$}function isExponentStart(e){return e==$e||e==$E}function isExponentSign(e){return e==$MINUS||e==$PLUS}function isQuote(e){return e===$SQ||e===$DQ||e===$BT}function unescape(e){switch(e){case $n:return $LF;case $f:return $FF;case $r:return $CR;case $t:return $TAB;case $v:return $VTAB;default:return e}}function _createInterpolateRegExp(e){var t=escapeRegExp$1(e.start)+"([\\s\\S]*?)"+escapeRegExp$1(e.end);return new RegExp(t,"g")}function visitAll(e,t,r){void 0===r&&(r=null);var n=[];return t.forEach(function(t){var i=t.visit(e,r);i&&n.push(i)}),n}function splitNsName(e){if(":"!=e[0])return[null,e];var t=e.indexOf(":",1);if(t==-1)throw new Error('Unsupported format "'+e+'" expecting ":namespace:name"');return[e.slice(1,t),e.slice(t+1)]}function getNsPrefix(e){return null===e?null:splitNsName(e)[0]}function mergeNsAndName(e,t){return e?":"+e+":"+t:t}function tokenize(e,t,r,n,i){return void 0===n&&(n=!1),void 0===i&&(i=DEFAULT_INTERPOLATION_CONFIG),new _Tokenizer(new ParseSourceFile(e,t),r,n,i).tokenize()}function _unexpectedCharacterErrorMsg(e){var t=e===$EOF?"EOF":String.fromCharCode(e);return'Unexpected character "'+t+'"'}function _unknownEntityErrorMsg(e){return'Unknown entity "'+e+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}function isNotWhitespace(e){return!isWhitespace(e)||e===$EOF}function isNameEnd(e){return isWhitespace(e)||e===$GT||e===$SLASH||e===$SQ||e===$DQ||e===$EQ}function isPrefixEnd(e){return(e<$a||$z<e)&&(e<$A||$Z<e)&&(e<$0||e>$9)}function isDigitEntityEnd(e){return e==$SEMICOLON||e==$EOF||!isAsciiHexDigit(e)}function isNamedEntityEnd(e){return e==$SEMICOLON||e==$EOF||!isAsciiLetter(e)}function isExpansionFormStart(e,t,r){var n=!!r&&e.indexOf(r.start,t)==t;return e.charCodeAt(t)==$LBRACE&&!n}function isExpansionCaseStart(e){return e===$EQ||isAsciiLetter(e)}function compareCharCodeCaseInsensitive(e,t){return toUpperCaseCharCode(e)==toUpperCaseCharCode(t)}function toUpperCaseCharCode(e){return e>=$a&&e<=$z?e-$a+$A:e}function mergeTextTokens(e){for(var t,r=[],n=0;n<e.length;n++){var i=e[n];t&&t.type==TokenType$1.TEXT&&i.type==TokenType$1.TEXT?(t.parts[0]+=i.parts[0],t.sourceSpan.end=i.sourceSpan.end):(t=i,r.push(t))}return r}function lastOnStack(e,t){return e.length>0&&e[e.length-1]===t}function digestMessage(e){return sha1(serializeNodes(e.nodes).join("")+("["+e.meaning+"]"))}function serializeNodes(e){return e.map(function(e){return e.visit(serializerVisitor,null)})}function sha1(e){var t=utf8Encode(e),r=stringToWords32(t),n=8*t.length,i=new Array(80),o=[1732584193,4023233417,2562383102,271733878,3285377520],s=o[0],a=o[1],u=o[2],c=o[3],l=o[4];r[n>>5]|=128<<24-n%32,r[(n+64>>9<<4)+15]=n;for(var p=0;p<r.length;p+=16){for(var h=[s,a,u,c,l],f=h[0],d=h[1],m=h[2],y=h[3],v=h[4],_=0;_<80;_++){_<16?i[_]=r[p+_]:i[_]=rol32(i[_-3]^i[_-8]^i[_-14]^i[_-16],1);var g=fk(_,a,u,c),b=g[0],E=g[1],S=[rol32(s,5),b,l,E,i[_]].reduce(add32);A=[c,u,rol32(a,30),s,S],l=A[0],c=A[1],u=A[2],a=A[3],s=A[4]}P=[add32(s,f),add32(a,d),add32(u,m),add32(c,y),add32(l,v)],s=P[0],a=P[1],u=P[2],c=P[3],l=P[4]}for(var w=words32ToString([s,a,u,c,l]),C="",p=0;p<w.length;p++){var T=w.charCodeAt(p);C+=(T>>>4&15).toString(16)+(15&T).toString(16)}return C.toLowerCase();var A,P}function utf8Encode(e){for(var t="",r=0;r<e.length;r++){var n=decodeSurrogatePairs(e,r);n<=127?t+=String.fromCharCode(n):n<=2047?t+=String.fromCharCode(192|n>>>6,128|63&n):n<=65535?t+=String.fromCharCode(224|n>>>12,128|n>>>6&63,128|63&n):n<=2097151&&(t+=String.fromCharCode(240|n>>>18,128|n>>>12&63,128|n>>>6&63,128|63&n))}return t}function decodeSurrogatePairs(e,t){if(t<0||t>=e.length)throw new Error("index="+t+' is out of range in "'+e+'"');var r,n=e.charCodeAt(t);return n>=55296&&n<=57343&&e.length>t+1&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?1024*(n-55296)+r-56320+65536:n}function stringToWords32(e){for(var t=Array(e.length>>>2),r=0;r<t.length;r++)t[r]=0;for(var r=0;r<e.length;r++)t[r>>>2]|=(255&e.charCodeAt(r))<<8*(3-r&3);return t}function words32ToString(e){for(var t="",r=0;r<4*e.length;r++)t+=String.fromCharCode(e[r>>>2]>>>8*(3-r&3)&255);return t}function fk(e,t,r,n){return e<20?[t&r|~t&n,1518500249]:e<40?[t^r^n,1859775393]:e<60?[t&r|t&n|r&n,2400959708]:[t^r^n,3395469782]}function add32(e,t){var r=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(r>>16);return n<<16|65535&r}function rol32(e,t){return e<<t|e>>>32-t}function getHtmlTagDefinition(e){return TAG_DEFINITIONS[e.toLowerCase()]||_DEFAULT_TAG_DEFINITION}function createI18nMessageFactory(e){var t=new _I18nVisitor(_expParser,e);return function(e,r,n){return t.toI18nMessage(e,r,n)}}function _extractPlaceholderName(e){return e.split(_CUSTOM_PH_EXP)[1]}function extractMessages(e,t,r,n){var i=new _Visitor(r,n);return i.extract(e,t)}function mergeTranslations(e,t,r,n,i){var o=new _Visitor(n,i);return o.merge(e,t,r)}function _isOpeningComment(e){return e instanceof Comment&&e.value&&e.value.startsWith("i18n")}function _isClosingComment(e){return e instanceof Comment&&e.value&&"/i18n"===e.value}function _getI18nAttr(e){return e.attrs.find(function(e){return e.name===_I18N_ATTR})||null}function _splitMeaningAndDesc(e){if(!e)return["",""];var t=e.indexOf("|");return t==-1?["",e]:[e.slice(0,t),e.slice(t+1)]}function getXmlTagDefinition(e){return _TAG_DEFINITION}function extractPlaceholders(e){var t=e.getMessageMap(),r={};return Object.keys(t).forEach(function(e){r[e]=t[e].placeholders}),r}function extractPlaceholderToIds(e){var t=e.getMessageMap(),r={};return Object.keys(t).forEach(function(e){r[e]=t[e].placeholderToMsgIds}),r}function serialize(e){return e.map(function(e){return e.visit(_visitor)}).join("")}function _escapeXml(e){return _ESCAPED_CHARS.reduce(function(e,t){return e.replace(t[0],t[1])},e)}function resolveIdentifier(e){return new CompileIdentifierMetadata({name:e.name,moduleUrl:e.moduleUrl,reference:reflector$1.resolveIdentifier(e.name,e.moduleUrl,e.runtime)})}function identifierToken(e){return new CompileTokenMetadata({identifier:e})}function resolveIdentifierToken(e){return identifierToken(resolveIdentifier(e))}function resolveEnumIdentifier(e,t){var r=reflector$1.resolveEnum(e.reference,t);return new CompileIdentifierMetadata({name:e.name+"."+t,moduleUrl:e.moduleUrl,reference:r})}function expandNodes(e){var t=new _Expander;return new ExpansionResult(visitAll(t,e),t.isExpanded,t.errors)}function _expandPluralForm(e,t){var r=e.cases.map(function(e){PLURAL_CASES.indexOf(e.value)!=-1||e.value.match(/^=\d+$/)||t.push(new ExpansionError(e.valueSourceSpan,'Plural cases should be "=<number>" or one of '+PLURAL_CASES.join(", ")));var r=expandNodes(e.expression);return t.push.apply(t,r.errors),new Element$1("template",[new Attribute$1("ngPluralCase",""+e.value,e.valueSourceSpan)],r.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),n=new Attribute$1("[ngPlural]",e.switchValue,e.switchValueSourceSpan);return new Element$1("ng-container",[n],r,e.sourceSpan,e.sourceSpan,e.sourceSpan)}function _expandDefaultForm(e,t){var r=e.cases.map(function(e){var r=expandNodes(e.expression);return t.push.apply(t,r.errors),new Element$1("template",[new Attribute$1("ngSwitchCase",""+e.value,e.valueSourceSpan)],r.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),n=new Attribute$1("[ngSwitch]",e.switchValue,e.switchValueSourceSpan);return new Element$1("ng-container",[n],r,e.sourceSpan,e.sourceSpan,e.sourceSpan)}function _transformProvider(e,t){var r=t.useExisting,n=t.useValue,i=t.deps;return new CompileProviderMetadata({token:e.token,useClass:e.useClass,useExisting:r,useFactory:e.useFactory,useValue:n,deps:i,multi:e.multi})}function _transformProviderAst(e,t){var r=t.eager,n=t.providers;
return new ProviderAst(e.token,e.multiProvider,e.eager||r,n,e.providerType,e.lifecycleHooks,e.sourceSpan)}function _normalizeProviders$1(e,t,r,n){return void 0===n&&(n=null),isBlank$1(n)&&(n=[]),isPresent$1(e)&&e.forEach(function(e){if(isArray$2(e))_normalizeProviders$1(e,t,r,n);else{var i=void 0;e instanceof CompileProviderMetadata?i=e:e instanceof CompileTypeMetadata?i=new CompileProviderMetadata({token:new CompileTokenMetadata({identifier:e}),useClass:e}):r.push(new ProviderError("Unknown provider type "+e,t)),isPresent$1(i)&&n.push(i)}}),n}function _resolveProvidersFromDirectives(e,t,r){var n=new Map;e.forEach(function(e){var i=new CompileProviderMetadata({token:new CompileTokenMetadata({identifier:e.type}),useClass:e.type});_resolveProviders([i],e.isComponent?ProviderAstType.Component:ProviderAstType.Directive,!0,t,r,n)});var i=e.filter(function(e){return e.isComponent}).concat(e.filter(function(e){return!e.isComponent}));return i.forEach(function(e){_resolveProviders(_normalizeProviders$1(e.providers,t,r),ProviderAstType.PublicService,!1,t,r,n),_resolveProviders(_normalizeProviders$1(e.viewProviders,t,r),ProviderAstType.PrivateService,!1,t,r,n)}),n}function _resolveProviders(e,t,r,n,i,o){e.forEach(function(e){var s=o.get(e.token.reference);if(isPresent$1(s)&&s.multiProvider!==e.multi&&i.push(new ProviderError("Mixing multi and non multi provider is not possible for token "+s.token.name,n)),isBlank$1(s)){var a=e.token.identifier&&e.token.identifier instanceof CompileTypeMetadata?e.token.identifier.lifecycleHooks:[];s=new ProviderAst(e.token,e.multi,r||a.length>0,[e],t,a,n),o.set(e.token.reference,s)}else e.multi||ListWrapper$1.clear(s.providers),s.providers.push(e)})}function _getViewQueries(e){var t=new Map;return isPresent$1(e.viewQueries)&&e.viewQueries.forEach(function(e){return _addQueryToTokenMap(t,e)}),e.type.diDeps.forEach(function(e){isPresent$1(e.viewQuery)&&_addQueryToTokenMap(t,e.viewQuery)}),t}function _getContentQueries(e){var t=new Map;return e.forEach(function(e){isPresent$1(e.queries)&&e.queries.forEach(function(e){return _addQueryToTokenMap(t,e)}),e.type.diDeps.forEach(function(e){isPresent$1(e.query)&&_addQueryToTokenMap(t,e.query)})}),t}function _addQueryToTokenMap(e,t){t.selectors.forEach(function(r){var n=e.get(r.reference);isBlank$1(n)&&(n=[],e.set(r.reference,n)),n.push(t)})}function isStyleUrlResolvable(e){if(isBlank$1(e)||0===e.length||"/"==e[0])return!1;var t=e.match(_urlWithSchemaRe);return null===t||"package"==t[1]||"asset"==t[1]}function extractStyleUrls(e,t,r){var n=[],i=StringWrapper$1.replaceAllMapped(r,_cssImportRe,function(r){var i=isPresent$1(r[1])?r[1]:r[2];return isStyleUrlResolvable(i)?(n.push(e.resolve(t,i)),""):r[0]});return new StyleWithImports(i,n)}function preparseElement(e){var t=null,r=null,n=null,i=!1,o=null;e.attrs.forEach(function(e){var s=e.name.toLowerCase();s==NG_CONTENT_SELECT_ATTR?t=e.value:s==LINK_STYLE_HREF_ATTR?r=e.value:s==LINK_STYLE_REL_ATTR?n=e.value:e.name==NG_NON_BINDABLE_ATTR?i=!0:e.name==NG_PROJECT_AS&&e.value.length>0&&(o=e.value)}),t=normalizeNgContentSelect(t);var s=e.name.toLowerCase(),a=PreparsedElementType.OTHER;return splitNsName(s)[1]==NG_CONTENT_ELEMENT?a=PreparsedElementType.NG_CONTENT:s==STYLE_ELEMENT?a=PreparsedElementType.STYLE:s==SCRIPT_ELEMENT?a=PreparsedElementType.SCRIPT:s==LINK_ELEMENT&&n==LINK_STYLE_REL_VALUE&&(a=PreparsedElementType.STYLESHEET),new PreparsedElement(a,t,r,i,o)}function normalizeNgContentSelect(e){return null===e||0===e.length?"*":e}function splitClasses(e){return e.trim().split(/\s+/g)}function createElementCssSelector(e,t){var r=new CssSelector,n=splitNsName(e)[1];r.setElement(n);for(var i=0;i<t.length;i++){var o=t[i][0],s=splitNsName(o)[1],a=t[i][1];if(r.addAttribute(s,a),o.toLowerCase()==CLASS_ATTR){var u=splitClasses(a);u.forEach(function(e){return r.addClassName(e)})}}return r}function unimplemented$2(){throw new Error("unimplemented")}function parseAnimationEntry(e){var t=[],r={},n=[],i=[];e.definitions.forEach(function(e){e instanceof CompileAnimationStateDeclarationMetadata?_parseAnimationDeclarationStates(e,t).forEach(function(e){i.push(e),r[e.stateName]=e.styles}):n.push(e)});var o=n.map(function(e){return _parseAnimationStateTransition(e,r,t)}),s=new AnimationEntryAst(e.name,i,o);return new ParsedAnimationResult(s,t)}function parseAnimationOutputName(e,t){var r,n=e.split("."),i="";if(n.length>1){r=n[0];var o=n[1];switch(o){case"start":case"done":i=o;break;default:t.push(new AnimationParseError('The provided animation output phase value "'+o+'" for "@'+r+'" is not supported (use start or done)'))}}else r=e,t.push(new AnimationParseError("The animation trigger output event (@"+r+") is missing its phase value name (start or done are currently supported)"));return new AnimationOutput$1(r,i,e)}function _parseAnimationDeclarationStates(e,t){var r=[];e.styles.styles.forEach(function(e){isStringMap$1(e)?r.push(e):t.push(new AnimationParseError("State based animations cannot contain references to other states"))});var n=new AnimationStylesAst(r),i=e.stateNameExpr.split(/\s*,\s*/);return i.map(function(e){return new AnimationStateDeclarationAst(e,n)})}function _parseAnimationStateTransition(e,t,r){var n=new StylesCollection,i=[],o=e.stateChangeExpr.split(/\s*,\s*/);o.forEach(function(e){_parseAnimationTransitionExpr(e,r).forEach(function(e){i.push(e)})});var s=_normalizeAnimationEntry(e.steps),a=_normalizeStyleSteps(s,t,r),u=_parseTransitionAnimation(a,0,n,t,r);0==r.length&&_fillAnimationAstStartingKeyframes(u,n,r);var c=u instanceof AnimationSequenceAst?u:new AnimationSequenceAst([u]);return new AnimationStateTransitionAst(i,c)}function _parseAnimationTransitionExpr(e,t){var r=[],n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(!isPresent$1(n)||n.length<4)return t.push(new AnimationParseError("the provided "+e+" is not of a supported format")),r;var i=n[1],o=n[2],s=n[3];r.push(new AnimationStateTransitionExpression(i,s));var a=i==ANY_STATE$1&&s==ANY_STATE$1;return"<"!=o[0]||a||r.push(new AnimationStateTransitionExpression(s,i)),r}function _normalizeAnimationEntry(e){return isArray$2(e)?new CompileAnimationSequenceMetadata(e):e}function _normalizeStyleMetadata(e,t,r){var n=[];return e.styles.forEach(function(e){isString$1(e)?ListWrapper$1.addAll(n,_resolveStylesFromState(e,t,r)):n.push(e)}),n}function _normalizeStyleSteps(e,t,r){var n=_normalizeStyleStepEntry(e,t,r);return new CompileAnimationSequenceMetadata(n)}function _mergeAnimationStyles(e,t){if(isStringMap$1(t)&&e.length>0){var r=e.length-1,n=e[r];if(isStringMap$1(n))return void(e[r]=StringMapWrapper$1.merge(n,t))}e.push(t)}function _normalizeStyleStepEntry(e,t,r){var n;if(!(e instanceof CompileAnimationWithStepsMetadata))return[e];n=e.steps;var i,o=[];return n.forEach(function(e){if(e instanceof CompileAnimationStyleMetadata)isPresent$1(i)||(i=[]),_normalizeStyleMetadata(e,t,r).forEach(function(e){_mergeAnimationStyles(i,e)});else{if(isPresent$1(i)&&(o.push(new CompileAnimationStyleMetadata(0,i)),i=null),e instanceof CompileAnimationAnimateMetadata){var n=e.styles;n instanceof CompileAnimationStyleMetadata?n.styles=_normalizeStyleMetadata(n,t,r):n instanceof CompileAnimationKeyframesSequenceMetadata&&n.steps.forEach(function(e){e.styles=_normalizeStyleMetadata(e,t,r)})}else if(e instanceof CompileAnimationWithStepsMetadata){var s=_normalizeStyleStepEntry(e,t,r);e=e instanceof CompileAnimationGroupMetadata?new CompileAnimationGroupMetadata(s):new CompileAnimationSequenceMetadata(s)}o.push(e)}}),isPresent$1(i)&&o.push(new CompileAnimationStyleMetadata(0,i)),o}function _resolveStylesFromState(e,t,r){var n=[];if(":"!=e[0])r.push(new AnimationParseError('Animation states via styles must be prefixed with a ":"'));else{var i=e.substring(1),o=t[i];isPresent$1(o)?o.styles.forEach(function(e){isStringMap$1(e)&&n.push(e)}):r.push(new AnimationParseError('Unable to apply styles due to missing a state: "'+i+'"'))}return n}function _parseAnimationKeyframes(e,t,r,n,i){var o=e.steps.length,s=0;e.steps.forEach(function(e){return s+=isPresent$1(e.offset)?1:0}),s>0&&s<o&&(i.push(new AnimationParseError("Not all style() entries contain an offset for the provided keyframe()")),s=o);var a=o-1,u=0==s?1/a:0,c=[],l=0,p=!1,h=0;e.steps.forEach(function(e){var t=e.offset,r={};e.styles.forEach(function(e){StringMapWrapper$1.forEach(e,function(e,t){"offset"!=t&&(r[t]=e)})}),isPresent$1(t)?p=p||t<h:t=l==a?_TERMINAL_KEYFRAME:u*l,c.push([t,r]),h=t,l++}),p&&ListWrapper$1.sort(c,function(e,t){return e[0]<=t[0]?-1:1});var f,d=c[0];d[0]!=_INITIAL_KEYFRAME&&ListWrapper$1.insert(c,0,d=[_INITIAL_KEYFRAME,{}]);var m=d[1];a=c.length-1;var y=c[a];y[0]!=_TERMINAL_KEYFRAME&&(c.push(y=[_TERMINAL_KEYFRAME,{}]),a++);var v=y[1];for(f=1;f<=a;f++){var _=c[f],g=_[1];StringMapWrapper$1.forEach(g,function(e,t){isPresent$1(m[t])||(m[t]=FILL_STYLE_FLAG$1)})}for(f=a-1;f>=0;f--){var _=c[f],g=_[1];StringMapWrapper$1.forEach(g,function(e,t){isPresent$1(v[t])||(v[t]=e)})}return c.map(function(e){return new AnimationKeyframeAst(e[0],new AnimationStylesAst([e[1]]))})}function _parseTransitionAnimation(e,t,r,n,i){var o,s=0,a=t;if(e instanceof CompileAnimationWithStepsMetadata){var u,c=0,l=[],p=e instanceof CompileAnimationGroupMetadata;if(e.steps.forEach(function(e){var o=p?a:t;if(e instanceof CompileAnimationStyleMetadata)return e.styles.forEach(function(e){var t=e;StringMapWrapper$1.forEach(t,function(e,t){r.insertAtTime(t,o,e)})}),void(u=e.styles);var h=_parseTransitionAnimation(e,o,r,n,i);if(isPresent$1(u)){if(e instanceof CompileAnimationWithStepsMetadata){var f=new AnimationStylesAst(u);l.push(new AnimationStepAst(f,[],0,0,""))}else{var d=h;ListWrapper$1.addAll(d.startingStyles.styles,u)}u=null}var m=h.playTime;t+=m,s+=m,c=Math$4.max(m,c),l.push(h)}),isPresent$1(u)){var h=new AnimationStylesAst(u);l.push(new AnimationStepAst(h,[],0,0,""))}p?(o=new AnimationGroupAst(l),s=c,t=a+s):o=new AnimationSequenceAst(l)}else if(e instanceof CompileAnimationAnimateMetadata){var f,d=_parseTimeExpression(e.timings,i),m=e.styles;if(m instanceof CompileAnimationKeyframesSequenceMetadata)f=_parseAnimationKeyframes(m,t,r,n,i);else{var y=m,v=_TERMINAL_KEYFRAME,_=new AnimationStylesAst(y.styles),g=new AnimationKeyframeAst(v,_);f=[g]}o=new AnimationStepAst(new AnimationStylesAst([]),f,d.duration,d.delay,d.easing),s=d.duration+d.delay,t+=s,f.forEach(function(e){return e.styles.styles.forEach(function(e){return StringMapWrapper$1.forEach(e,function(e,n){return r.insertAtTime(n,t,e)})})})}else o=new AnimationStepAst(null,[],0,0,"");return o.playTime=s,o.startTime=a,o}function _fillAnimationAstStartingKeyframes(e,t,r){if(e instanceof AnimationStepAst&&e.keyframes.length>0){var n=e.keyframes;if(1==n.length){var i=n[0],o=_createStartKeyframeFromEndKeyframe(i,e.startTime,e.playTime,t,r);e.keyframes=[o,i]}}else e instanceof AnimationWithStepsAst&&e.steps.forEach(function(e){return _fillAnimationAstStartingKeyframes(e,t,r)})}function _parseTimeExpression(e,t){var r,n=/^([\.\d]+)(m?s)(?:\s+([\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?/i,i=0,o=null;if(isString$1(e)){var s=e.match(n);if(null===s)return t.push(new AnimationParseError('The provided timing value "'+e+'" is invalid.')),new _AnimationTimings(0,0,null);var a=NumberWrapper$1.parseFloat(s[1]),u=s[2];"s"==u&&(a*=_ONE_SECOND),r=Math$4.floor(a);var c=s[3],l=s[4];if(isPresent$1(c)){var p=NumberWrapper$1.parseFloat(c);isPresent$1(l)&&"s"==l&&(p*=_ONE_SECOND),i=Math$4.floor(p)}var h=s[5];isBlank$1(h)||(o=h)}else r=e;return new _AnimationTimings(r,i,o)}function _createStartKeyframeFromEndKeyframe(e,t,r,n,i){var o={},s=t+r;return e.styles.styles.forEach(function(e){StringMapWrapper$1.forEach(e,function(e,r){if("offset"!=r){var a,u,c,l=n.indexOfAtOrBeforeTime(r,t);isPresent$1(l)?(a=n.getByIndex(r,l),c=a.value,u=n.getByIndex(r,l+1)):c=FILL_STYLE_FLAG$1,isPresent$1(u)&&!u.matches(s,e)&&i.push(new AnimationParseError('The animated CSS property "'+r+'" unexpectedly changes between steps "'+a.time+'ms" and "'+s+'ms" at "'+u.time+'ms"')),o[r]=c}})}),new AnimationKeyframeAst(_INITIAL_KEYFRAME,new AnimationStylesAst([o]))}function _compareToAnimationStateExpr(e,t){var r=literal(EMPTY_ANIMATION_STATE);switch(t){case EMPTY_ANIMATION_STATE:return e.equals(r);case ANY_STATE$1:return literal(!0);default:return e.equals(literal(t))}}function _isEndStateAnimateStep(e){if(e instanceof AnimationStepAst&&e.duration>0&&2==e.keyframes.length){var t=_getStylesArray(e.keyframes[0])[0],r=_getStylesArray(e.keyframes[1])[0];return StringMapWrapper$1.isEmpty(t)&&StringMapWrapper$1.isEmpty(r)}return!1}function _getStylesArray(e){return e.styles.styles}function _validateAnimationProperties(e,t){var r=new _AnimationTemplatePropertyVisitor(e);return templateVisitAll(r,t),new AnimationPropertyValidationOutput(r.outputs,r.errors)}function convertValueToOutputAst(e,t){return void 0===t&&(t=null),visitValue(e,new _ValueOutputAstTransformer,t)}function getPropertyInView(e,t,r){if(t===r)return e;for(var n=THIS_EXPR,i=t;i!==r&&isPresent$1(i.declarationElement.view);)i=i.declarationElement.view,n=n.prop("parent");if(i!==r)throw new Error("Internal error: Could not calculate a property in a parent view: "+e);if(e instanceof ReadPropExpr){var o=e;(r.fields.some(function(e){return e.name==o.name})||r.getters.some(function(e){return e.name==o.name}))&&(n=n.cast(r.classType))}return replaceVarInExpression(THIS_EXPR.name,n,e)}function injectFromViewParentInjector(e,t){var r=[createDiTokenExpression(e)];return t&&r.push(NULL_EXPR),THIS_EXPR.prop("parentInjector").callMethod("get",r)}function getViewFactoryName(e,t){return"viewFactory_"+e.type.name+t}function createFlatArray(e){for(var t=[],r=literalArr([]),n=0;n<e.length;n++){var i=e[n];i.type instanceof ArrayType?(t.length>0&&(r=r.callMethod(BuiltinMethod.ConcatArray,[literalArr(t)]),t=[]),r=r.callMethod(BuiltinMethod.ConcatArray,[i])):t.push(i)}return t.length>0&&(r=r.callMethod(BuiltinMethod.ConcatArray,[literalArr(t)])),r}function createPureProxy(e,t,r,n){n.fields.push(new ClassField(r.name,null));var i=t<Identifiers.pureProxies.length?Identifiers.pureProxies[t]:null;if(isBlank$1(i))throw new Error("Unsupported number of argument for pure functions: "+t);n.createMethod.addStmt(THIS_EXPR.prop(r.name).set(importExpr(resolveIdentifier(i)).callFn([e])).toStmt())}function createQueryValues(e){return ListWrapper$1.flatten(e.values.map(function(e){return e instanceof ViewQueryValues?mapNestedViews(e.view.declarationElement.appElement,e.view,createQueryValues(e)):e}))}function mapNestedViews(e,t,r){var n=r.map(function(e){return replaceVarInExpression(THIS_EXPR.name,variable("nestedView"),e)});return e.callMethod("mapNestedViews",[variable(t.className),fn([new FnParam("nestedView",t.classType)],[new ReturnStatement(literalArr(n))],DYNAMIC_TYPE)])}function createQueryList(e,t,r,n){n.fields.push(new ClassField(r,importType(resolveIdentifier(Identifiers.QueryList),[DYNAMIC_TYPE])));var i=THIS_EXPR.prop(r);return n.createMethod.addStmt(THIS_EXPR.prop(r).set(importExpr(resolveIdentifier(Identifiers.QueryList),[DYNAMIC_TYPE]).instantiate([])).toStmt()),i}function addQueryToTokenMap(e,t){t.meta.selectors.forEach(function(r){var n=e.get(r.reference);isBlank$1(n)&&(n=[],e.set(r.reference,n)),n.push(t)})}function _enumExpression(e,t){return importExpr(resolveEnumIdentifier(e,t))}function createInjectInternalCondition(e,t,r,n){var i;return i=t>0?literal(e).lowerEquals(InjectMethodVars.requestNodeIndex).and(InjectMethodVars.requestNodeIndex.lowerEquals(literal(e+t))):literal(e).identical(InjectMethodVars.requestNodeIndex),new IfStmt(InjectMethodVars.token.identical(createDiTokenExpression(r.token)).and(i),[new ReturnStatement(n)])}function createProviderProperty(e,t,r,n,i,o){var s,a,u=o.view;if(n?(s=literalArr(r),a=new ArrayType(DYNAMIC_TYPE)):(s=r[0],a=r[0].type),isBlank$1(a)&&(a=DYNAMIC_TYPE),i)u.fields.push(new ClassField(e,a)),u.createMethod.addStmt(THIS_EXPR.prop(e).set(s).toStmt());else{var c="_"+e;u.fields.push(new ClassField(c,a));var l=new CompileMethod(u);l.resetDebugInfo(o.nodeIndex,o.sourceAst),l.addStmt(new IfStmt(THIS_EXPR.prop(c).isBlank(),[THIS_EXPR.prop(c).set(s).toStmt()])),l.addStmt(new ReturnStatement(THIS_EXPR.prop(c))),u.getters.push(new ClassGetter(e,l.finish(),a))}return THIS_EXPR.prop(e)}function _findPipeMeta(e,t){for(var r=null,n=e.pipeMetas.length-1;n>=0;n--){var i=e.pipeMetas[n];if(i.name==t){r=i;break}}if(isBlank$1(r))throw new Error("Illegal state: Could not find pipe "+t+" although the parser should have detected this error!");return r}function getViewType(e,t){return t>0?ViewType$1.EMBEDDED:e.type.isHost?ViewType$1.HOST:ViewType$1.COMPONENT}function convertCdExpressionToIr(e,t,r,n,i){var o=new _AstToIrVisitor(e,t,n,i),s=r.visit(o,_Mode.Expression);return new ExpressionWithWrappedValueInfo(s,o.needsValueUnwrapper,o.temporaryCount)}function convertCdStatementToIr(e,t,r,n){var i=new _AstToIrVisitor(e,t,null,n),o=[];return flattenStatements(r.visit(i,_Mode.Statement),o),prependTemporaryDecls(i.temporaryCount,n,o),o}function temporaryName(e,t){return"tmp_"+e+"_"+t}function temporaryDeclaration(e,t){return new DeclareVarStmt(temporaryName(e,t),NULL_EXPR)}function prependTemporaryDecls(e,t,r){for(var n=e-1;n>=0;n--)r.unshift(temporaryDeclaration(t,n))}function ensureStatementMode(e,t){if(e!==_Mode.Statement)throw new Error("Expected a statement, but saw "+t)}function ensureExpressionMode(e,t){if(e!==_Mode.Expression)throw new Error("Expected an expression, but saw "+t)}function convertToStatementIfNeeded(e,t){return e===_Mode.Statement?t.toStmt():t}function flattenStatements(e,t){isArray$2(e)?e.forEach(function(e){return flattenStatements(e,t)}):t.push(e)}function collectEventListeners(e,t,r){var n=[];return e.forEach(function(e){r.view.bindings.push(new CompileBinding(r,e));var t=CompileEventListener.getOrCreate(r,e.target,e.name,n);t.addAction(e,null,null)}),t.forEach(function(e){var t=r.instances.get(identifierToken(e.directive.type).reference);e.hostEvents.forEach(function(i){r.view.bindings.push(new CompileBinding(r,i));var o=CompileEventListener.getOrCreate(r,i.target,i.name,n);o.addAction(i,e.directive,t)})}),n.forEach(function(e){return e.finishMethod()}),n}function bindDirectiveOutputs(e,t,r){StringMapWrapper$1.forEach(e.directive.outputs,function(e,n){r.filter(function(t){return t.eventName==e}).forEach(function(e){e.listenToDirective(t,n)})})}function bindRenderOutputs(e){e.forEach(function(e){return e.listenToRenderer()})}function bindAnimationOutputs(e){e.forEach(function(e){e.listener.listenToAnimation(e.output)})}function convertStmtIntoExpression(e){return e instanceof ExpressionStatement?e.expr:e instanceof ReturnStatement?e.value:null}function santitizeEventName(e){return StringWrapper$1.replaceAll(e,/[^a-zA-Z_]/g,"_")}function bindDirectiveDetectChangesLifecycleCallbacks(e,t,r){var n=r.view,i=n.detectChangesInInputsMethod,o=e.directive.type.lifecycleHooks;o.indexOf(LifecycleHooks$1.OnChanges)!==-1&&e.inputs.length>0&&i.addStmt(new IfStmt(DetectChangesVars.changes.notIdentical(NULL_EXPR),[t.callMethod("ngOnChanges",[DetectChangesVars.changes]).toStmt()])),o.indexOf(LifecycleHooks$1.OnInit)!==-1&&i.addStmt(new IfStmt(STATE_IS_NEVER_CHECKED.and(NOT_THROW_ON_CHANGES),[t.callMethod("ngOnInit",[]).toStmt()])),o.indexOf(LifecycleHooks$1.DoCheck)!==-1&&i.addStmt(new IfStmt(NOT_THROW_ON_CHANGES,[t.callMethod("ngDoCheck",[]).toStmt()]))}function bindDirectiveAfterContentLifecycleCallbacks(e,t,r){var n=r.view,i=e.type.lifecycleHooks,o=n.afterContentLifecycleCallbacksMethod;o.resetDebugInfo(r.nodeIndex,r.sourceAst),i.indexOf(LifecycleHooks$1.AfterContentInit)!==-1&&o.addStmt(new IfStmt(STATE_IS_NEVER_CHECKED,[t.callMethod("ngAfterContentInit",[]).toStmt()])),i.indexOf(LifecycleHooks$1.AfterContentChecked)!==-1&&o.addStmt(t.callMethod("ngAfterContentChecked",[]).toStmt())}function bindDirectiveAfterViewLifecycleCallbacks(e,t,r){var n=r.view,i=e.type.lifecycleHooks,o=n.afterViewLifecycleCallbacksMethod;o.resetDebugInfo(r.nodeIndex,r.sourceAst),i.indexOf(LifecycleHooks$1.AfterViewInit)!==-1&&o.addStmt(new IfStmt(STATE_IS_NEVER_CHECKED,[t.callMethod("ngAfterViewInit",[]).toStmt()])),i.indexOf(LifecycleHooks$1.AfterViewChecked)!==-1&&o.addStmt(t.callMethod("ngAfterViewChecked",[]).toStmt())}function bindInjectableDestroyLifecycleCallbacks(e,t,r){var n=r.view.destroyMethod;n.resetDebugInfo(r.nodeIndex,r.sourceAst),e.lifecycleHooks.indexOf(LifecycleHooks$1.OnDestroy)!==-1&&n.addStmt(t.callMethod("ngOnDestroy",[]).toStmt())}function bindPipeDestroyLifecycleCallbacks(e,t,r){var n=r.destroyMethod;e.type.lifecycleHooks.indexOf(LifecycleHooks$1.OnDestroy)!==-1&&n.addStmt(t.callMethod("ngOnDestroy",[]).toStmt())}function createBindFieldExpr(e){return THIS_EXPR.prop("_expr_"+e)}function createCurrValueExpr(e){return variable("currVal_"+e)}function bind(e,t,r,n,i,o,s,a){var u=convertCdExpressionToIr(e,i,n,DetectChangesVars.valUnwrapper,a);if(!isBlank$1(u.expression)){if(u.temporaryCount)for(var c=0;c<u.temporaryCount;c++)s.addStmt(temporaryDeclaration(a,c));if(e.fields.push(new ClassField(r.name,null,[StmtModifier.Private])),e.createMethod.addStmt(THIS_EXPR.prop(r.name).set(importExpr(resolveIdentifier(Identifiers.UNINITIALIZED))).toStmt()),u.needsValueUnwrapper){var l=DetectChangesVars.valUnwrapper.callMethod("reset",[]).toStmt();s.addStmt(l)}s.addStmt(t.set(u.expression).toDeclStmt(null,[StmtModifier.Final]));var p=importExpr(resolveIdentifier(Identifiers.checkBinding)).callFn([DetectChangesVars.throwOnChange,r,t]);u.needsValueUnwrapper&&(p=DetectChangesVars.valUnwrapper.prop("hasWrappedValue").or(p)),s.addStmt(new IfStmt(p,o.concat([THIS_EXPR.prop(r.name).set(t).toStmt()])))}}function bindRenderText(e,t,r){var n=r.bindings.length;r.bindings.push(new CompileBinding(t,e));var i=createCurrValueExpr(n),o=createBindFieldExpr(n);r.detectChangesRenderPropertiesMethod.resetDebugInfo(t.nodeIndex,e),bind(r,i,o,e.value,r.componentContext,[THIS_EXPR.prop("renderer").callMethod("setText",[t.renderNode,i]).toStmt()],r.detectChangesRenderPropertiesMethod,n)}function bindAndWriteToRenderer(e,t,r,n){var i=r.view,o=r.renderNode;e.forEach(function(e){var s=i.bindings.length;i.bindings.push(new CompileBinding(r,e)),i.detectChangesRenderPropertiesMethod.resetDebugInfo(r.nodeIndex,e);var a=createBindFieldExpr(s),u=createCurrValueExpr(s),c=sanitizedValue(e,a),l=sanitizedValue(e,u),p=[];switch(e.type){case PropertyBindingType.Property:i.genConfig.logBindingUpdate&&p.push(logBindingUpdateStmt(o,e.name,l)),p.push(THIS_EXPR.prop("renderer").callMethod("setElementProperty",[o,literal(e.name),l]).toStmt());break;case PropertyBindingType.Attribute:l=l.isBlank().conditional(NULL_EXPR,l.callMethod("toString",[])),p.push(THIS_EXPR.prop("renderer").callMethod("setElementAttribute",[o,literal(e.name),l]).toStmt());break;case PropertyBindingType.Class:p.push(THIS_EXPR.prop("renderer").callMethod("setElementClass",[o,literal(e.name),l]).toStmt());break;case PropertyBindingType.Style:var h=l.callMethod("toString",[]);isPresent$1(e.unit)&&(h=h.plus(literal(e.unit))),l=l.isBlank().conditional(NULL_EXPR,h),p.push(THIS_EXPR.prop("renderer").callMethod("setElementStyle",[o,literal(e.name),l]).toStmt());break;case PropertyBindingType.Animation:var f=e.name,d=THIS_EXPR;n&&(d=r.appElement.prop("componentView"));var m=d.prop("componentType").prop("animations").key(literal(f)),y=literal(EMPTY_ANIMATION_STATE),v=variable("oldRenderVar");p.push(v.set(c).toDeclStmt()),p.push(new IfStmt(v.equals(importExpr(resolveIdentifier(Identifiers.UNINITIALIZED))),[v.set(y).toStmt()]));var _=variable("newRenderVar");if(p.push(_.set(l).toDeclStmt()),p.push(new IfStmt(_.equals(importExpr(resolveIdentifier(Identifiers.UNINITIALIZED))),[_.set(y).toStmt()])),p.push(m.callFn([THIS_EXPR,o,v,_]).toStmt()),i.detachMethod.addStmt(m.callFn([THIS_EXPR,o,c,y]).toStmt()),!_animationViewCheckedFlagMap.get(i)){_animationViewCheckedFlagMap.set(i,!0);var g=THIS_EXPR.callMethod("triggerQueuedAnimations",[]).toStmt();i.afterViewLifecycleCallbacksMethod.addStmt(g),i.detachMethod.addStmt(g)}}bind(i,u,a,e.value,t,p,i.detectChangesRenderPropertiesMethod,i.bindings.length)})}function sanitizedValue(e,t){var r;switch(e.securityContext){case SecurityContext.NONE:return t;case SecurityContext.HTML:r="HTML";break;case SecurityContext.STYLE:r="STYLE";break;case SecurityContext.SCRIPT:r="SCRIPT";break;case SecurityContext.URL:r="URL";break;case SecurityContext.RESOURCE_URL:r="RESOURCE_URL";break;default:throw new Error("internal error, unexpected SecurityContext "+e.securityContext+".")}var n=ViewProperties.viewUtils.prop("sanitizer"),i=[importExpr(resolveIdentifier(Identifiers.SecurityContext)).prop(r),t];return n.callMethod("sanitize",i)}function bindRenderInputs(e,t){bindAndWriteToRenderer(e,t.view.componentContext,t,!1)}function bindDirectiveHostProps(e,t,r){bindAndWriteToRenderer(e.hostProperties,t,r,!0)}function bindDirectiveInputs(e,t,r){if(0!==e.inputs.length){var n=r.view,i=n.detectChangesInInputsMethod;i.resetDebugInfo(r.nodeIndex,r.sourceAst);var o=e.directive.type.lifecycleHooks,s=o.indexOf(LifecycleHooks$1.OnChanges)!==-1,a=e.directive.isComponent&&!isDefaultChangeDetectionStrategy$1(e.directive.changeDetection);s&&i.addStmt(DetectChangesVars.changes.set(NULL_EXPR).toStmt()),a&&i.addStmt(DetectChangesVars.changed.set(literal(!1)).toStmt()),e.inputs.forEach(function(e){var o=n.bindings.length;n.bindings.push(new CompileBinding(r,e)),i.resetDebugInfo(r.nodeIndex,e);var u=createBindFieldExpr(o),c=createCurrValueExpr(o),l=[t.prop(e.directiveName).set(c).toStmt()];s&&(l.push(new IfStmt(DetectChangesVars.changes.identical(NULL_EXPR),[DetectChangesVars.changes.set(literalMap([],new MapType(importType(resolveIdentifier(Identifiers.SimpleChange))))).toStmt()])),l.push(DetectChangesVars.changes.key(literal(e.directiveName)).set(importExpr(resolveIdentifier(Identifiers.SimpleChange)).instantiate([u,c])).toStmt())),a&&l.push(DetectChangesVars.changed.set(literal(!0)).toStmt()),n.genConfig.logBindingUpdate&&l.push(logBindingUpdateStmt(r.renderNode,e.directiveName,c)),bind(n,c,u,e.value,n.componentContext,l,i,o)}),a&&i.addStmt(new IfStmt(DetectChangesVars.changed,[r.appElement.prop("componentView").callMethod("markAsCheckOnce",[]).toStmt()]))}}function logBindingUpdateStmt(e,t,r){var n=THIS_EXPR.prop("renderer").callMethod("setBindingDebugInfo",[e,literal("ng-reflect-"+camelCaseToDashCase(t)),r.isBlank().conditional(NULL_EXPR,r.callMethod("toString",[]))]).toStmt(),i=THIS_EXPR.prop("renderer").callMethod("setBindingDebugInfo",[e,literal("ng-reflect-"+camelCaseToDashCase(t)),literal("[ERROR] Exception while trying to serialize the value")]).toStmt();return new TryCatchStmt([n],[i])}function bindView(e,t,r){var n=new ViewBinderVisitor(e,r);templateVisitAll(n,t),e.pipes.forEach(function(e){bindPipeDestroyLifecycleCallbacks(e.meta,e.instance,e.view)})}function buildView(e,t,r){var n=new ViewBuilderVisitor(e,r);return templateVisitAll(n,t,e.declarationElement.isNull()?e.declarationElement:e.declarationElement.parent),n.nestedViewCount}function finishView(e,t){e.afterNodes(),createViewTopLevelStmts(e,t),e.nodes.forEach(function(e){e instanceof CompileElement&&e.hasEmbeddedView&&finishView(e.embeddedView,t)})}function _getOuterContainerOrSelf(e){for(var t=e.view;_isNgContainer(e.parent,t);)e=e.parent;return e}function _getOuterContainerParentOrSelf(e){for(var t=e.view;_isNgContainer(e,t);)e=e.parent;return e}function _isNgContainer(e,t){return!e.isNull()&&e.sourceAst.name===NG_CONTAINER_TAG&&e.view===t}function _mergeHtmlAndDirectiveAttrs(e,t){var r={};return StringMapWrapper$1.forEach(e,function(e,t){r[t]=e}),t.forEach(function(e){StringMapWrapper$1.forEach(e.hostAttributes,function(e,t){var n=r[t];r[t]=isPresent$1(n)?mergeAttributeValue(t,n,e):e})}),mapToKeyValueArray(r)}function _readHtmlAttrs(e){var t={};return e.forEach(function(e){t[e.name]=e.value}),t}function mergeAttributeValue(e,t,r){return e==CLASS_ATTR$1||e==STYLE_ATTR?t+" "+r:r}function mapToKeyValueArray(e){var t=[];return StringMapWrapper$1.forEach(e,function(e,r){t.push([r,e])}),ListWrapper$1.sort(t,function(e,t){return StringWrapper$1.compare(e[0],t[0])}),t}function createViewTopLevelStmts(e,t){var r=NULL_EXPR;e.genConfig.genDebugInfo&&(r=variable("nodeDebugInfos_"+e.component.type.name+e.viewIndex),t.push(r.set(literalArr(e.nodes.map(createStaticNodeDebugInfo),new ArrayType(new ExternalType(resolveIdentifier(Identifiers.StaticNodeDebugInfo)),[TypeModifier.Const]))).toDeclStmt(null,[StmtModifier.Final])));var n=variable("renderType_"+e.component.type.name);0===e.viewIndex&&t.push(n.set(NULL_EXPR).toDeclStmt(importType(resolveIdentifier(Identifiers.RenderComponentType))));var i=createViewClass(e,n,r);t.push(i),t.push(createViewFactory(e,i,n))}function createStaticNodeDebugInfo(e){var t=e instanceof CompileElement?e:null,r=[],n=NULL_EXPR,i=[];return isPresent$1(t)&&(r=t.getProviderTokens(),isPresent$1(t.component)&&(n=createDiTokenExpression(identifierToken(t.component.type))),StringMapWrapper$1.forEach(t.referenceTokens,function(e,t){i.push([t,isPresent$1(e)?createDiTokenExpression(e):NULL_EXPR])})),importExpr(resolveIdentifier(Identifiers.StaticNodeDebugInfo)).instantiate([literalArr(r,new ArrayType(DYNAMIC_TYPE,[TypeModifier.Const])),n,literalMap(i,new MapType(DYNAMIC_TYPE,[TypeModifier.Const]))],importType(resolveIdentifier(Identifiers.StaticNodeDebugInfo),null,[TypeModifier.Const]))}function createViewClass(e,t,r){var n=[new FnParam(ViewConstructorVars.viewUtils.name,importType(resolveIdentifier(Identifiers.ViewUtils))),new FnParam(ViewConstructorVars.parentInjector.name,importType(resolveIdentifier(Identifiers.Injector))),new FnParam(ViewConstructorVars.declarationEl.name,importType(resolveIdentifier(Identifiers.AppElement)))],i=[variable(e.className),t,ViewTypeEnum.fromValue(e.viewType),ViewConstructorVars.viewUtils,ViewConstructorVars.parentInjector,ViewConstructorVars.declarationEl,ChangeDetectorStatusEnum.fromValue(getChangeDetectionMode(e))];e.genConfig.genDebugInfo&&i.push(r);var o=new ClassMethod(null,n,[SUPER_EXPR.callFn(i).toStmt()]),s=[new ClassMethod("createInternal",[new FnParam(rootSelectorVar.name,STRING_TYPE)],generateCreateMethod(e),importType(resolveIdentifier(Identifiers.AppElement))),new ClassMethod("injectorGetInternal",[new FnParam(InjectMethodVars.token.name,DYNAMIC_TYPE),new FnParam(InjectMethodVars.requestNodeIndex.name,NUMBER_TYPE),new FnParam(InjectMethodVars.notFoundResult.name,DYNAMIC_TYPE)],addReturnValuefNotEmpty(e.injectorGetMethod.finish(),InjectMethodVars.notFoundResult),DYNAMIC_TYPE),new ClassMethod("detectChangesInternal",[new FnParam(DetectChangesVars.throwOnChange.name,BOOL_TYPE)],generateDetectChangesMethod(e)),new ClassMethod("dirtyParentQueriesInternal",[],e.dirtyParentQueriesMethod.finish()),new ClassMethod("destroyInternal",[],e.destroyMethod.finish()),new ClassMethod("detachInternal",[],e.detachMethod.finish())].concat(e.eventHandlerMethods),a=e.genConfig.genDebugInfo?Identifiers.DebugAppView:Identifiers.AppView,u=new ClassStmt(e.className,importExpr(resolveIdentifier(a),[getContextType(e)]),e.fields,e.getters,o,s.filter(function(e){return e.body.length>0}));return u}function createViewFactory(e,t,r){var n,i=[new FnParam(ViewConstructorVars.viewUtils.name,importType(resolveIdentifier(Identifiers.ViewUtils))),new FnParam(ViewConstructorVars.parentInjector.name,importType(resolveIdentifier(Identifiers.Injector))),new FnParam(ViewConstructorVars.declarationEl.name,importType(resolveIdentifier(Identifiers.AppElement)))],o=[];if(n=e.component.template.templateUrl==e.component.type.moduleUrl?e.component.type.moduleUrl+" class "+e.component.type.name+" - inline template":e.component.template.templateUrl,0===e.viewIndex){var s=literalMap(e.animations.map(function(e){return[e.name,e.fnVariable]}));o=[new IfStmt(r.identical(NULL_EXPR),[r.set(ViewConstructorVars.viewUtils.callMethod("createRenderComponentType",[literal(n),literal(e.component.template.ngContentSelectors.length),ViewEncapsulationEnum.fromValue(e.component.template.encapsulation),e.styles,s])).toStmt()])];
}return fn(i,o.concat([new ReturnStatement(variable(t.name).instantiate(t.constructorMethod.params.map(function(e){return variable(e.name)})))]),importType(resolveIdentifier(Identifiers.AppView),[getContextType(e)])).toDeclStmt(e.viewFactory.name,[StmtModifier.Final])}function generateCreateMethod(e){var t=NULL_EXPR,r=[];e.viewType===ViewType$1.COMPONENT&&(t=ViewProperties.renderer.callMethod("createViewRoot",[THIS_EXPR.prop("declarationAppElement").prop("nativeElement")]),r=[parentRenderNodeVar.set(t).toDeclStmt(importType(e.genConfig.renderTypes.renderNode),[StmtModifier.Final])]);var n;return n=e.viewType===ViewType$1.HOST?e.nodes[0].appElement:NULL_EXPR,r.concat(e.createMethod.finish(),[THIS_EXPR.callMethod("init",[createFlatArray(e.rootNodesOrAppElements),literalArr(e.nodes.map(function(e){return e.renderNode})),literalArr(e.disposables),literalArr(e.subscriptions)]).toStmt(),new ReturnStatement(n)])}function generateDetectChangesMethod(e){var t=[];if(e.detectChangesInInputsMethod.isEmpty()&&e.updateContentQueriesMethod.isEmpty()&&e.afterContentLifecycleCallbacksMethod.isEmpty()&&e.detectChangesRenderPropertiesMethod.isEmpty()&&e.updateViewQueriesMethod.isEmpty()&&e.afterViewLifecycleCallbacksMethod.isEmpty())return t;ListWrapper$1.addAll(t,e.detectChangesInInputsMethod.finish()),t.push(THIS_EXPR.callMethod("detectContentChildrenChanges",[DetectChangesVars.throwOnChange]).toStmt());var r=e.updateContentQueriesMethod.finish().concat(e.afterContentLifecycleCallbacksMethod.finish());r.length>0&&t.push(new IfStmt(not(DetectChangesVars.throwOnChange),r)),ListWrapper$1.addAll(t,e.detectChangesRenderPropertiesMethod.finish()),t.push(THIS_EXPR.callMethod("detectViewChildrenChanges",[DetectChangesVars.throwOnChange]).toStmt());var n=e.updateViewQueriesMethod.finish().concat(e.afterViewLifecycleCallbacksMethod.finish());n.length>0&&t.push(new IfStmt(not(DetectChangesVars.throwOnChange),n));var i=[],o=findReadVarNames(t);return SetWrapper$1.has(o,DetectChangesVars.changed.name)&&i.push(DetectChangesVars.changed.set(literal(!0)).toDeclStmt(BOOL_TYPE)),SetWrapper$1.has(o,DetectChangesVars.changes.name)&&i.push(DetectChangesVars.changes.set(NULL_EXPR).toDeclStmt(new MapType(importType(resolveIdentifier(Identifiers.SimpleChange))))),SetWrapper$1.has(o,DetectChangesVars.valUnwrapper.name)&&i.push(DetectChangesVars.valUnwrapper.set(importExpr(resolveIdentifier(Identifiers.ValueUnwrapper)).instantiate([])).toDeclStmt(null,[StmtModifier.Final])),i.concat(t)}function addReturnValuefNotEmpty(e,t){return e.length>0?e.concat([new ReturnStatement(t)]):e}function getContextType(e){return e.viewType===ViewType$1.COMPONENT?importType(e.component.type):DYNAMIC_TYPE}function getChangeDetectionMode(e){var t;return t=e.viewType===ViewType$1.COMPONENT?isDefaultChangeDetectionStrategy$1(e.component.changeDetection)?ChangeDetectorStatus$1.CheckAlways:ChangeDetectorStatus$1.CheckOnce:ChangeDetectorStatus$1.CheckAlways}function getUrlScheme(e){var t=_split(e);return t&&t[_ComponentIndex.Scheme]||""}function _buildFromEncodedParts(e,t,r,n,i,o,s){var a=[];return isPresent$1(e)&&a.push(e+":"),isPresent$1(r)&&(a.push("//"),isPresent$1(t)&&a.push(t+"@"),a.push(r),isPresent$1(n)&&a.push(":"+n)),isPresent$1(i)&&a.push(i),isPresent$1(o)&&a.push("?"+o),isPresent$1(s)&&a.push("#"+s),a.join("")}function _split(e){return e.match(_splitRe)}function _removeDotSegments(e){if("/"==e)return"/";for(var t="/"==e[0]?"/":"",r="/"===e[e.length-1]?"/":"",n=e.split("/"),i=[],o=0,s=0;s<n.length;s++){var a=n[s];switch(a){case"":case".":break;case"..":i.length>0?i.pop():o++;break;default:i.push(a)}}if(""==t){for(;o-- >0;)i.unshift("..");0===i.length&&i.push(".")}return t+i.join("/")+r}function _joinAndCanonicalizePath(e){var t=e[_ComponentIndex.Path];return t=isBlank$1(t)?"":_removeDotSegments(t),e[_ComponentIndex.Path]=t,_buildFromEncodedParts(e[_ComponentIndex.Scheme],e[_ComponentIndex.UserInfo],e[_ComponentIndex.Domain],e[_ComponentIndex.Port],t,e[_ComponentIndex.QueryData],e[_ComponentIndex.Fragment])}function _resolveUrl(e,t){var r=_split(encodeURI(t)),n=_split(e);if(isPresent$1(r[_ComponentIndex.Scheme]))return _joinAndCanonicalizePath(r);r[_ComponentIndex.Scheme]=n[_ComponentIndex.Scheme];for(var i=_ComponentIndex.Scheme;i<=_ComponentIndex.Port;i++)isBlank$1(r[i])&&(r[i]=n[i]);if("/"==r[_ComponentIndex.Path][0])return _joinAndCanonicalizePath(r);var o=n[_ComponentIndex.Path];isBlank$1(o)&&(o="/");var s=o.lastIndexOf("/");return o=o.substring(0,s+1)+r[_ComponentIndex.Path],r[_ComponentIndex.Path]=o,_joinAndCanonicalizePath(r)}function _cloneDirectiveWithTemplate(e,t){return new CompileDirectiveMetadata({type:e.type,isComponent:e.isComponent,selector:e.selector,exportAs:e.exportAs,changeDetection:e.changeDetection,inputs:e.inputs,outputs:e.outputs,hostListeners:e.hostListeners,hostProperties:e.hostProperties,hostAttributes:e.hostAttributes,providers:e.providers,viewProviders:e.viewProviders,queries:e.queries,viewQueries:e.viewQueries,entryComponents:e.entryComponents,template:t})}function _isDirectiveMetadata(e){return e instanceof DirectiveMetadata}function hasLifecycleHook(e,t){var r=LIFECYCLE_INTERFACES.get(e),n=LIFECYCLE_PROPS.get(e);return reflector$1.hasLifecycleHook(t,r,n)}function _isNgModuleMetadata(e){return e instanceof NgModuleMetadata}function _isPipeMetadata(e){return e instanceof PipeMetadata}function getTransitiveModules(e,t,r,n){return void 0===r&&(r=[]),void 0===n&&(n=new Set),e.forEach(function(e){if(!n.has(e.type.reference)){n.add(e.type.reference);var i=t?e.importedModules.concat(e.exportedModules):e.exportedModules;getTransitiveModules(i,t,r,n),r.push(e)}}),r}function flattenArray(e,t){if(void 0===t&&(t=[]),e)for(var r=0;r<e.length;r++){var n=resolveForwardRef(e[r]);isArray$2(n)?flattenArray(n,t):t.push(n)}return t}function isValidType(e){return isStaticSymbol(e)||e instanceof Type}function staticTypeModuleUrl(e){return isStaticSymbol(e)?e.filePath:null}function componentModuleUrl(e,t,r){if(isStaticSymbol(t))return staticTypeModuleUrl(t);if(isPresent$1(r.moduleId)){var n=r.moduleId,i=getUrlScheme(n);return isPresent$1(i)&&i.length>0?n:"package:"+n+MODULE_SUFFIX}return e.importUri(t)}function convertToCompileValue(e,t){return visitValue(e,new _CompileValueConverter,t)}function escapeIdentifier(e,t,r){if(void 0===r&&(r=!0),isBlank$1(e))return null;var n=StringWrapper$1.replaceAllMapped(e,_SINGLE_QUOTE_ESCAPE_STRING_RE,function(e){return"$"==e[0]?t?"\\$":"$":"\n"==e[0]?"\\n":"\r"==e[0]?"\\r":"\\"+e[0]}),i=r||!_LEGAL_IDENTIFIER_RE.test(n);return i?"'"+n+"'":n}function _createIndent(e){for(var t="",r=0;r<e;r++)t+="  ";return t}function debugOutputAstAsTypeScript(e){var t,r=new _TsEmitterVisitor(_debugModuleUrl),n=EmitterVisitorContext.createRoot([]);return t=isArray$2(e)?e:[e],t.forEach(function(e){if(e instanceof Statement)e.visitStatement(r,n);else if(e instanceof Expression)e.visitExpression(r,n);else{if(!(e instanceof Type$1))throw new Error("Don't know how to print debug info for "+e);e.visitType(r,n)}}),n.toSource()}function interpretStatements(e,t){var r=e.concat([new ReturnStatement(variable(t))]),n=new _ExecutionContext(null,null,null,new Map),i=new StatementInterpreter,o=i.visitAllStatements(r,n);return isPresent$1(o)?o.value:null}function _executeFunctionStatements(e,t,r,n,i){for(var o=n.createChildWihtLocalVars(),s=0;s<e.length;s++)o.vars.set(e[s],t[s]);var a=i.visitAllStatements(r,o);return isPresent$1(a)?a.value:null}function createDynamicClass(e,t,r){var n={};e.getters.forEach(function(i){n[i.name]={configurable:!1,get:function(){var n=new _ExecutionContext(t,this,e.name,t.vars);return _executeFunctionStatements([],[],i.body,n,r)}}}),e.methods.forEach(function(i){var o=i.params.map(function(e){return e.name});n[i.name]={writable:!1,configurable:!1,value:function(){for(var n=[],s=0;s<arguments.length;s++)n[s-0]=arguments[s];var a=new _ExecutionContext(t,this,e.name,t.vars);return _executeFunctionStatements(o,n,i.body,a,r)}}});var i=e.constructorMethod.params.map(function(e){return e.name}),o=function(){for(var n=this,o=[],s=0;s<arguments.length;s++)o[s-0]=arguments[s];var a=new _ExecutionContext(t,this,e.name,t.vars);e.fields.forEach(function(e){n[e.name]=void 0}),_executeFunctionStatements(i,o,e.constructorMethod.body,a,r)},s=e.parent.visitExpression(r,t);return o.prototype=Object.create(s.prototype,n),o}function _declareFn(e,t,r,n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return _executeFunctionStatements(e,i,t,r,n)}}function jitStatements(e,t,r){var n=new JitEmitterVisitor,i=EmitterVisitorContext.createRoot([r]);return n.visitAllStatements(t,i),evalExpression$1(e,r,i.toSource(),n.getArgs())}function stripComments(e){return StringWrapper$1.replaceAllMapped(e,_commentRe,function(e){return""})}function extractSourceMappingUrl(e){var t=e.match(_sourceMappingUrlRe);return t?t[1]:""}function processRules(e,t){var r=escapeBlocks(e),n=0;return StringWrapper$1.replaceAllMapped(r.escapedString,_ruleRe,function(e){var i=e[2],o="",s=e[4],a="";isPresent$1(e[4])&&e[4].startsWith("{"+BLOCK_PLACEHOLDER)&&(o=r.blocks[n++],s=e[4].substring(BLOCK_PLACEHOLDER.length+1),a="{");var u=t(new CssRule(i,o));return""+e[1]+u.selector+e[3]+a+u.content+s})}function escapeBlocks(e){for(var t=StringWrapper$1.split(e,_curlyRe),r=[],n=[],i=0,o=[],s=0;s<t.length;s++){var a=t[s];a==CLOSE_CURLY&&i--,i>0?o.push(a):(o.length>0&&(n.push(o.join("")),r.push(BLOCK_PLACEHOLDER),o=[]),r.push(a)),a==OPEN_CURLY&&i++}return o.length>0&&(n.push(o.join("")),r.push(BLOCK_PLACEHOLDER)),new StringWithEscapedBlocks(r.join(""),n)}function getStylesVarName(e){var t="styles";return e&&(t+="_"+e.type.name),t}function assertComponent(e){if(!e.isComponent)throw new Error("Could not compile '"+e.type.name+"' because it is not a component.")}function registerContext(e,t){for(var r=0,n=t;r<n.length;r++){var i=n[r];SECURITY_SCHEMA[i.toLowerCase()]=e}}function _initReflector(){reflector$1.reflectionCapabilities=new ReflectionCapabilities$1}function _mergeOptions(e){return{useDebug:_lastDefined(e.map(function(e){return e.useDebug})),useJit:_lastDefined(e.map(function(e){return e.useJit})),defaultEncapsulation:_lastDefined(e.map(function(e){return e.defaultEncapsulation})),providers:_mergeArrays(e.map(function(e){return e.providers}))}}function _lastDefined(e){for(var t=e.length-1;t>=0;t--)if(void 0!==e[t])return e[t]}function _mergeArrays(e){var t=[];return e.forEach(function(e){return e&&t.push.apply(t,e)}),t}function getTypeNameForDebugging$2(e){return e.name?e.name:typeof e}function isPresent$2(e){return void 0!==e&&null!==e}function isBlank$2(e){return void 0===e||null===e}function isNumber$2(e){return"number"==typeof e}function isString$2(e){return"string"==typeof e}function isFunction$3(e){return"function"==typeof e}function isStringMap$2(e){return"object"==typeof e&&null!==e}function isPromise$2(e){return isPresent$2(e)&&isFunction$3(e.then)}function isArray$3(e){return Array.isArray(e)}function isDate$2(e){return e instanceof Date$3&&!isNaN(e.valueOf())}function stringify$2(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.overriddenName)return e.overriddenName;if(e.name)return e.name;var t=e.toString(),r=t.indexOf("\n");return r===-1?t:t.substring(0,r)}function normalizeBlank$2(e){return isBlank$2(e)?null:e}function isJsObject$2(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function getSymbolIterator$2(){if(isBlank$2(_symbolIterator$2))if(isPresent$2(globalScope$2.Symbol)&&isPresent$2(Symbol.iterator))_symbolIterator$2=Symbol.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),t=0;t<e.length;++t){var r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(_symbolIterator$2=r)}return _symbolIterator$2}function _flattenArray$2(e,t){if(isPresent$2(e))for(var r=0;r<e.length;r++){var n=e[r];isArray$3(n)?_flattenArray$2(n,t):t.push(n)}return t}function isListLikeIterable$2(e){return!!isJsObject$2(e)&&(isArray$3(e)||!(e instanceof Map$3)&&getSymbolIterator$2()in e)}function digitModifier(e){return function(t,r){var n=e(t,r);return 1==n.length?"0"+n:n}}function hourClockExtracter(e){return function(t,r){var n=e(t,r);return n.split(" ")[1]}}function hourExtracter(e){return function(t,r){var n=e(t,r);return n.split(" ")[0]}}function intlDateFormat(e,t,r){return new Intl.DateTimeFormat(t,r).format(e).replace(/[\u200e\u200f]/g,"")}function timeZoneGetter(e){var t={hour:"2-digit",hour12:!1,timeZoneName:e};return function(e,r){var n=intlDateFormat(e,r,t);return n?n.substring(3):""}}function hour12Modify(e,t){return e.hour12=t,e}function digitCondition(e,t){var r={};return r[e]=2==t?"2-digit":"numeric",r}function nameCondition(e,t){var r={};return r[e]=t<4?"short":"long",r}function combine(e){var t={};return e.forEach(function(e){Object.assign(t,e)}),t}function datePartGetterFactory(e){return function(t,r){return intlDateFormat(t,r,e)}}function dateFormatter(e,t,r){var n,i,o="",s=[];if(PATTERN_ALIASES[e])return PATTERN_ALIASES[e](t,r);if(datePartsFormatterCache.has(e))s=datePartsFormatterCache.get(e);else{for(DATE_FORMATS_SPLIT.exec(e);e;)n=DATE_FORMATS_SPLIT.exec(e),n?(s=concat(s,n,1),e=s.pop()):(s.push(e),e=null);datePartsFormatterCache.set(e,s)}return s.forEach(function(e){i=DATE_FORMATS[e],o+=i?i(t,r):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),o}function concat(e,t,r){return e.concat(slice.call(t,r))}function getPluralCategory(e,t,r){var n="="+e;return t.indexOf(n)>-1?n:r.getPluralCategory(e)}function getPluralCase(e,t){"string"==typeof t&&(t=parseInt(t,10));var r=t,n=r.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(r)),o=n.length,s=parseInt(n,10),a=parseInt(r.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0,u=e.split("_")[0].toLowerCase();switch(u){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===r?Plural.One:Plural.Other;case"agq":case"bas":case"cu":case"dav":case"dje":case"dua":case"dyo":case"ebu":case"ewo":case"guz":case"kam":case"khq":case"ki":case"kln":case"kok":case"ksf":case"lrc":case"lu":case"luo":case"luy":case"mer":case"mfe":case"mgh":case"mua":case"mzn":case"nmg":case"nus":case"qu":case"rn":case"rw":case"sbp":case"twq":case"vai":case"yav":case"yue":case"zgh":case"ak":case"ln":case"mg":case"pa":case"ti":return r===Math.floor(r)&&r>=0&&r<=1?Plural.One:Plural.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===r?Plural.One:Plural.Other;case"ar":return 0===r?Plural.Zero:1===r?Plural.One:2===r?Plural.Two:r%100===Math.floor(r%100)&&r%100>=3&&r%100<=10?Plural.Few:r%100===Math.floor(r%100)&&r%100>=11&&r%100<=99?Plural.Many:Plural.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?Plural.One:Plural.Other;case"be":return r%10===1&&r%100!==11?Plural.One:r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)?Plural.Few:r%10===0||r%10===Math.floor(r%10)&&r%10>=5&&r%10<=9||r%100===Math.floor(r%100)&&r%100>=11&&r%100<=14?Plural.Many:Plural.Other;case"br":return r%10===1&&r%100!==11&&r%100!==71&&r%100!==91?Plural.One:r%10===2&&r%100!==12&&r%100!==72&&r%100!==92?Plural.Two:r%10===Math.floor(r%10)&&(r%10>=3&&r%10<=4||r%10===9)&&!(r%100>=10&&r%100<=19||r%100>=70&&r%100<=79||r%100>=90&&r%100<=99)?Plural.Few:0!==r&&r%1e6===0?Plural.Many:Plural.Other;case"bs":case"hr":case"sr":return 0===o&&i%10===1&&i%100!==11||s%10===1&&s%100!==11?Plural.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||s%10===Math.floor(s%10)&&s%10>=2&&s%10<=4&&!(s%100>=12&&s%100<=14)?Plural.Few:Plural.Other;case"cs":case"sk":return 1===i&&0===o?Plural.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?Plural.Few:0!==o?Plural.Many:Plural.Other;case"cy":return 0===r?Plural.Zero:1===r?Plural.One:2===r?Plural.Two:3===r?Plural.Few:6===r?Plural.Many:Plural.Other;case"da":return 1===r||0!==a&&(0===i||1===i)?Plural.One:Plural.Other;case"dsb":case"hsb":return 0===o&&i%100===1||s%100===1?Plural.One:0===o&&i%100===2||s%100===2?Plural.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||s%100===Math.floor(s%100)&&s%100>=3&&s%100<=4?Plural.Few:Plural.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?Plural.One:Plural.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!==4&&i%10!==6&&i%10!==9||0!==o&&s%10!==4&&s%10!==6&&s%10!==9?Plural.One:Plural.Other;case"ga":return 1===r?Plural.One:2===r?Plural.Two:r===Math.floor(r)&&r>=3&&r<=6?Plural.Few:r===Math.floor(r)&&r>=7&&r<=10?Plural.Many:Plural.Other;case"gd":return 1===r||11===r?Plural.One:2===r||12===r?Plural.Two:r===Math.floor(r)&&(r>=3&&r<=10||r>=13&&r<=19)?Plural.Few:Plural.Other;case"gv":return 0===o&&i%10===1?Plural.One:0===o&&i%10===2?Plural.Two:0!==o||i%100!==0&&i%100!==20&&i%100!==40&&i%100!==60&&i%100!==80?0!==o?Plural.Many:Plural.Other:Plural.Few;case"he":return 1===i&&0===o?Plural.One:2===i&&0===o?Plural.Two:0!==o||r>=0&&r<=10||r%10!==0?Plural.Other:Plural.Many;case"is":return 0===a&&i%10===1&&i%100!==11||0!==a?Plural.One:Plural.Other;case"ksh":return 0===r?Plural.Zero:1===r?Plural.One:Plural.Other;case"kw":case"naq":case"se":case"smn":return 1===r?Plural.One:2===r?Plural.Two:Plural.Other;case"lag":return 0===r?Plural.Zero:0!==i&&1!==i||0===r?Plural.Other:Plural.One;case"lt":return r%10!==1||r%100>=11&&r%100<=19?r%10===Math.floor(r%10)&&r%10>=2&&r%10<=9&&!(r%100>=11&&r%100<=19)?Plural.Few:0!==s?Plural.Many:Plural.Other:Plural.One;case"lv":case"prg":return r%10===0||r%100===Math.floor(r%100)&&r%100>=11&&r%100<=19||2===o&&s%100===Math.floor(s%100)&&s%100>=11&&s%100<=19?Plural.Zero:r%10===1&&r%100!==11||2===o&&s%10===1&&s%100!==11||2!==o&&s%10===1?Plural.One:Plural.Other;case"mk":return 0===o&&i%10===1||s%10===1?Plural.One:Plural.Other;case"mt":return 1===r?Plural.One:0===r||r%100===Math.floor(r%100)&&r%100>=2&&r%100<=10?Plural.Few:r%100===Math.floor(r%100)&&r%100>=11&&r%100<=19?Plural.Many:Plural.Other;case"pl":return 1===i&&0===o?Plural.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?Plural.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?Plural.Many:Plural.Other;case"pt":return r===Math.floor(r)&&r>=0&&r<=2&&2!==r?Plural.One:Plural.Other;case"ro":return 1===i&&0===o?Plural.One:0!==o||0===r||1!==r&&r%100===Math.floor(r%100)&&r%100>=1&&r%100<=19?Plural.Few:Plural.Other;case"ru":case"uk":return 0===o&&i%10===1&&i%100!==11?Plural.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?Plural.Few:0===o&&i%10===0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?Plural.Many:Plural.Other;case"shi":return 0===i||1===r?Plural.One:r===Math.floor(r)&&r>=2&&r<=10?Plural.Few:Plural.Other;case"si":return 0===r||1===r||0===i&&1===s?Plural.One:Plural.Other;case"sl":return 0===o&&i%100===1?Plural.One:0===o&&i%100===2?Plural.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?Plural.Few:Plural.Other;case"tzm":return r===Math.floor(r)&&r>=0&&r<=1||r===Math.floor(r)&&r>=11&&r<=99?Plural.One:Plural.Other;default:return Plural.Other}}function formatNumber(e,t,r,n,i,o,s){if(void 0===o&&(o=null),void 0===s&&(s=!1),isBlank$2(r))return null;if(r=isString$2(r)&&NumberWrapper$2.isNumeric(r)?+r:r,!isNumber$2(r))throw new InvalidPipeArgumentError(e,r);var a,u,c;if(n!==NumberFormatStyle.Currency&&(a=1,u=0,c=3),isPresent$2(i)){var l=i.match(_NUMBER_FORMAT_REGEXP);if(null===l)throw new Error(i+" is not a valid digit info for number pipes");isPresent$2(l[1])&&(a=NumberWrapper$2.parseIntAutoRadix(l[1])),isPresent$2(l[3])&&(u=NumberWrapper$2.parseIntAutoRadix(l[3])),isPresent$2(l[5])&&(c=NumberWrapper$2.parseIntAutoRadix(l[5]))}return NumberFormatter.format(r,t,n,{minimumIntegerDigits:a,minimumFractionDigits:u,maximumFractionDigits:c,currency:o,currencyAsSymbol:s})}function _stripBaseHref(e,t){return e.length>0&&t.startsWith(e)?t.substring(e.length):t}function _stripIndexHtml(e){return/\/index.html$/g.test(e)?e.substring(0,e.length-11):e}function isPresent$3(e){return void 0!==e&&null!==e}function isBlank$3(e){return void 0===e||null===e}function isNumber$3(e){return"number"==typeof e}function isString$3(e){return"string"==typeof e}function isFunction$4(e){return"function"==typeof e}function isArray$4(e){return Array.isArray(e)}function stringify$3(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.overriddenName)return e.overriddenName;if(e.name)return e.name;var t=e.toString(),r=t.indexOf("\n");return r===-1?t:t.substring(0,r)}function setValueOnPath$3(e,t,r){for(var n=t.split("."),i=e;n.length>1;){var o=n.shift();i=i.hasOwnProperty(o)&&isPresent$3(i[o])?i[o]:i[o]={}}void 0!==i&&null!==i||(i={}),i[n.shift()]=r}function _flattenArray$3(e,t){if(isPresent$3(e))for(var r=0;r<e.length;r++){var n=e[r];isArray$4(n)?_flattenArray$3(n,t):t.push(n)}return t}function camelCaseToDashCase$1(e){return StringWrapper$3.replaceAllMapped(e,CAMEL_CASE_REGEXP$1,function(e){return"-"+e[1].toLowerCase()})}function dashCaseToCamelCase(e){return StringWrapper$3.replaceAllMapped(e,DASH_CASE_REGEXP,function(e){return e[1].toUpperCase()})}function getDOM$1(){return _DOM}function setRootDomAdapter(e){isBlank$3(_DOM)&&(_DOM=e)}function _computeStyle(e,t){return getDOM$1().getComputedStyle(e)[t]}function _populateStyles(e,t,r){var n={};return t.styles.forEach(function(e){StringMapWrapper$3.forEach(e,function(e,t){var r=dashCaseToCamelCase(t);n[r]=e==AUTO_STYLE?e:e.toString()+_resolveStyleUnit(e,t,r)})}),StringMapWrapper$3.forEach(r,function(e,t){isPresent$3(n[t])||(n[t]=e)}),n}function _resolveStyleUnit(e,t,r){var n="";if(_isPixelDimensionStyle(r)&&0!=e&&"0"!=e)if(isNumber$3(e))n="px";else if(0==_findDimensionalSuffix(e.toString()).length)throw new Error("Please provide a CSS unit value for "+t+":"+e);return n}function _findDimensionalSuffix(e){for(var t=0;t<e.length;t++){var r=StringWrapper$3.charCodeAt(e,t);if(!(r>=_$0&&r<=_$9||r==_$PERIOD))return e.substring(t,e.length)}return""}function _isPixelDimensionStyle(e){switch(e){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}function getBaseElementHref(){return isBlank$3(baseElement)&&(baseElement=document.querySelector("base"),isBlank$3(baseElement))?null:baseElement.getAttribute("href")}function relativePath(e){return isBlank$3(urlParsingNode)&&(urlParsingNode=document.createElement("a")),urlParsingNode.setAttribute("href",e),"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}function parseCookieValue(e,t){t=encodeURIComponent(t);for(var r=0,n=e.split(";");r<n.length;r++){var i=n[r],o=i.indexOf("="),s=o==-1?[i,""]:[i.slice(0,o),i.slice(o+1)],a=s[0],u=s[1];if(a.trim()===t)return decodeURIComponent(u)}return null}function supportsState(){return!!window.history.pushState}function moveNodesAfterSibling(e,t){var r=getDOM$1().parentElement(e);if(t.length>0&&isPresent$3(r)){var n=getDOM$1().nextSibling(e);if(isPresent$3(n))for(var i=0;i<t.length;i++)getDOM$1().insertBefore(n,t[i]);else for(var i=0;i<t.length;i++)getDOM$1().appendChild(r,t[i])}}function appendNodes(e,t){for(var r=0;r<t.length;r++)getDOM$1().appendChild(e,t[r])}function decoratePreventDefault(e){return function(t){var r=e(t);r===!1&&getDOM$1().preventDefault(t)}}function _shimContentAttribute(e){return StringWrapper$3.replaceAll(CONTENT_ATTR$1,COMPONENT_REGEX,e)}function _shimHostAttribute(e){return StringWrapper$3.replaceAll(HOST_ATTR$1,COMPONENT_REGEX,e)}function _flattenStyles(e,t,r){for(var n=0;n<t.length;n++){var i=t[n];isArray$4(i)?_flattenStyles(e,i,r):(i=StringWrapper$3.replaceAll(i,COMPONENT_REGEX,e),r.push(i))}return r}function splitNamespace(e){if(":"!=e[0])return[null,e];var t=e.match(NS_PREFIX_RE);return[t[1],t[2]]}function inspectNativeElement(e){return getDebugNode(e)}function _createConditionalRootRenderer(e,t){return isDevMode()?_createRootRenderer(e,t):e}function _createRootRenderer(e,t){return getDOM$1().setGlobalVar(INSPECT_GLOBAL_NAME,inspectNativeElement),getDOM$1().setGlobalVar(CORE_TOKENS_GLOBAL_NAME,StringMapWrapper$3.merge(CORE_TOKENS,_ngProbeTokensToMap(t||[]))),new DebugDomRootRenderer$1(e)}function _ngProbeTokensToMap(e){return e.reduce(function(e,t){return e[t.name]=t.token,e},{})}function sanitizeUrl(e){return e=String(e),e.match(SAFE_URL_PATTERN)||e.match(DATA_URL_PATTERN)?e:(isDevMode()&&getDOM$1().log("WARNING: sanitizing unsafe URL value "+e+" (see http://g.co/ng/security#xss)"),"unsafe:"+e)}function sanitizeSrcset(e){return e=String(e),e.split(",").map(function(e){return sanitizeUrl(e.trim())}).join(", ")}function getInertElement(){if(inertElement)return inertElement;DOM=getDOM$1();var e=DOM.createElement("template");if("content"in e)return e;var t=DOM.createHtmlDocument();if(inertElement=DOM.querySelector(t,"body"),null==inertElement){var r=DOM.createElement("html",t);inertElement=DOM.createElement("body",t),DOM.appendChild(r,inertElement),DOM.appendChild(t,r)}return inertElement}function tagSet(e){for(var t={},r=0,n=e.split(",");r<n.length;r++){var i=n[r];t[i]=!0}return t}function merge(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var r={},n=0,i=e;n<i.length;n++){var o=i[n];for(var s in o)o.hasOwnProperty(s)&&(r[s]=!0)}return r}function encodeEntities(e){return e.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(r-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function stripCustomNsAttrs(e){DOM.attributeMap(e).forEach(function(t,r){"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||DOM.removeAttribute(e,r)});for(var t=0,r=DOM.childNodesAsList(e);t<r.length;t++){var n=r[t];DOM.isElementNode(n)&&stripCustomNsAttrs(n)}}function sanitizeHtml(e){try{var t=getInertElement(),r=e?String(e):"",n=5,i=r;do{if(0===n)throw new Error("Failed to sanitize html because the input is unstable");n--,r=i,DOM.setInnerHTML(t,r),DOM.defaultDoc().documentMode&&stripCustomNsAttrs(t),i=DOM.getInnerHTML(t)}while(r!==i);for(var o=new SanitizingHtmlSerializer,s=o.sanitizeChildren(DOM.getTemplateContent(t)||t),a=DOM.getTemplateContent(t)||t,u=0,c=DOM.childNodesAsList(a);u<c.length;u++){var l=c[u];DOM.removeChild(a,l)}return isDevMode()&&o.sanitizedSomething&&DOM.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),s}catch(e){throw inertElement=null,e}}function hasBalancedQuotes(e){for(var t=!0,r=!0,n=0;n<e.length;n++){var i=e.charAt(n);"'"===i&&r?t=!t:'"'===i&&t&&(r=!r)}return t&&r}function sanitizeStyle(e){if(e=String(e).trim(),!e)return"";var t=e.match(URL_RE);return t&&sanitizeUrl(t[1])===t[1]||e.match(SAFE_STYLE_VALUE)&&hasBalancedQuotes(e)?e:(isDevMode()&&getDOM$1().log("WARNING: sanitizing unsafe style value "+e+" (see http://g.co/ng/security#xss)."),"unsafe")}function initDomAdapter(){BrowserDomAdapter.makeCurrent(),BrowserGetTestability.init()}function errorHandler(){return new ErrorHandler}function _document(){return getDOM$1().defaultDoc()}function _resolveDefaultAnimationDriver(){return getDOM$1().supportsWebAnimation()?new WebAnimationsDriver:AnimationDriver.NOOP}function isPresent$4(e){return void 0!==e&&null!==e}function isPresent$5(e){return void 0!==e&&null!==e}function isBlank$5(e){return void 0===e||null===e}function isString$5(e){return"string"==typeof e}function isFunction$6(e){return"function"==typeof e}function isStringMap$5(e){return"object"==typeof e&&null!==e}function isPromise$5(e){return isPresent$5(e)&&isFunction$6(e.then)}function isArray$6(e){return Array.isArray(e)}function looseIdentical$5(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function normalizeBool$5(e){return!isBlank$5(e)&&e}function isJsObject$5(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function isPrimitive$5(e){return!isJsObject$5(e)}function hasConstructor$5(e,t){return e.constructor===t}function _flattenArray$4(e,t){if(isPresent$5(e))for(var r=0;r<e.length;r++){var n=e[r];isArray$6(n)?_flattenArray$4(n,t):t.push(n)}return t}function toPromise(e){var t=this;if(e||(root.Rx&&root.Rx.config&&root.Rx.config.Promise?e=root.Rx.config.Promise:root.Promise&&(e=root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})}function _convertToPromise(e){return isPromise$5(e)?e:toPromise.call(e)}function _executeValidators(e,t){return t.map(function(t){return t(e)})}function _executeAsyncValidators(e,t){return t.map(function(t){return t(e)})}function _mergeErrors(e){var t=e.reduce(function(e,t){return isPresent$5(t)?StringMapWrapper$4.merge(e,t):e},{});return StringMapWrapper$4.isEmpty(t)?null:t}function normalizeValidator(e){return void 0!==e.validate?function(t){return e.validate(t)}:e}function normalizeAsyncValidator(e){return void 0!==e.validate?function(t){return e.validate(t)}:e}function unimplemented$4(){throw new Error("unimplemented")}function _buildValueString(e,t){return isBlank$5(e)?""+t:(isPrimitive$5(t)||(t="Object"),StringWrapper$5.slice(e+": "+t,0,50))}function _extractId(e){return e.split(":")[0]}function _buildValueString$1(e,t){return isBlank$5(e)?""+t:(isString$5(t)&&(t="'"+t+"'"),isPrimitive$5(t)||(t="Object"),StringWrapper$5.slice(e+": "+t,0,50))}function _extractId$1(e){return e.split(":")[0]}function controlPath(e,t){var r=ListWrapper$4.clone(t.path);return r.push(e),r}function setUpControl(e,t){isBlank$5(e)&&_throwError$1(t,"Cannot find control with"),isBlank$5(t.valueAccessor)&&_throwError$1(t,"No value accessor for form control with"),e.validator=Validators.compose([e.validator,t.validator]),e.asyncValidator=Validators.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),t.valueAccessor.registerOnChange(function(r){t.viewToModelUpdate(r),e.markAsDirty(),e.setValue(r,{emitModelToViewChange:!1})}),t.valueAccessor.registerOnTouched(function(){return e.markAsTouched()}),e.registerOnChange(function(e,r){t.valueAccessor.writeValue(e),r&&t.viewToModelUpdate(e)}),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(function(e){t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(function(t){t.registerOnChange&&t.registerOnChange(function(){return e.updateValueAndValidity()})}),t._rawAsyncValidators.forEach(function(t){t.registerOnChange&&t.registerOnChange(function(){return e.updateValueAndValidity()})})}function cleanUpControl(e,t){t.valueAccessor.registerOnChange(function(){return _noControlError(t)}),t.valueAccessor.registerOnTouched(function(){return _noControlError(t)}),t._rawValidators.forEach(function(e){return e.registerOnChange(null)}),t._rawAsyncValidators.forEach(function(e){return e.registerOnChange(null)}),e&&e._clearChangeFns()}function setUpFormContainer(e,t){isBlank$5(e)&&_throwError$1(t,"Cannot find control with"),
e.validator=Validators.compose([e.validator,t.validator]),e.asyncValidator=Validators.composeAsync([e.asyncValidator,t.asyncValidator])}function _noControlError(e){return _throwError$1(e,"There is no FormControl instance attached to form control element with")}function _throwError$1(e,t){var r;throw r=e.path.length>1?"path: '"+e.path.join(" -> ")+"'":e.path[0]?"name: '"+e.path+"'":"unspecified name attribute",new Error(t+" "+r)}function composeValidators(e){return isPresent$5(e)?Validators.compose(e.map(normalizeValidator)):null}function composeAsyncValidators(e){return isPresent$5(e)?Validators.composeAsync(e.map(normalizeAsyncValidator)):null}function isPropertyUpdated(e,t){if(!StringMapWrapper$4.contains(e,"model"))return!1;var r=e.model;return!!r.isFirstChange()||!looseIdentical$5(t,r.currentValue)}function isBuiltInAccessor(e){return hasConstructor$5(e,CheckboxControlValueAccessor)||hasConstructor$5(e,NumberValueAccessor)||hasConstructor$5(e,SelectControlValueAccessor)||hasConstructor$5(e,SelectMultipleControlValueAccessor)||hasConstructor$5(e,RadioControlValueAccessor)}function selectValueAccessor(e,t){if(isBlank$5(t))return null;var r,n,i;return t.forEach(function(t){hasConstructor$5(t,DefaultValueAccessor)?r=t:isBuiltInAccessor(t)?(isPresent$5(n)&&_throwError$1(e,"More than one built-in value accessor matches form control with"),n=t):(isPresent$5(i)&&_throwError$1(e,"More than one custom value accessor matches form control with"),i=t)}),isPresent$5(i)?i:isPresent$5(n)?n:isPresent$5(r)?r:(_throwError$1(e,"No valid value accessor for form control with"),null)}function dispatchNext(e){var t=e.value,r=e.subscriber;r.closed||(r.next(t),r.complete())}function dispatchError(e){var t=e.err,r=e.subscriber;r.closed||r.error(t)}function _find(e,t,r){return isBlank$5(t)?null:(t instanceof Array||(t=t.split(r)),t instanceof Array&&ListWrapper$4.isEmpty(t)?null:t.reduce(function(e,t){if(e instanceof FormGroup)return isPresent$5(e.controls[t])?e.controls[t]:null;if(e instanceof FormArray){var r=t;return isPresent$5(e.at(r))?e.at(r):null}return null},e))}function toObservable(e){return isPromise$5(e)?staticFromPromise(e):e}function coerceToValidator(e){return Array.isArray(e)?composeValidators(e):e}function coerceToAsyncValidator(e){return Array.isArray(e)?composeAsyncValidators(e):e}function _hasInvalidParent(e){return!(e instanceof FormGroupName||e instanceof FormGroupDirective||e instanceof FormArrayName)}function isPromise$6(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}function getIterator(e){var t=e[$$iterator];if(!t&&"string"==typeof e)return new StringIterator(e);if(!t&&void 0!==e.length)return new ArrayIterator(e);if(!t)throw new TypeError("object is not iterable");return e[$$iterator]()}function toLength(e){var t=+e.length;return isNaN(t)?0:0!==t&&numberIsFinite(t)?(t=sign(t)*Math.floor(Math.abs(t)),t<=0?0:t>maxSafeInteger?maxSafeInteger:t):t}function numberIsFinite(e){return"number"==typeof e&&root.isFinite(e)}function sign(e){var t=+e;return 0===t?t:isNaN(t)?t:t<0?-1:1}function isScheduler(e){return e&&"function"==typeof e.schedule}function observeOn(e,t){return void 0===t&&(t=0),this.lift(new ObserveOnOperator(e,t))}function every(e,t){return this.lift(new EveryOperator(e,t,this))}function map(e,t){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new MapOperator(e,t))}function subscribeToResult(e,t,r,n){var i=new InnerSubscriber(e,r,n);if(i.closed)return null;if(t instanceof Observable)return t._isScalar?(i.next(t.value),i.complete(),null):t.subscribe(i);if(isArray$1(t)){for(var o=0,s=t.length;o<s&&!i.closed;o++)i.next(t[o]);i.closed||i.complete()}else{if(isPromise$6(t))return t.then(function(e){i.closed||(i.next(e),i.complete())},function(e){return i.error(e)}).then(null,function(e){root.setTimeout(function(){throw e})}),i;if("function"==typeof t[$$iterator])for(var a=t[$$iterator]();;){var u=a.next();if(u.done){i.complete();break}if(i.next(u.value),i.closed)break}else if("function"==typeof t[observable]){var c=t[observable]();if("function"==typeof c.subscribe)return c.subscribe(new InnerSubscriber(e,r,n));i.error(new Error("invalid observable"))}else i.error(new TypeError("unknown type returned"))}return null}function mergeAll(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),this.lift(new MergeAllOperator(e))}function mergeMap(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof t&&(r=t,t=null),this.lift(new MergeMapOperator(e,t,r))}function reduce(e,t){return this.lift(new ReduceOperator(e,t))}function _catch(e){var t=new CatchOperator(e),r=this.lift(t);return t.caught=r}function concatAll(){return this.lift(new MergeAllOperator(1))}function first(e,t,r){return this.lift(new FirstOperator(e,t,r,this))}function last$1(e,t,r){return this.lift(new LastOperator(e,t,r,this))}function shallowEqualArrays(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!shallowEqual(e[r],t[r]))return!1;return!0}function shallowEqual(e,t){var r=Object.keys(e),n=Object.keys(t);if(r.length!=n.length)return!1;for(var i,o=0;o<r.length;o++)if(i=r[o],e[i]!==t[i])return!1;return!0}function flatten(e){for(var t=[],r=0;r<e.length;++r)for(var n=0;n<e[r].length;++n)t.push(e[r][n]);return t}function last(e){return e.length>0?e[e.length-1]:null}function merge$1(e,t){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r}function forEach(e,t){for(var r in e)e.hasOwnProperty(r)&&t(e[r],r)}function waitForMap(e,t){var r=[],n={};if(forEach(e,function(e,i){i===PRIMARY_OUTLET&&r.push(map.call(t(i,e),function(e){return n[i]=e,e}))}),forEach(e,function(e,i){i!==PRIMARY_OUTLET&&r.push(map.call(t(i,e),function(e){return n[i]=e,e}))}),r.length>0){var i=concatAll.call(staticOf.apply(void 0,r)),o=last$1.call(i);return map.call(o,function(){return n})}return staticOf(n)}function andObservables(e){var t=mergeAll.call(e);return every.call(t,function(e){return e===!0})}function wrapIntoObservable(e){return e instanceof Observable?e:e instanceof Promise?staticFromPromise(e):staticOf(e)}function createEmptyUrlTree(){return new UrlTree(new UrlSegmentGroup([],{}),{},null)}function containsTree(e,t,r){return r?equalSegmentGroups(e.root,t.root):containsSegmentGroup(e.root,t.root)}function equalSegmentGroups(e,t){if(!equalPath(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(var r in t.children){if(!e.children[r])return!1;if(!equalSegmentGroups(e.children[r],t.children[r]))return!1}return!0}function containsSegmentGroup(e,t){return containsSegmentGroupHelper(e,t,t.segments)}function containsSegmentGroupHelper(e,t,r){if(e.segments.length>r.length){var n=e.segments.slice(0,r.length);return!!equalPath(n,r)&&!t.hasChildren()}if(e.segments.length===r.length){if(!equalPath(e.segments,r))return!1;for(var i in t.children){if(!e.children[i])return!1;if(!containsSegmentGroup(e.children[i],t.children[i]))return!1}return!0}var n=r.slice(0,e.segments.length),o=r.slice(e.segments.length);return!!equalPath(e.segments,n)&&(!!e.children[PRIMARY_OUTLET]&&containsSegmentGroupHelper(e.children[PRIMARY_OUTLET],t,o))}function equalPath(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r].path!==t[r].path)return!1;return!0}function mapChildrenIntoArray(e,t){var r=[];return forEach(e.children,function(e,n){n===PRIMARY_OUTLET&&(r=r.concat(t(e,n)))}),forEach(e.children,function(e,n){n!==PRIMARY_OUTLET&&(r=r.concat(t(e,n)))}),r}function serializePaths(e){return e.segments.map(function(e){return serializePath(e)}).join("/")}function serializeSegment(e,t){if(e.hasChildren()&&t){var r=e.children[PRIMARY_OUTLET]?serializeSegment(e.children[PRIMARY_OUTLET],!1):"",n=[];return forEach(e.children,function(e,t){t!==PRIMARY_OUTLET&&n.push(t+":"+serializeSegment(e,!1))}),n.length>0?r+"("+n.join("//")+")":""+r}if(e.hasChildren()&&!t){var i=mapChildrenIntoArray(e,function(t,r){return r===PRIMARY_OUTLET?[serializeSegment(e.children[PRIMARY_OUTLET],!1)]:[r+":"+serializeSegment(t,!1)]});return serializePaths(e)+"/("+i.join("//")+")"}return serializePaths(e)}function encode(e){return encodeURIComponent(e)}function decode(e){return decodeURIComponent(e)}function serializePath(e){return""+encode(e.path)+serializeParams(e.parameters)}function serializeParams(e){return pairs(e).map(function(e){return";"+encode(e.first)+"="+encode(e.second)}).join("")}function serializeQueryParams(e){var t=pairs(e).map(function(e){return encode(e.first)+"="+encode(e.second)});return t.length>0?"?"+t.join("&"):""}function pairs(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(new Pair(r,e[r]));return t}function matchSegments(e){SEGMENT_RE.lastIndex=0;var t=e.match(SEGMENT_RE);return t?t[0]:""}function matchQueryParams(e){QUERY_PARAM_RE.lastIndex=0;var t=e.match(SEGMENT_RE);return t?t[0]:""}function matchUrlQueryParamValue(e){QUERY_PARAM_VALUE_RE.lastIndex=0;var t=e.match(QUERY_PARAM_VALUE_RE);return t?t[0]:""}function noMatch(e){return new Observable(function(t){return t.error(new NoMatch(e))})}function absoluteRedirect(e){return new Observable(function(t){return t.error(new AbsoluteRedirect(e))})}function canLoadFails(e){return new Observable(function(t){return t.error(new NavigationCancelingError("Cannot load children because the guard of the route \"path: '"+e.path+"'\" returned false"))})}function applyRedirects(e,t,r,n){return new ApplyRedirects(e,t,r,n).apply()}function runGuards(e,t){var r=t.canLoad;if(!r||0===r.length)return staticOf(!0);var n=map.call(staticFrom(r),function(r){var n=e.get(r);return wrapIntoObservable(n.canLoad?n.canLoad(t):n(t))});return andObservables(n)}function match(e,t,r){var n={matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}};if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};for(var i=t.path,o=i.split("/"),s={},a=[],u=0,c=0;c<o.length;++c){if(u>=r.length)return n;var l=r[u],p=o[c],h=p.startsWith(":");if(!h&&p!==l.path)return n;h&&(s[p.substring(1)]=l),a.push(l),u++}return"full"===t.pathMatch&&(e.hasChildren()||u<r.length)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:a,lastChild:u,positionalParamSegments:s}}function applyRedirectCommands(e,t,r){var n=t.startsWith("/")?t.substring(1):t;return""===n?[]:createSegments(t,n.split("/"),e,r)}function createSegments(e,t,r,n){return t.map(function(t){return t.startsWith(":")?findPosParam(t,n,e):findOrCreateSegment(t,r)})}function findPosParam(e,t,r){var n=e.substring(1),i=t[n];if(!i)throw new Error("Cannot redirect to '"+r+"'. Cannot find '"+e+"'.");return i}function findOrCreateSegment(e,t){for(var r=0,n=0,i=t;n<i.length;n++){var o=i[n];if(o.path===e)return t.splice(r),o;r++}return new UrlSegment(e,{})}function split(e,t,r,n){if(r.length>0&&containsEmptyPathRedirectsWithNamedOutlets(e,r,n)){var i=new UrlSegmentGroup(t,createChildrenForEmptySegments(n,new UrlSegmentGroup(r,e.children)));return{segmentGroup:mergeTrivialChildren(i),slicedSegments:[]}}if(0===r.length&&containsEmptyPathRedirects(e,r,n)){var i=new UrlSegmentGroup(e.segments,addEmptySegmentsToChildrenIfNeeded(e,r,n,e.children));return{segmentGroup:mergeTrivialChildren(i),slicedSegments:r}}return{segmentGroup:e,slicedSegments:r}}function mergeTrivialChildren(e){if(1===e.numberOfChildren&&e.children[PRIMARY_OUTLET]){var t=e.children[PRIMARY_OUTLET];return new UrlSegmentGroup(e.segments.concat(t.segments),t.children)}return e}function addEmptySegmentsToChildrenIfNeeded(e,t,r,n){for(var i={},o=0,s=r;o<s.length;o++){var a=s[o];emptyPathRedirect(e,t,a)&&!n[getOutlet$1(a)]&&(i[getOutlet$1(a)]=new UrlSegmentGroup([],{}))}return merge$1(n,i)}function createChildrenForEmptySegments(e,t){var r={};r[PRIMARY_OUTLET]=t;for(var n=0,i=e;n<i.length;n++){var o=i[n];""===o.path&&getOutlet$1(o)!==PRIMARY_OUTLET&&(r[getOutlet$1(o)]=new UrlSegmentGroup([],{}))}return r}function containsEmptyPathRedirectsWithNamedOutlets(e,t,r){return r.filter(function(r){return emptyPathRedirect(e,t,r)&&getOutlet$1(r)!==PRIMARY_OUTLET}).length>0}function containsEmptyPathRedirects(e,t,r){return r.filter(function(r){return emptyPathRedirect(e,t,r)}).length>0}function emptyPathRedirect(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&(""===r.path&&void 0!==r.redirectTo)}function getOutlet$1(e){return e.outlet?e.outlet:PRIMARY_OUTLET}function validateConfig(e){e.forEach(validateNode)}function validateNode(e){if(Array.isArray(e))throw new Error("Invalid route configuration: Array cannot be specified");if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '"+e.path+"': redirectTo and children cannot be used together");if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '"+e.path+"': redirectTo and loadChildren cannot be used together");if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '"+e.path+"': children and loadChildren cannot be used together");if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '"+e.path+"': redirectTo and component cannot be used together");if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '"+e.path+"': one of the following must be provided (component or redirectTo or children or loadChildren)");if(void 0===e.path)throw new Error("Invalid route configuration: routes must have path specified");if(e.path.startsWith("/"))throw new Error("Invalid route configuration of route '"+e.path+"': path cannot start with a slash");if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch){var t="The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.";throw new Error("Invalid route configuration of route '{path: \""+e.path+'", redirectTo: "'+e.redirectTo+"\"}': please provide 'pathMatch'. "+t)}if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '"+e.path+"': pathMatch can only be set to 'prefix' or 'full'")}function findNode(e,t){if(e===t.value)return t;for(var r=0,n=t.children;r<n.length;r++){var i=n[r],o=findNode(e,i);if(o)return o}return null}function findPath(e,t,r){if(r.push(t),e===t.value)return r;for(var n=0,i=t.children;n<i.length;n++){var o=i[n],s=r.slice(0),a=findPath(e,o,s);if(a.length>0)return a}return[]}function createEmptyState(e,t){var r=createEmptyStateSnapshot(e,t),n=new BehaviorSubject([new UrlSegment("",{})]),i=new BehaviorSubject({}),o=new BehaviorSubject({}),s=new BehaviorSubject({}),a=new BehaviorSubject(""),u=new ActivatedRoute(n,i,s,a,o,PRIMARY_OUTLET,t,r.root);return u.snapshot=r.root,new RouterState(new TreeNode(u,[]),r)}function createEmptyStateSnapshot(e,t){var r={},n={},i={},o="",s=new ActivatedRouteSnapshot([],r,i,o,n,PRIMARY_OUTLET,t,null,e.root,(-1),InheritedResolve.empty);return new RouterStateSnapshot("",new TreeNode(s,[]))}function setRouterStateSnapshot(e,t){t.value._routerState=e,t.children.forEach(function(t){return setRouterStateSnapshot(e,t)})}function serializeNode(e){var t=e.children.length>0?" { "+e.children.map(serializeNode).join(", ")+" } ":"";return""+e.value+t}function advanceActivatedRoute(e){e.snapshot?(shallowEqual(e.snapshot.queryParams,e._futureSnapshot.queryParams)||e.queryParams.next(e._futureSnapshot.queryParams),e.snapshot.fragment!==e._futureSnapshot.fragment&&e.fragment.next(e._futureSnapshot.fragment),shallowEqual(e.snapshot.params,e._futureSnapshot.params)||(e.params.next(e._futureSnapshot.params),e.data.next(e._futureSnapshot.data)),shallowEqualArrays(e.snapshot.url,e._futureSnapshot.url)||e.url.next(e._futureSnapshot.url),e.snapshot=e._futureSnapshot):(e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data))}function createRouterState(e,t){var r=createNode(e._root,t?t._root:void 0);return new RouterState(r,e)}function createNode(e,t){if(t&&equalRouteSnapshots(t.value.snapshot,e.value)){var r=t.value;r._futureSnapshot=e.value;var n=createOrReuseChildren(e,t);return new TreeNode(r,n)}var r=createActivatedRoute(e.value),n=e.children.map(function(e){return createNode(e)});return new TreeNode(r,n)}function createOrReuseChildren(e,t){return e.children.map(function(e){for(var r=0,n=t.children;r<n.length;r++){var i=n[r];if(equalRouteSnapshots(i.value.snapshot,e.value))return createNode(e,i)}return createNode(e)})}function createActivatedRoute(e){return new ActivatedRoute(new BehaviorSubject(e.url),new BehaviorSubject(e.params),new BehaviorSubject(e.queryParams),new BehaviorSubject(e.fragment),new BehaviorSubject(e.data),e.outlet,e.component,e)}function equalRouteSnapshots(e,t){return e._routeConfig===t._routeConfig}function createUrlTree(e,t,r,n,i){if(0===r.length)return tree(t.root,t.root,t,n,i);var o=normalizeCommands(r);if(validateCommands(o),navigateToRoot(o))return tree(t.root,new UrlSegmentGroup([],{}),t,n,i);var s=findStartingPosition(o,t,e),a=s.processChildren?updateSegmentGroupChildren(s.segmentGroup,s.index,o.commands):updateSegmentGroup(s.segmentGroup,s.index,o.commands);return tree(s.segmentGroup,a,t,n,i)}function validateCommands(e){if(e.isAbsolute&&e.commands.length>0&&isMatrixParams(e.commands[0]))throw new Error("Root segment cannot have matrix parameters");var t=e.commands.filter(function(e){return"object"==typeof e&&void 0!==e.outlets});if(t.length>0&&t[0]!==e.commands[e.commands.length-1])throw new Error("{outlets:{}} has to be the last command")}function isMatrixParams(e){return"object"==typeof e&&void 0===e.outlets&&void 0===e.segmentPath}function tree(e,t,r,n,i){return r.root===e?new UrlTree(t,stringify$6(n),i):new UrlTree(replaceSegment(r.root,e,t),stringify$6(n),i)}function replaceSegment(e,t,r){var n={};return forEach(e.children,function(e,i){e===t?n[i]=r:n[i]=replaceSegment(e,t,r)}),new UrlSegmentGroup(e.segments,n)}function navigateToRoot(e){return e.isAbsolute&&1===e.commands.length&&"/"==e.commands[0]}function normalizeCommands(e){if("string"==typeof e[0]&&1===e.length&&"/"==e[0])return new NormalizedNavigationCommands((!0),0,e);for(var t=0,r=!1,n=[],i=function(i){var o=e[i];if("object"==typeof o&&void 0!==o.outlets){var s={};return forEach(o.outlets,function(e,t){"string"==typeof e?s[t]=e.split("/"):s[t]=e}),n.push({outlets:s}),"continue"}if("object"==typeof o&&void 0!==o.segmentPath)return n.push(o.segmentPath),"continue";if("string"!=typeof o)return n.push(o),"continue";if(0===i)for(var a=o.split("/"),u=0;u<a.length;++u){var c=a[u];0==u&&"."==c||(0==u&&""==c?r=!0:".."==c?t++:""!=c&&n.push(c))}else n.push(o)},o=0;o<e.length;++o)i(o);return new NormalizedNavigationCommands(r,t,n)}function findStartingPosition(e,t,r){if(e.isAbsolute)return new Position(t.root,(!0),0);if(r.snapshot._lastPathIndex===-1)return new Position(r.snapshot._urlSegment,(!0),0);var n=isMatrixParams(e.commands[0])?0:1,i=r.snapshot._lastPathIndex+n;return createPositionApplyingDoubleDots(r.snapshot._urlSegment,i,e.numberOfDoubleDots)}function createPositionApplyingDoubleDots(e,t,r){for(var n=e,i=t,o=r;o>i;){if(o-=i,n=n.parent,!n)throw new Error("Invalid number of '../'");i=n.segments.length}return new Position(n,(!1),i-o)}function getPath(e){return""+e}function getOutlets(e){return"object"!=typeof e[0]?(t={},t[PRIMARY_OUTLET]=e,t):void 0===e[0].outlets?(r={},r[PRIMARY_OUTLET]=e,r):e[0].outlets;var t,r}function updateSegmentGroup(e,t,r){if(e||(e=new UrlSegmentGroup([],{})),0===e.segments.length&&e.hasChildren())return updateSegmentGroupChildren(e,t,r);var n=prefixedWith(e,t,r),i=r.slice(n.lastIndex);return n.match&&0===i.length?new UrlSegmentGroup(e.segments,{}):n.match&&!e.hasChildren()?createNewSegmentGroup(e,t,r):n.match?updateSegmentGroupChildren(e,0,i):createNewSegmentGroup(e,t,r)}function updateSegmentGroupChildren(e,t,r){if(0===r.length)return new UrlSegmentGroup(e.segments,{});var n=getOutlets(r),i={};return forEach(n,function(r,n){null!==r&&(i[n]=updateSegmentGroup(e.children[n],t,r))}),forEach(e.children,function(e,t){void 0===n[t]&&(i[t]=e)}),new UrlSegmentGroup(e.segments,i)}function prefixedWith(e,t,r){for(var n=0,i=t,o={match:!1,lastIndex:0};i<e.segments.length;){if(n>=r.length)return o;var s=e.segments[i],a=getPath(r[n]),u=n<r.length-1?r[n+1]:null;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!compare(a,u,s))return o;n+=2}else{if(!compare(a,{},s))return o;n++}i++}return{match:!0,lastIndex:n}}function createNewSegmentGroup(e,t,r){for(var n=e.segments.slice(0,t),i=0;i<r.length;){if("object"==typeof r[i]&&void 0!==r[i].outlets){var o=createNewSegmentChldren(r[i].outlets);return new UrlSegmentGroup(n,o)}if(0===i&&isMatrixParams(r[0])){var s=e.segments[t];n.push(new UrlSegment(s.path,r[0])),i++}else{var a=getPath(r[i]),u=i<r.length-1?r[i+1]:null;a&&u&&isMatrixParams(u)?(n.push(new UrlSegment(a,stringify$6(u))),i+=2):(n.push(new UrlSegment(a,{})),i++)}}return new UrlSegmentGroup(n,{})}function createNewSegmentChldren(e){var t={};return forEach(e,function(e,r){null!==e&&(t[r]=createNewSegmentGroup(new UrlSegmentGroup([],{}),0,e))}),t}function stringify$6(e){var t={};return forEach(e,function(e,r){return t[r]=""+e}),t}function compare(e,t,r){return e==r.path&&shallowEqual(t,r.parameters)}function recognize(e,t,r,n){return new Recognizer(e,t,r,n).recognize()}function sortActivatedRouteSnapshots(e){e.sort(function(e,t){return e.value.outlet===PRIMARY_OUTLET?-1:t.value.outlet===PRIMARY_OUTLET?1:e.value.outlet.localeCompare(t.value.outlet)})}function getChildConfig(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}function match$1(e,t,r,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||r.length>0))throw new NoMatch$1;var i=n?n.params:{};return{consumedSegments:[],lastChild:0,parameters:i}}for(var o=t.path,s=o.split("/"),a={},u=[],c=0,l=0;l<s.length;++l){if(c>=r.length)throw new NoMatch$1;var p=r[c],h=s[l],f=h.startsWith(":");if(!f&&h!==p.path)throw new NoMatch$1;f&&(a[h.substring(1)]=p.path),u.push(p),c++}if("full"===t.pathMatch&&(e.hasChildren()||c<r.length))throw new NoMatch$1;var d=merge$1(a,u[u.length-1].parameters);return{consumedSegments:u,lastChild:c,parameters:d}}function checkOutletNameUniqueness(e){var t={};e.forEach(function(e){var r=t[e.value.outlet];if(r){var n=r.url.map(function(e){return e.toString()}).join("/"),i=e.value.url.map(function(e){return e.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+n+"' and '"+i+"'.")}t[e.value.outlet]=e.value})}function getSourceSegmentGroup(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function getPathIndexShift(e){for(var t=e,r=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)t=t._sourceSegment,r+=t._segmentIndexShift?t._segmentIndexShift:0;return r-1}function split$1(e,t,r,n){if(r.length>0&&containsEmptyPathMatchesWithNamedOutlets(e,r,n)){var i=new UrlSegmentGroup(t,createChildrenForEmptyPaths(e,t,n,new UrlSegmentGroup(r,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===r.length&&containsEmptyPathMatches(e,r,n)){var i=new UrlSegmentGroup(e.segments,addEmptyPathsToChildrenIfNeeded(e,r,n,e.children));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:r}}var i=new UrlSegmentGroup(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:r}}function addEmptyPathsToChildrenIfNeeded(e,t,r,n){for(var i={},o=0,s=r;o<s.length;o++){var a=s[o];if(emptyPathMatch(e,t,a)&&!n[getOutlet$2(a)]){var u=new UrlSegmentGroup([],{});u._sourceSegment=e,u._segmentIndexShift=e.segments.length,i[getOutlet$2(a)]=u}}return merge$1(n,i)}function createChildrenForEmptyPaths(e,t,r,n){var i={};i[PRIMARY_OUTLET]=n,n._sourceSegment=e,n._segmentIndexShift=t.length;for(var o=0,s=r;o<s.length;o++){var a=s[o];if(""===a.path&&getOutlet$2(a)!==PRIMARY_OUTLET){var u=new UrlSegmentGroup([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[getOutlet$2(a)]=u}}return i}function containsEmptyPathMatchesWithNamedOutlets(e,t,r){return r.filter(function(r){return emptyPathMatch(e,t,r)&&getOutlet$2(r)!==PRIMARY_OUTLET}).length>0}function containsEmptyPathMatches(e,t,r){return r.filter(function(r){return emptyPathMatch(e,t,r)}).length>0}function emptyPathMatch(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&(""===r.path&&void 0===r.redirectTo)}function getOutlet$2(e){return e.outlet?e.outlet:PRIMARY_OUTLET}function getData(e){return e.data?e.data:{}}function getResolve(e){return e.resolve?e.resolve:{}}function defaultErrorHandler(e){throw e}function parentLoadedConfig(e){for(var t=e.parent;t;){var r=t._routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null;t=t.parent}return null}function closestLoadedConfig(e){if(!e)return null;for(var t=e.parent;t;){var r=t._routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;t=t.parent}return null}function nodeChildrenAsMap(e){return e?e.children.reduce(function(e,t){return e[t.value.outlet]=t,e},{}):{}}function getOutlet(e,t){var r=e._outlets[t.outlet];if(!r){var n=t.component.name;throw t.outlet===PRIMARY_OUTLET?new Error("Cannot find primary outlet to load '"+n+"'"):new Error("Cannot find the outlet "+t.outlet+" to load '"+n+"'")}return r}function toBool(e){return""===e||!!e}function provideLocationStrategy(e,t,r){return void 0===r&&(r={}),r.useHash?new HashLocationStrategy(e,t):new PathLocationStrategy(e,t)}function provideForRootGuard(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function provideRoutes(e){return[{provide:ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:e},{provide:ROUTES,multi:!0,useValue:e}]}function setupRouter(e,t,r,n,i,o,s,a,u){if(void 0===u&&(u={}),0==e.componentTypes.length)throw new Error("Bootstrap at least one component before injecting Router.");var c=e.componentTypes[0],l=new Router(c,t,r,n,i,o,s,flatten(a));return u.errorHandler&&(l.errorHandler=u.errorHandler),u.enableTracing&&l.events.subscribe(function(e){console.group("Router Event: "+e.constructor.name),console.log(e.toString()),console.log(e),console.groupEnd()}),l}function rootRoute(e){return e.routerState.root}function initialRouterNavigation(e,t){return function(){t.initialNavigation===!1?e.setUpLocationChangeListener():e.initialNavigation()}}function provideRouterInitializer(){return{provide:APP_BOOTSTRAP_LISTENER,multi:!0,useFactory:initialRouterNavigation,deps:[Router,ROUTER_CONFIGURATION]}}function isPresent$6(e){return void 0!==e&&null!==e}function isBlank$6(e){return void 0===e||null===e}function isString$6(e){return"string"==typeof e}function isArray$7(e){return Array.isArray(e)}function isJsObject$6(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function getSymbolIterator$6(){if(isBlank$6(_symbolIterator$6))if(isPresent$6(globalScope$6.Symbol)&&isPresent$6(Symbol.iterator))_symbolIterator$6=Symbol.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),t=0;t<e.length;++t){var r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(_symbolIterator$6=r)}return _symbolIterator$6}function _flattenArray$5(e,t){if(isPresent$6(e))for(var r=0;r<e.length;r++){var n=e[r];isArray$7(n)?_flattenArray$5(n,t):t.push(n)}return t}function isListLikeIterable$5(e){return!!isJsObject$6(e)&&(isArray$7(e)||!(e instanceof Map$6)&&getSymbolIterator$6()in e)}function iterateListLike$5(e,t){if(isArray$7(e))for(var r=0;r<e.length;r++)t(e[r]);else for(var n,i=e[getSymbolIterator$6()]();!(n=i.next()).done;)t(n.value)}function normalize(e){return e.toLowerCase()}function normalizeMethodName(e){if(isString$6(e)){var t=e;if(e=e.replace(/(\w)(\w*)/g,function(e,t,r){return t.toUpperCase()+r.toLowerCase()}),e=RequestMethod[e],"number"!=typeof e)throw new Error('Invalid request method. The method "'+t+'" is not supported.')}return e}function getResponseURL(e){return"responseURL"in e?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):void 0}function stringToArrayBuffer(e){for(var t=new Uint16Array(e.length),r=0,n=e.length;r<n;r++)t[r]=e.charCodeAt(r);return t.buffer}function paramParser(e){void 0===e&&(e="");var t=new Map$6;if(e.length>0){var r=e.split("&");r.forEach(function(e){var r=e.indexOf("="),n=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)],i=n[0],o=n[1],s=t.get(i)||[];s.push(o),t.set(i,s)})}return t}function standardEncoding(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function _getJsonpConnections(){return null===_jsonpConnections&&(_jsonpConnections=global$7[JSONP_HOME]={}),_jsonpConnections}function httpRequest(e,t){return e.createConnection(t).response}function mergeOptions(e,t,r,n){var i=e;return isPresent$6(t)?i.merge(new RequestOptions({method:t.method||r,url:t.url||n,search:t.search,headers:t.headers,body:t.body,withCredentials:t.withCredentials,responseType:t.responseType})):isPresent$6(r)?i.merge(new RequestOptions({method:r,url:n})):i.merge(new RequestOptions({url:n}))}function _createDefaultCookieXSRFStrategy(){return new CookieXSRFStrategy}function httpFactory(e,t){return new Http(e,t)}function zipValidator(e){var t=/^\d{5}$/.test(e.value);return t?null:{invalidZip:!0}}function dispatchNext$1(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function dispatchError$1(e){var t=e.err,r=e.subject;r.error(t)}function dispatch(e){var t=this,r=e.source,n=e.subscriber,i=r.callbackFunc,o=r.args,s=r.scheduler,a=r.subject;if(!a){a=r.subject=new AsyncSubject;var u=function e(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];var i=e.source,o=i.selector,a=i.subject,u=r.shift();if(u)a.error(u);else if(o){var c=tryCatch(o).apply(this,r);c===errorObject?t.add(s.schedule(dispatchError$2,0,{err:errorObject.e,subject:a})):t.add(s.schedule(dispatchNext$2,0,{value:c,subject:a}))}else{var l=1===r.length?r[0]:r;t.add(s.schedule(dispatchNext$2,0,{value:l,subject:a}))}};u.source=r;var c=tryCatch(i).apply(this,o.concat(u));c===errorObject&&a.error(errorObject.e)}t.add(a.subscribe(n))}function dispatchNext$2(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function dispatchError$2(e){var t=e.err,r=e.subject;r.error(t)}function combineLatest$1(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&isArray$1(e[0])&&(e=e[0]),e.unshift(this),new ArrayObservable(e).lift(new CombineLatestOperator(r))}function combineLatest(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null,n=null;return isScheduler(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&isArray$1(e[0])&&(e=e[0]),new ArrayObservable(e,n).lift(new CombineLatestOperator(r))}function concat$2(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return concatStatic.apply(void 0,[this].concat(e))}function concatStatic(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null,n=e;return isScheduler(n[e.length-1])&&(r=n.pop()),new ArrayObservable(e,r).lift(new MergeAllOperator(1))}function isNodeStyleEventEmmitter(e){return!!e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function isJQueryStyleEventEmitter(e){return!!e&&"function"==typeof e.on&&"function"==typeof e.off}function isNodeList(e){return!!e&&"[object NodeList]"===e.toString()}function isHTMLCollection(e){return!!e&&"[object HTMLCollection]"===e.toString()}function isEventTarget(e){return!!e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}function isNumeric(e){return!isArray$1(e)&&e-parseFloat(e)+1>=0}function merge$3(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];
return e.unshift(this),mergeStatic.apply(this,e)}function mergeStatic(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];return isScheduler(i)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof i&&(r=e.pop()),1===e.length?e[0]:new ArrayObservable(e,n).lift(new MergeAllOperator(r))}function race(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length&&isArray$1(e[0])&&(e=e[0]),e.unshift(this),raceStatic.apply(this,e)}function raceStatic(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(1===e.length){if(!isArray$1(e[0]))return e[0];e=e[0]}return new ArrayObservable(e).lift(new RaceOperator)}function noop$8(){}function onErrorResumeNext(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length&&isArray$1(e[0])&&(e=e[0]),this.lift(new OnErrorResumeNextOperator(e))}function onErrorResumeNextStatic(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null;return 1===e.length&&isArray$1(e[0])&&(e=e[0]),r=e.shift(),new FromObservable(r,null).lift(new OnErrorResumeNextOperator(e))}function dispatch$1(e){var t=e.obj,r=e.keys,n=e.length,i=e.index,o=e.subscriber;if(i===n)return void o.complete();var s=r[i];o.next([s,t[s]]),e.index=i+1,this.schedule(e)}function isDate$7(e){return e instanceof Date&&!isNaN(+e)}function zipProto(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.unshift(this),zipStatic.apply(this,e)}function zipStatic(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[e.length-1];return"function"==typeof r&&e.pop(),new ArrayObservable(e).lift(new ZipOperator(r))}function getCORSRequest(){if(root.XMLHttpRequest){var e=new root.XMLHttpRequest;return"withCredentials"in e&&(e.withCredentials=!!this.withCredentials),e}if(root.XDomainRequest)return new root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function getXMLHttpRequest(){if(root.XMLHttpRequest)return new root.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(e=t[r],new root.ActiveXObject(e))break}catch(e){}return new root.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}function ajaxGet(e,t){return void 0===t&&(t=null),new AjaxObservable({method:"GET",url:e,headers:t})}function ajaxPost(e,t,r){return new AjaxObservable({method:"POST",url:e,body:t,headers:r})}function ajaxDelete(e,t){return new AjaxObservable({method:"DELETE",url:e,headers:t})}function ajaxPut(e,t,r){return new AjaxObservable({method:"PUT",url:e,body:t,headers:r})}function ajaxGetJSON(e,t){return new AjaxObservable({method:"GET",url:e,responseType:"json",headers:t}).map(function(e){return e.response})}function buffer(e){return this.lift(new BufferOperator(e))}function bufferCount(e,t){return void 0===t&&(t=null),this.lift(new BufferCountOperator(e,t))}function bufferTime(e){var t=arguments.length,r=async;isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],t--);var n=null;t>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),this.lift(new BufferTimeOperator(e,n,i,r))}function dispatchBufferTimeSpanOnly(e){var t=e.subscriber,r=e.context;r&&t.closeContext(r),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function dispatchBufferCreation(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,n=e.subscriber,i=e.scheduler,o=n.openContext(),s=this;n.closed||(n.add(o.closeAction=i.schedule(dispatchBufferClose,r,{subscriber:n,context:o})),s.schedule(e,t))}function dispatchBufferClose(e){var t=e.subscriber,r=e.context;t.closeContext(r)}function bufferToggle(e,t){return this.lift(new BufferToggleOperator(e,t))}function bufferWhen(e){return this.lift(new BufferWhenOperator(e))}function cache(e,t,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===t&&(t=Number.POSITIVE_INFINITY);var n,i,o=this,s=0,a=function(){return n=new ReplaySubject(e,t,r)};return new Observable(function(e){n||(n=a(),i=o.subscribe(function(e){return n.next(e)},function(e){var t=n;n=null,t.error(e)},function(){return n.complete()})),s++,n||(n=a());var t=n.subscribe(e);return function(){s--,t&&t.unsubscribe(),0===s&&i.unsubscribe()}})}function combineAll(e){return this.lift(new CombineLatestOperator(e))}function concatMap(e,t){return this.lift(new MergeMapOperator(e,t,1))}function mergeMapTo(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof t&&(r=t,t=null),this.lift(new MergeMapToOperator(e,t,r))}function concatMapTo(e,t){return this.lift(new MergeMapToOperator(e,t,1))}function count(e){return this.lift(new CountOperator(e,this))}function dematerialize(){return this.lift(new DeMaterializeOperator)}function debounce(e){return this.lift(new DebounceOperator(e))}function debounceTime(e,t){return void 0===t&&(t=async),this.lift(new DebounceTimeOperator(e,t))}function dispatchNext$3(e){e.debouncedNext()}function defaultIfEmpty(e){return void 0===e&&(e=null),this.lift(new DefaultIfEmptyOperator(e))}function delay(e,t){void 0===t&&(t=async);var r=isDate$7(e),n=r?+e-t.now():Math.abs(e);return this.lift(new DelayOperator(n,t))}function delayWhen(e,t){return t?new SubscriptionDelayObservable(this,t).lift(new DelayWhenOperator(e)):this.lift(new DelayWhenOperator(e))}function distinct(e,t){return this.lift(new DistinctOperator(e,t))}function distinctKey(e,t,r){return distinct.call(this,function(r,n){return t?t(r[e],n[e]):r[e]===n[e]},r)}function distinctUntilChanged(e,t){return this.lift(new DistinctUntilChangedOperator(e,t))}function distinctUntilKeyChanged(e,t){return distinctUntilChanged.call(this,function(r,n){return t?t(r[e],n[e]):r[e]===n[e]})}function _do(e,t,r){return this.lift(new DoOperator(e,t,r))}function exhaust(){return this.lift(new SwitchFirstOperator)}function exhaustMap(e,t){return this.lift(new SwitchFirstMapOperator(e,t))}function expand(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,this.lift(new ExpandOperator(e,t,r))}function elementAt(e,t){return this.lift(new ElementAtOperator(e,t))}function filter(e,t){return this.lift(new FilterOperator(e,t))}function _finally(e){return this.lift(new FinallyOperator(e))}function find(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return this.lift(new FindValueOperator(e,this,(!1),t))}function findIndex(e,t){return this.lift(new FindValueOperator(e,this,(!0),t))}function groupBy(e,t,r){return this.lift(new GroupByOperator(this,e,t,r))}function ignoreElements(){return this.lift(new IgnoreElementsOperator)}function isEmpty(){return this.lift(new IsEmptyOperator)}function audit(e){return this.lift(new AuditOperator(e))}function auditTime(e,t){return void 0===t&&(t=async),this.lift(new AuditTimeOperator(e,t))}function dispatchNext$4(e){e.clearThrottle()}function letProto(e){return e(this)}function mapTo(e){return this.lift(new MapToOperator(e))}function materialize(){return this.lift(new MaterializeOperator)}function max(e){var t="function"==typeof e?e:function(e,t){return e>t?e:t};return this.lift(new ReduceOperator(t))}function mergeScan(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),this.lift(new MergeScanOperator(e,t,r))}function min(e){var t="function"==typeof e?e:function(e,t){return e<t?e:t};return this.lift(new ReduceOperator(t))}function multicast(e,t){var r;return r="function"==typeof e?e:function(){return e},t?new MulticastObservable(this,r,t):new ConnectableObservable(this,r)}function pairwise(){return this.lift(new PairwiseOperator)}function not$1(e,t){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=e,r.thisArg=t,r}function partition(e,t){return[filter.call(this,e),filter.call(this,not$1(e,t))]}function pluck(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return map.call(this,plucker(e,r))}function plucker(e,t){var r=function(r){for(var n=r,i=0;i<t;i++){var o=n[e[i]];if("undefined"==typeof o)return;n=o}return n};return r}function publish(e){return e?multicast.call(this,function(){return new Subject},e):multicast.call(this,new Subject)}function publishBehavior(e){return multicast.call(this,new BehaviorSubject(e))}function publishReplay(e,t,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===t&&(t=Number.POSITIVE_INFINITY),multicast.call(this,new ReplaySubject(e,t,r))}function publishLast(){return multicast.call(this,new AsyncSubject)}function repeat(e){return void 0===e&&(e=-1),0===e?new EmptyObservable:e<0?this.lift(new RepeatOperator((-1),this)):this.lift(new RepeatOperator(e-1,this))}function retry(e){return void 0===e&&(e=-1),this.lift(new RetryOperator(e,this))}function retryWhen(e){return this.lift(new RetryWhenOperator(e,this))}function sample(e){return this.lift(new SampleOperator(e))}function sampleTime(e,t){return void 0===t&&(t=async),this.lift(new SampleTimeOperator(e,t))}function dispatchNotification(e){var t=e.subscriber,r=e.period;t.notifyNext(),this.schedule(e,r)}function scan(e,t){return this.lift(new ScanOperator(e,t))}function shareSubjectFactory(){return new Subject}function share(){return multicast.call(this,shareSubjectFactory).refCount()}function single(e){return this.lift(new SingleOperator(e,this))}function skip(e){return this.lift(new SkipOperator(e))}function skipUntil(e){return this.lift(new SkipUntilOperator(e))}function skipWhile(e){return this.lift(new SkipWhileOperator(e))}function startWith(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[e.length-1];isScheduler(r)?e.pop():r=null;var n=e.length;return 1===n?concatStatic(new ScalarObservable(e[0],r),this):n>1?concatStatic(new ArrayObservable(e,r),this):concatStatic(new EmptyObservable(r),this)}function subscribeOn(e,t){return void 0===t&&(t=0),new SubscribeOnObservable(this,t,e)}function _switch(){return this.lift(new SwitchOperator)}function switchMap(e,t){return this.lift(new SwitchMapOperator(e,t))}function switchMapTo(e,t){return this.lift(new SwitchMapToOperator(e,t))}function take(e){return 0===e?new EmptyObservable:this.lift(new TakeOperator(e))}function takeLast(e){return 0===e?new EmptyObservable:this.lift(new TakeLastOperator(e))}function takeUntil(e){return this.lift(new TakeUntilOperator(e))}function takeWhile(e){return this.lift(new TakeWhileOperator(e))}function throttle(e){return this.lift(new ThrottleOperator(e))}function throttleTime(e,t){return void 0===t&&(t=async),this.lift(new ThrottleTimeOperator(e,t))}function dispatchNext$5(e){var t=e.subscriber;t.clearThrottle()}function timeInterval(e){return void 0===e&&(e=async),this.lift(new TimeIntervalOperator(e))}function timeout(e,t,r){void 0===t&&(t=null),void 0===r&&(r=async);var n=isDate$7(e),i=n?+e-r.now():Math.abs(e);return this.lift(new TimeoutOperator(i,n,t,r))}function timeoutWith(e,t,r){void 0===r&&(r=async);var n=isDate$7(e),i=n?+e-r.now():Math.abs(e);return this.lift(new TimeoutWithOperator(i,n,t,r))}function timestamp(e){return void 0===e&&(e=async),this.lift(new TimestampOperator(e))}function toArray(){return this.lift(new ToArrayOperator)}function window$1(e){return this.lift(new WindowOperator(e))}function windowCount(e,t){return void 0===t&&(t=0),this.lift(new WindowCountOperator(e,t))}function windowTime(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=async),this.lift(new WindowTimeOperator(e,t,r))}function dispatchWindowTimeSpanOnly(e){var t=e.subscriber,r=e.windowTimeSpan,n=e.window;n&&n.complete(),e.window=t.openWindow(),this.schedule(e,r)}function dispatchWindowCreation(e){var t=e.windowTimeSpan,r=e.subscriber,n=e.scheduler,i=e.windowCreationInterval,o=r.openWindow(),s=this,a={action:s,subscription:null},u={subscriber:r,window:o,context:a};a.subscription=n.schedule(dispatchWindowClose,t,u),s.add(a.subscription),s.schedule(e,i)}function dispatchWindowClose(e){var t=e.subscriber,r=e.window,n=e.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),t.closeWindow(r)}function windowToggle(e,t){return this.lift(new WindowToggleOperator(e,t))}function windowWhen(e){return this.lift(new WindowOperator$1(e))}function withLatestFrom(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r;"function"==typeof e[e.length-1]&&(r=e.pop());var n=e;return this.lift(new WithLatestFromOperator(n,r))}function zipAll(e){return this.lift(new ZipOperator(e))}function applyMixins(e,t){for(var r=0,n=t.length;r<n;r++)for(var i=t[r],o=Object.getOwnPropertyNames(i.prototype),s=0,a=o.length;s<a;s++){var u=o[s];e.prototype[u]=i.prototype[u]}}var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},globalScope;globalScope="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var global$1=globalScope,Math$1=global$1.Math;global$1.assert=function(e){};var StringWrapper=function(){function e(){}return e.fromCharCode=function(e){return String.fromCharCode(e)},e.charCodeAt=function(e,t){return e.charCodeAt(t)},e.split=function(e,t){return e.split(t)},e.equals=function(e,t){return e===t},e.stripLeft=function(e,t){if(e&&e.length){for(var r=0,n=0;n<e.length&&e[n]==t;n++)r++;e=e.substring(r)}return e},e.stripRight=function(e,t){if(e&&e.length){for(var r=e.length,n=e.length-1;n>=0&&e[n]==t;n--)r--;e=e.substring(0,r)}return e},e.replace=function(e,t,r){return e.replace(t,r)},e.replaceAll=function(e,t,r){return e.replace(t,r)},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.replaceAllMapped=function(e,t,r){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.splice(-2,2),r(e)})},e.contains=function(e,t){return e.indexOf(t)!=-1},e.compare=function(e,t){return e<t?-1:e>t?1:0},e}(),NumberWrapper=function(){function e(){}return e.toFixed=function(e,t){return e.toFixed(t)},e.equal=function(e,t){return e===t},e.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t},e.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t)}else if(16==t){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t)}else{var r=parseInt(e,t);if(!isNaN(r))return r}throw new Error("Invalid integer literal when parsing "+e+" in base "+t)},e.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNumeric=function(e){return!isNaN(e-parseFloat(e))},e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}(),_symbolIterator=null,InjectMetadata=function(){function e(e){this.token=e}return e.prototype.toString=function(){return"@Inject("+stringify(this.token)+")"},e}(),OptionalMetadata=function(){function e(){}return e.prototype.toString=function(){return"@Optional()"},e}(),DependencyMetadata=function(){function e(){}return Object.defineProperty(e.prototype,"token",{get:function(){return null},enumerable:!0,configurable:!0}),e}(),InjectableMetadata=function(){function e(){}return e}(),SelfMetadata=function(){function e(){}return e.prototype.toString=function(){return"@Self()"},e}(),SkipSelfMetadata=function(){function e(){}return e.prototype.toString=function(){return"@SkipSelf()"},e}(),HostMetadata=function(){function e(){}return e.prototype.toString=function(){return"@Host()"},e}(),_nextClassId=0,Reflect$1=global$1.Reflect,Inject=makeParamDecorator(InjectMetadata),Optional=makeParamDecorator(OptionalMetadata),Injectable=makeDecorator(InjectableMetadata),Self=makeParamDecorator(SelfMetadata),Host=makeParamDecorator(HostMetadata),SkipSelf=makeParamDecorator(SkipSelfMetadata),OpaqueToken=function(){function e(e){this._desc=e}return e.prototype.toString=function(){return"Token "+this._desc},e.decorators=[{type:Injectable}],e.ctorParameters=[null],e}(),__extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},ANALYZE_FOR_ENTRY_COMPONENTS=new OpaqueToken("AnalyzeForEntryComponents"),AttributeMetadata=function(e){function t(t){e.call(this),this.attributeName=t}return __extends(t,e),Object.defineProperty(t.prototype,"token",{get:function(){return this},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"@Attribute("+stringify(this.attributeName)+")"},t}(DependencyMetadata),QueryMetadata=function(e){function t(t,r){var n=void 0===r?{}:r,i=n.descendants,o=void 0!==i&&i,s=n.first,a=void 0!==s&&s,u=n.read,c=void 0===u?null:u;e.call(this),this._selector=t,this.descendants=o,this.first=a,this.read=c}return __extends(t,e),Object.defineProperty(t.prototype,"isViewQuery",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selector",{get:function(){return resolveForwardRef(this._selector)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVarBindingQuery",{get:function(){return isString(this.selector)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"varBindings",{get:function(){return StringWrapper.split(this.selector,/\s*,\s*/g)},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"@Query("+stringify(this.selector)+")"},t}(DependencyMetadata),ContentChildrenMetadata=function(e){function t(t,r){var n=void 0===r?{}:r,i=n.descendants,o=void 0!==i&&i,s=n.read,a=void 0===s?null:s;e.call(this,t,{descendants:o,read:a})}return __extends(t,e),t}(QueryMetadata),ContentChildMetadata=function(e){function t(t,r){var n=(void 0===r?{}:r).read,i=void 0===n?null:n;e.call(this,t,{descendants:!0,first:!0,read:i})}return __extends(t,e),t}(QueryMetadata),ViewQueryMetadata=function(e){function t(t,r){var n=void 0===r?{}:r,i=n.descendants,o=void 0!==i&&i,s=n.first,a=void 0!==s&&s,u=n.read,c=void 0===u?null:u;e.call(this,t,{descendants:o,first:a,read:c})}return __extends(t,e),Object.defineProperty(t.prototype,"isViewQuery",{get:function(){return!0},enumerable:!0,configurable:!0}),t}(QueryMetadata),ViewChildrenMetadata=function(e){function t(t,r){var n=(void 0===r?{}:r).read,i=void 0===n?null:n;e.call(this,t,{descendants:!0,read:i})}return __extends(t,e),t.prototype.toString=function(){return"@ViewChildren("+stringify(this.selector)+")"},t}(ViewQueryMetadata),ViewChildMetadata=function(e){function t(t,r){var n=(void 0===r?{}:r).read,i=void 0===n?null:n;e.call(this,t,{descendants:!0,first:!0,read:i})}return __extends(t,e),t}(ViewQueryMetadata),ChangeDetectionStrategy;!function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"}(ChangeDetectionStrategy||(ChangeDetectionStrategy={}));var ChangeDetectorStatus;!function(e){e[e.CheckOnce=0]="CheckOnce",e[e.Checked=1]="Checked",e[e.CheckAlways=2]="CheckAlways",e[e.Detached=3]="Detached",e[e.Errored=4]="Errored",e[e.Destroyed=5]="Destroyed"}(ChangeDetectorStatus||(ChangeDetectorStatus={}));var CHANGE_DETECTION_STRATEGY_VALUES=[ChangeDetectionStrategy.OnPush,ChangeDetectionStrategy.Default],__extends$2=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},BaseError=function(e){function t(t){var r=e.call(this,t);this._nativeError=r}return __extends$2(t,e),Object.defineProperty(t.prototype,"message",{get:function(){return this._nativeError.message},set:function(e){this._nativeError.message=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._nativeError.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stack",{get:function(){return this._nativeError.stack},set:function(e){this._nativeError.stack=e},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this._nativeError.toString()},t}(Error),WrappedError=function(e){function t(t,r){e.call(this,t+" caused by: "+(r instanceof Error?r.message:r)),this.originalError=r}return __extends$2(t,e),Object.defineProperty(t.prototype,"stack",{get:function(){return(this.originalError instanceof Error?this.originalError:this._nativeError).stack},enumerable:!0,configurable:!0}),t}(BaseError),_THROW_IF_NOT_FOUND=new Object,THROW_IF_NOT_FOUND=_THROW_IF_NOT_FOUND,_NullInjector=function(){function e(){}return e.prototype.get=function(e,t){if(void 0===t&&(t=_THROW_IF_NOT_FOUND),t===_THROW_IF_NOT_FOUND)throw new Error("No provider for "+stringify(e)+"!");return t},e}(),Injector=function(){function e(){}return e.prototype.get=function(e,t){return unimplemented()},e.THROW_IF_NOT_FOUND=_THROW_IF_NOT_FOUND,e.NULL=new _NullInjector,e}(),Map$1=global$1.Map,Set$1=global$1.Set,createMapFromPairs=function(){try{if(1===new Map$1([[1,2]]).size)return function(e){return new Map$1(e)}}catch(e){}return function(e){for(var t=new Map$1,r=0;r<e.length;r++){var n=e[r];t.set(n[0],n[1])}return t}}(),createMapFromMap=function(){try{if(new Map$1(new Map$1))return function(e){return new Map$1(e)}}catch(e){}return function(e){var t=new Map$1;return e.forEach(function(e,r){t.set(r,e)}),t}}(),_clearValues=function(){return(new Map$1).keys().next?function(e){for(var t,r=e.keys();!(t=r.next()).done;)e.set(t.value,null)}:function(e){e.forEach(function(t,r){e.set(r,null)})}}(),_arrayFromMap=function(){try{if((new Map$1).values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(e){}return function(e,t){var r=ListWrapper.createFixedSize(e.size),n=0;return e.forEach(function(e,i){r[n]=t?e:i,n++}),r}}(),MapWrapper=function(){function e(){}return e.clone=function(e){return createMapFromMap(e)},e.createFromStringMap=function(e){var t=new Map$1;for(var r in e)t.set(r,e[r]);return t},e.toStringMap=function(e){var t={};return e.forEach(function(e,r){return t[r]=e}),t},e.createFromPairs=function(e){return createMapFromPairs(e)},e.clearValues=function(e){_clearValues(e)},e.iterable=function(e){return e},e.keys=function(e){return _arrayFromMap(e,!1)},e.values=function(e){return _arrayFromMap(e,!0)},e}(),StringMapWrapper=function(){function e(){}return e.create=function(){return{}},e.contains=function(e,t){return e.hasOwnProperty(t)},e.get=function(e,t){return e.hasOwnProperty(t)?e[t]:void 0},e.set=function(e,t,r){e[t]=r},e.keys=function(e){return Object.keys(e)},e.values=function(e){return Object.keys(e).map(function(t){return e[t]})},e.isEmpty=function(e){for(var t in e)return!1;return!0},e.delete=function(e,t){delete e[t]},e.forEach=function(e,t){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];t(e[i],i)}},e.merge=function(e,t){for(var r={},n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];r[o]=e[o]}for(var s=0,a=Object.keys(t);s<a.length;s++){var o=a[s];r[o]=t[o]}return r},e.equals=function(e,t){var r=Object.keys(e),n=Object.keys(t);if(r.length!=n.length)return!1;for(var i,o=0;o<r.length;o++)if(i=r[o],e[i]!==t[i])return!1;return!0},e}(),ListWrapper=function(){function e(){}return e.createFixedSize=function(e){return new Array(e)},e.createGrowableSize=function(e){return new Array(e)},e.clone=function(e){return e.slice(0)},e.forEachWithIndex=function(e,t){for(var r=0;r<e.length;r++)t(e[r],r)},e.first=function(e){return e?e[0]:null},e.last=function(e){return e&&0!=e.length?e[e.length-1]:null},e.indexOf=function(e,t,r){return void 0===r&&(r=0),e.indexOf(t,r)},e.contains=function(e,t){return e.indexOf(t)!==-1},e.reversed=function(t){var r=e.clone(t);return r.reverse()},e.concat=function(e,t){return e.concat(t)},e.insert=function(e,t,r){e.splice(t,0,r)},e.removeAt=function(e,t){var r=e[t];return e.splice(t,1),r},e.removeAll=function(e,t){for(var r=0;r<t.length;++r){var n=e.indexOf(t[r]);e.splice(n,1)}},e.remove=function(e,t){var r=e.indexOf(t);return r>-1&&(e.splice(r,1),!0)},e.clear=function(e){e.length=0},e.isEmpty=function(e){return 0==e.length},e.fill=function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=null),e.fill(t,r,null===n?e.length:n)},e.equals=function(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.splice=function(e,t,r){return e.splice(t,r)},e.sort=function(e,t){isPresent(t)?e.sort(t):e.sort()},e.toString=function(e){return e.toString()},e.toJSON=function(e){return JSON.stringify(e)},e.maximum=function(e,t){if(0==e.length)return null;for(var r=null,n=-(1/0),i=0;i<e.length;i++){var o=e[i];if(!isBlank(o)){var s=t(o);s>n&&(r=o,n=s)}}return r},e.flatten=function(e){var t=[];return _flattenArray(e,t),t},e.addAll=function(e,t){for(var r=0;r<t.length;r++)e.push(t[r])},e}(),createSetFromList=function(){var e=new Set$1([1,2,3]);return 3===e.size?function(e){return new Set$1(e)}:function(e){var t=new Set$1(e);if(t.size!==e.length)for(var r=0;r<e.length;r++)t.add(e[r]);return t}}(),SetWrapper=function(){function e(){}return e.createFromList=function(e){return createSetFromList(e)},e.has=function(e,t){return e.has(t)},e.delete=function(e,t){e.delete(t)},e}(),__extends$3=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},AbstractProviderError=function(e){function t(t,r,n){e.call(this,"DI Error"),this.keys=[r],this.injectors=[t],this.constructResolvingMessage=n,this.message=this.constructResolvingMessage(this.keys)}return __extends$3(t,e),t.prototype.addKey=function(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)},t}(BaseError),NoProviderError=function(e){function t(t,r){e.call(this,t,r,function(e){var t=stringify(ListWrapper.first(e).token);return"No provider for "+t+"!"+constructResolvingPath(e)})}return __extends$3(t,e),t}(AbstractProviderError),CyclicDependencyError=function(e){function t(t,r){e.call(this,t,r,function(e){return"Cannot instantiate cyclic dependency!"+constructResolvingPath(e)})}return __extends$3(t,e),t}(AbstractProviderError),InstantiationError=function(e){function t(t,r,n,i){e.call(this,"DI Error",r),this.keys=[i],this.injectors=[t]}return __extends$3(t,e),t.prototype.addKey=function(e,t){this.injectors.push(e),this.keys.push(t)},Object.defineProperty(t.prototype,"message",{get:function(){var e=stringify(ListWrapper.first(this.keys).token);return this.originalError.message+": Error during instantiation of "+e+"!"+constructResolvingPath(this.keys)+"."},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"causeKey",{get:function(){return this.keys[0]},enumerable:!0,configurable:!0}),t}(WrappedError),InvalidProviderError=function(e){function t(t){e.call(this,"Invalid provider - only instances of Provider and Type are allowed, got: "+t)}return __extends$3(t,e),t}(BaseError),NoAnnotationError=function(e){function t(r,n){e.call(this,t._genMessage(r,n))}return __extends$3(t,e),t._genMessage=function(e,t){for(var r=[],n=0,i=t.length;n<i;n++){var o=t[n];isBlank(o)||0==o.length?r.push("?"):r.push(o.map(stringify).join(" "))}return"Cannot resolve all parameters for '"+stringify(e)+"'("+r.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+stringify(e)+"' is decorated with Injectable."},t}(BaseError),OutOfBoundsError=function(e){function t(t){e.call(this,"Index "+t+" is out-of-bounds.")}return __extends$3(t,e),t}(BaseError),MixingMultiProvidersWithRegularProvidersError=function(e){function t(t,r){e.call(this,"Cannot mix multi providers and regular providers, got: "+t.toString()+" "+r.toString())}return __extends$3(t,e),t}(BaseError),ReflectiveKey=function(){function e(e,t){if(this.token=e,this.id=t,isBlank(e))throw new Error("Token must be defined!")}return Object.defineProperty(e.prototype,"displayName",{get:function(){return stringify(this.token)},enumerable:!0,configurable:!0}),e.get=function(e){return _globalKeyRegistry.get(resolveForwardRef(e))},Object.defineProperty(e,"numberOfKeys",{get:function(){return _globalKeyRegistry.numberOfKeys},enumerable:!0,configurable:!0}),e}(),KeyRegistry=function(){function e(){this._allKeys=new Map}return e.prototype.get=function(e){if(e instanceof ReflectiveKey)return e;if(this._allKeys.has(e))return this._allKeys.get(e);var t=new ReflectiveKey(e,ReflectiveKey.numberOfKeys);return this._allKeys.set(e,t),t},Object.defineProperty(e.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),e}(),_globalKeyRegistry=new KeyRegistry,Type=Function,ReflectionCapabilities=function(){function e(e){this._reflect=e||global$1.Reflect}return e.prototype.isReflectionEnabled=function(){return!0},e.prototype.factory=function(e){var t=e.prototype;return function(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];var i=Object.create(t);return e.apply(i,r),i}},e.prototype._zipTypesAndAnnotations=function(e,t){var r;r="undefined"==typeof e?new Array(t.length):new Array(e.length);for(var n=0;n<r.length;n++)"undefined"==typeof e?r[n]=[]:e[n]!=Object?r[n]=[e[n]]:r[n]=[],isPresent(t)&&isPresent(t[n])&&(r[n]=r[n].concat(t[n]));return r},e.prototype.parameters=function(e){if(isPresent(e.parameters))return e.parameters;if(isPresent(e.ctorParameters)){var t=e.ctorParameters,r=t.map(function(e){return e&&e.type}),n=t.map(function(e){return e&&convertTsickleDecoratorIntoMetadata(e.decorators)});return this._zipTypesAndAnnotations(r,n)}if(isPresent(this._reflect)&&isPresent(this._reflect.getMetadata)){var i=this._reflect.getMetadata("parameters",e),o=this._reflect.getMetadata("design:paramtypes",e);if(isPresent(o)||isPresent(i))return this._zipTypesAndAnnotations(o,i)}var s=new Array(e.length);return s.fill(void 0),s},e.prototype.annotations=function(e){if(isPresent(e.annotations)){var t=e.annotations;return isFunction(t)&&t.annotations&&(t=t.annotations),t}if(isPresent(e.decorators))return convertTsickleDecoratorIntoMetadata(e.decorators);if(isPresent(this._reflect)&&isPresent(this._reflect.getMetadata)){var t=this._reflect.getMetadata("annotations",e);if(isPresent(t))return t}return[]},e.prototype.propMetadata=function(e){if(isPresent(e.propMetadata)){var t=e.propMetadata;return isFunction(t)&&t.propMetadata&&(t=t.propMetadata),t}if(isPresent(e.propDecorators)){var r=e.propDecorators,n={};return Object.keys(r).forEach(function(e){n[e]=convertTsickleDecoratorIntoMetadata(r[e])}),n}if(isPresent(this._reflect)&&isPresent(this._reflect.getMetadata)){var t=this._reflect.getMetadata("propMetadata",e);if(isPresent(t))return t}return{}},e.prototype.interfaces=function(e){return[]},e.prototype.hasLifecycleHook=function(e,t,r){if(!(e instanceof Type))return!1;var n=e.prototype;return!!n[r]},e.prototype.getter=function(e){return new Function("o","return o."+e+";")},e.prototype.setter=function(e){return new Function("o","v","return o."+e+" = v;")},e.prototype.method=function(e){var t="if (!o."+e+") throw new Error('\""+e+"\" is undefined');\n        return o."+e+".apply(o, args);";return new Function("o","args",t)},e.prototype.importUri=function(e){return"object"==typeof e&&e.filePath?e.filePath:"./"+stringify(e)},e.prototype.resolveIdentifier=function(e,t,r){return r},e.prototype.resolveEnum=function(e,t){return e[t]},e}(),ReflectorReader=function(){function e(){}return e}(),__extends$4=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},Reflector=function(e){function t(t){e.call(this),this._injectableInfo=new Map$1,this._getters=new Map$1,this._setters=new Map$1,this._methods=new Map$1,this._usedKeys=null,this.reflectionCapabilities=t}return __extends$4(t,e),t.prototype.updateCapabilities=function(e){
this.reflectionCapabilities=e},t.prototype.isReflectionEnabled=function(){return this.reflectionCapabilities.isReflectionEnabled()},t.prototype.trackUsage=function(){this._usedKeys=new Set$1},t.prototype.listUnusedKeys=function(){var e=this;if(null==this._usedKeys)throw new Error("Usage tracking is disabled");var t=MapWrapper.keys(this._injectableInfo);return t.filter(function(t){return!SetWrapper.has(e._usedKeys,t)})},t.prototype.registerFunction=function(e,t){this._injectableInfo.set(e,t)},t.prototype.registerType=function(e,t){this._injectableInfo.set(e,t)},t.prototype.registerGetters=function(e){_mergeMaps(this._getters,e)},t.prototype.registerSetters=function(e){_mergeMaps(this._setters,e)},t.prototype.registerMethods=function(e){_mergeMaps(this._methods,e)},t.prototype.factory=function(e){if(this._containsReflectionInfo(e)){var t=this._getReflectionInfo(e).factory;return isPresent(t)?t:null}return this.reflectionCapabilities.factory(e)},t.prototype.parameters=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).parameters;return isPresent(t)?t:[]}return this.reflectionCapabilities.parameters(e)},t.prototype.annotations=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).annotations;return isPresent(t)?t:[]}return this.reflectionCapabilities.annotations(e)},t.prototype.propMetadata=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).propMetadata;return isPresent(t)?t:{}}return this.reflectionCapabilities.propMetadata(e)},t.prototype.interfaces=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).interfaces;return isPresent(t)?t:[]}return this.reflectionCapabilities.interfaces(e)},t.prototype.hasLifecycleHook=function(e,t,r){var n=this.interfaces(e);return n.indexOf(t)!==-1||this.reflectionCapabilities.hasLifecycleHook(e,t,r)},t.prototype.getter=function(e){return this._getters.has(e)?this._getters.get(e):this.reflectionCapabilities.getter(e)},t.prototype.setter=function(e){return this._setters.has(e)?this._setters.get(e):this.reflectionCapabilities.setter(e)},t.prototype.method=function(e){return this._methods.has(e)?this._methods.get(e):this.reflectionCapabilities.method(e)},t.prototype._getReflectionInfo=function(e){return isPresent(this._usedKeys)&&this._usedKeys.add(e),this._injectableInfo.get(e)},t.prototype._containsReflectionInfo=function(e){return this._injectableInfo.has(e)},t.prototype.importUri=function(e){return this.reflectionCapabilities.importUri(e)},t.prototype.resolveIdentifier=function(e,t,r){return this.reflectionCapabilities.resolveIdentifier(e,t,r)},t.prototype.resolveEnum=function(e,t){return this.reflectionCapabilities.resolveEnum(e,t)},t}(ReflectorReader),reflector=new Reflector(new ReflectionCapabilities),ReflectiveDependency=function(){function e(e,t,r,n,i){this.key=e,this.optional=t,this.lowerBoundVisibility=r,this.upperBoundVisibility=n,this.properties=i}return e.fromKey=function(t){return new e(t,(!1),null,null,[])},e}(),_EMPTY_LIST=[],ResolvedReflectiveProvider_=function(){function e(e,t,r){this.key=e,this.resolvedFactories=t,this.multiProvider=r}return Object.defineProperty(e.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),e}(),ResolvedReflectiveFactory=function(){function e(e,t){this.factory=e,this.dependencies=t}return e}(),_MAX_CONSTRUCTION_COUNTER=10,UNDEFINED=new Object,ReflectiveProtoInjectorInlineStrategy=function(){function e(e,t){this.provider0=null,this.provider1=null,this.provider2=null,this.provider3=null,this.provider4=null,this.provider5=null,this.provider6=null,this.provider7=null,this.provider8=null,this.provider9=null,this.keyId0=null,this.keyId1=null,this.keyId2=null,this.keyId3=null,this.keyId4=null,this.keyId5=null,this.keyId6=null,this.keyId7=null,this.keyId8=null,this.keyId9=null;var r=t.length;r>0&&(this.provider0=t[0],this.keyId0=t[0].key.id),r>1&&(this.provider1=t[1],this.keyId1=t[1].key.id),r>2&&(this.provider2=t[2],this.keyId2=t[2].key.id),r>3&&(this.provider3=t[3],this.keyId3=t[3].key.id),r>4&&(this.provider4=t[4],this.keyId4=t[4].key.id),r>5&&(this.provider5=t[5],this.keyId5=t[5].key.id),r>6&&(this.provider6=t[6],this.keyId6=t[6].key.id),r>7&&(this.provider7=t[7],this.keyId7=t[7].key.id),r>8&&(this.provider8=t[8],this.keyId8=t[8].key.id),r>9&&(this.provider9=t[9],this.keyId9=t[9].key.id)}return e.prototype.getProviderAtIndex=function(e){if(0==e)return this.provider0;if(1==e)return this.provider1;if(2==e)return this.provider2;if(3==e)return this.provider3;if(4==e)return this.provider4;if(5==e)return this.provider5;if(6==e)return this.provider6;if(7==e)return this.provider7;if(8==e)return this.provider8;if(9==e)return this.provider9;throw new OutOfBoundsError(e)},e.prototype.createInjectorStrategy=function(e){return new ReflectiveInjectorInlineStrategy(e,this)},e}(),ReflectiveProtoInjectorDynamicStrategy=function(){function e(e,t){this.providers=t;var r=t.length;this.keyIds=ListWrapper.createFixedSize(r);for(var n=0;n<r;n++)this.keyIds[n]=t[n].key.id}return e.prototype.getProviderAtIndex=function(e){if(e<0||e>=this.providers.length)throw new OutOfBoundsError(e);return this.providers[e]},e.prototype.createInjectorStrategy=function(e){return new ReflectiveInjectorDynamicStrategy(this,e)},e}(),ReflectiveProtoInjector=function(){function e(e){this.numberOfProviders=e.length,this._strategy=e.length>_MAX_CONSTRUCTION_COUNTER?new ReflectiveProtoInjectorDynamicStrategy(this,e):new ReflectiveProtoInjectorInlineStrategy(this,e)}return e.fromResolvedProviders=function(t){return new e(t)},e.prototype.getProviderAtIndex=function(e){return this._strategy.getProviderAtIndex(e)},e}(),ReflectiveInjectorInlineStrategy=function(){function e(e,t){this.injector=e,this.protoStrategy=t,this.obj0=UNDEFINED,this.obj1=UNDEFINED,this.obj2=UNDEFINED,this.obj3=UNDEFINED,this.obj4=UNDEFINED,this.obj5=UNDEFINED,this.obj6=UNDEFINED,this.obj7=UNDEFINED,this.obj8=UNDEFINED,this.obj9=UNDEFINED}return e.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},e.prototype.instantiateProvider=function(e){return this.injector._new(e)},e.prototype.getObjByKeyId=function(e){var t=this.protoStrategy,r=this.injector;return t.keyId0===e?(this.obj0===UNDEFINED&&(this.obj0=r._new(t.provider0)),this.obj0):t.keyId1===e?(this.obj1===UNDEFINED&&(this.obj1=r._new(t.provider1)),this.obj1):t.keyId2===e?(this.obj2===UNDEFINED&&(this.obj2=r._new(t.provider2)),this.obj2):t.keyId3===e?(this.obj3===UNDEFINED&&(this.obj3=r._new(t.provider3)),this.obj3):t.keyId4===e?(this.obj4===UNDEFINED&&(this.obj4=r._new(t.provider4)),this.obj4):t.keyId5===e?(this.obj5===UNDEFINED&&(this.obj5=r._new(t.provider5)),this.obj5):t.keyId6===e?(this.obj6===UNDEFINED&&(this.obj6=r._new(t.provider6)),this.obj6):t.keyId7===e?(this.obj7===UNDEFINED&&(this.obj7=r._new(t.provider7)),this.obj7):t.keyId8===e?(this.obj8===UNDEFINED&&(this.obj8=r._new(t.provider8)),this.obj8):t.keyId9===e?(this.obj9===UNDEFINED&&(this.obj9=r._new(t.provider9)),this.obj9):UNDEFINED},e.prototype.getObjAtIndex=function(e){if(0==e)return this.obj0;if(1==e)return this.obj1;if(2==e)return this.obj2;if(3==e)return this.obj3;if(4==e)return this.obj4;if(5==e)return this.obj5;if(6==e)return this.obj6;if(7==e)return this.obj7;if(8==e)return this.obj8;if(9==e)return this.obj9;throw new OutOfBoundsError(e)},e.prototype.getMaxNumberOfObjects=function(){return _MAX_CONSTRUCTION_COUNTER},e}(),ReflectiveInjectorDynamicStrategy=function(){function e(e,t){this.protoStrategy=e,this.injector=t,this.objs=ListWrapper.createFixedSize(e.providers.length),ListWrapper.fill(this.objs,UNDEFINED)}return e.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},e.prototype.instantiateProvider=function(e){return this.injector._new(e)},e.prototype.getObjByKeyId=function(e){for(var t=this.protoStrategy,r=0;r<t.keyIds.length;r++)if(t.keyIds[r]===e)return this.objs[r]===UNDEFINED&&(this.objs[r]=this.injector._new(t.providers[r])),this.objs[r];return UNDEFINED},e.prototype.getObjAtIndex=function(e){if(e<0||e>=this.objs.length)throw new OutOfBoundsError(e);return this.objs[e]},e.prototype.getMaxNumberOfObjects=function(){return this.objs.length},e}(),ReflectiveInjector=function(){function e(){}return e.resolve=function(e){return resolveReflectiveProviders(e)},e.resolveAndCreate=function(t,r){void 0===r&&(r=null);var n=e.resolve(t);return e.fromResolvedProviders(n,r)},e.fromResolvedProviders=function(e,t){return void 0===t&&(t=null),new ReflectiveInjector_(ReflectiveProtoInjector.fromResolvedProviders(e),t)},Object.defineProperty(e.prototype,"parent",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),e.prototype.resolveAndCreateChild=function(e){return unimplemented()},e.prototype.createChildFromResolved=function(e){return unimplemented()},e.prototype.resolveAndInstantiate=function(e){return unimplemented()},e.prototype.instantiateResolved=function(e){return unimplemented()},e}(),ReflectiveInjector_=function(){function e(e,t){void 0===t&&(t=null),this._constructionCounter=0,this._proto=e,this._parent=t,this._strategy=e._strategy.createInjectorStrategy(this)}return e.prototype.get=function(e,t){return void 0===t&&(t=THROW_IF_NOT_FOUND),this._getByKey(ReflectiveKey.get(e),null,null,t)},e.prototype.getAt=function(e){return this._strategy.getObjAtIndex(e)},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"internalStrategy",{get:function(){return this._strategy},enumerable:!0,configurable:!0}),e.prototype.resolveAndCreateChild=function(e){var t=ReflectiveInjector.resolve(e);return this.createChildFromResolved(t)},e.prototype.createChildFromResolved=function(t){var r=new ReflectiveProtoInjector(t),n=new e(r);return n._parent=this,n},e.prototype.resolveAndInstantiate=function(e){return this.instantiateResolved(ReflectiveInjector.resolve([e])[0])},e.prototype.instantiateResolved=function(e){return this._instantiateProvider(e)},e.prototype._new=function(e){if(this._constructionCounter++>this._strategy.getMaxNumberOfObjects())throw new CyclicDependencyError(this,e.key);return this._instantiateProvider(e)},e.prototype._instantiateProvider=function(e){if(e.multiProvider){for(var t=ListWrapper.createFixedSize(e.resolvedFactories.length),r=0;r<e.resolvedFactories.length;++r)t[r]=this._instantiate(e,e.resolvedFactories[r]);return t}return this._instantiate(e,e.resolvedFactories[0])},e.prototype._instantiate=function(e,t){var r,n,i,o,s,a,u,c,l,p,h,f,d,m,y,v,_,g,b,E,S=t.factory,w=t.dependencies,C=w.length;try{r=C>0?this._getByReflectiveDependency(e,w[0]):null,n=C>1?this._getByReflectiveDependency(e,w[1]):null,i=C>2?this._getByReflectiveDependency(e,w[2]):null,o=C>3?this._getByReflectiveDependency(e,w[3]):null,s=C>4?this._getByReflectiveDependency(e,w[4]):null,a=C>5?this._getByReflectiveDependency(e,w[5]):null,u=C>6?this._getByReflectiveDependency(e,w[6]):null,c=C>7?this._getByReflectiveDependency(e,w[7]):null,l=C>8?this._getByReflectiveDependency(e,w[8]):null,p=C>9?this._getByReflectiveDependency(e,w[9]):null,h=C>10?this._getByReflectiveDependency(e,w[10]):null,f=C>11?this._getByReflectiveDependency(e,w[11]):null,d=C>12?this._getByReflectiveDependency(e,w[12]):null,m=C>13?this._getByReflectiveDependency(e,w[13]):null,y=C>14?this._getByReflectiveDependency(e,w[14]):null,v=C>15?this._getByReflectiveDependency(e,w[15]):null,_=C>16?this._getByReflectiveDependency(e,w[16]):null,g=C>17?this._getByReflectiveDependency(e,w[17]):null,b=C>18?this._getByReflectiveDependency(e,w[18]):null,E=C>19?this._getByReflectiveDependency(e,w[19]):null}catch(t){throw(t instanceof AbstractProviderError||t instanceof InstantiationError)&&t.addKey(this,e.key),t}var T;try{switch(C){case 0:T=S();break;case 1:T=S(r);break;case 2:T=S(r,n);break;case 3:T=S(r,n,i);break;case 4:T=S(r,n,i,o);break;case 5:T=S(r,n,i,o,s);break;case 6:T=S(r,n,i,o,s,a);break;case 7:T=S(r,n,i,o,s,a,u);break;case 8:T=S(r,n,i,o,s,a,u,c);break;case 9:T=S(r,n,i,o,s,a,u,c,l);break;case 10:T=S(r,n,i,o,s,a,u,c,l,p);break;case 11:T=S(r,n,i,o,s,a,u,c,l,p,h);break;case 12:T=S(r,n,i,o,s,a,u,c,l,p,h,f);break;case 13:T=S(r,n,i,o,s,a,u,c,l,p,h,f,d);break;case 14:T=S(r,n,i,o,s,a,u,c,l,p,h,f,d,m);break;case 15:T=S(r,n,i,o,s,a,u,c,l,p,h,f,d,m,y);break;case 16:T=S(r,n,i,o,s,a,u,c,l,p,h,f,d,m,y,v);break;case 17:T=S(r,n,i,o,s,a,u,c,l,p,h,f,d,m,y,v,_);break;case 18:T=S(r,n,i,o,s,a,u,c,l,p,h,f,d,m,y,v,_,g);break;case 19:T=S(r,n,i,o,s,a,u,c,l,p,h,f,d,m,y,v,_,g,b);break;case 20:T=S(r,n,i,o,s,a,u,c,l,p,h,f,d,m,y,v,_,g,b,E);break;default:throw new Error("Cannot instantiate '"+e.key.displayName+"' because it has more than 20 dependencies")}}catch(t){throw new InstantiationError(this,t,t.stack,e.key)}return T},e.prototype._getByReflectiveDependency=function(e,t){return this._getByKey(t.key,t.lowerBoundVisibility,t.upperBoundVisibility,t.optional?null:THROW_IF_NOT_FOUND)},e.prototype._getByKey=function(e,t,r,n){return e===INJECTOR_KEY?this:r instanceof SelfMetadata?this._getByKeySelf(e,n):this._getByKeyDefault(e,n,t)},e.prototype._throwOrNull=function(e,t){if(t!==THROW_IF_NOT_FOUND)return t;throw new NoProviderError(this,e)},e.prototype._getByKeySelf=function(e,t){var r=this._strategy.getObjByKeyId(e.id);return r!==UNDEFINED?r:this._throwOrNull(e,t)},e.prototype._getByKeyDefault=function(t,r,n){var i;for(i=n instanceof SkipSelfMetadata?this._parent:this;i instanceof e;){var o=i,s=o._strategy.getObjByKeyId(t.id);if(s!==UNDEFINED)return s;i=o._parent}return null!==i?i.get(t.token,r):this._throwOrNull(t,r)},Object.defineProperty(e.prototype,"displayName",{get:function(){var e=_mapProviders(this,function(e){return' "'+e.key.displayName+'" '}).join(", ");return"ReflectiveInjector(providers: ["+e+"])"},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.displayName},e}(),INJECTOR_KEY=ReflectiveKey.get(Injector),__extends$1=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},DirectiveMetadata=function(e){function t(t){var r=void 0===t?{}:t,n=r.selector,i=r.inputs,o=r.outputs,s=r.host,a=r.providers,u=r.exportAs,c=r.queries;e.call(this),this.selector=n,this._inputs=i,this._outputs=o,this.host=s,this.exportAs=u,this.queries=c,this._providers=a}return __extends$1(t,e),Object.defineProperty(t.prototype,"inputs",{get:function(){return this._inputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return this._outputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providers",{get:function(){return this._providers},enumerable:!0,configurable:!0}),t}(InjectableMetadata),ComponentMetadata=function(e){function t(t){var r=void 0===t?{}:t,n=r.selector,i=r.inputs,o=r.outputs,s=r.host,a=r.exportAs,u=r.moduleId,c=r.providers,l=r.viewProviders,p=r.changeDetection,h=void 0===p?ChangeDetectionStrategy.Default:p,f=r.queries,d=r.templateUrl,m=r.template,y=r.styleUrls,v=r.styles,_=r.animations,g=r.encapsulation,b=r.interpolation,E=r.entryComponents;e.call(this,{selector:n,inputs:i,outputs:o,host:s,exportAs:a,providers:c,queries:f}),this.changeDetection=h,this._viewProviders=l,this.templateUrl=d,this.template=m,this.styleUrls=y,this.styles=v,this.encapsulation=g,this.moduleId=u,this.animations=_,this.interpolation=b,this.entryComponents=E}return __extends$1(t,e),Object.defineProperty(t.prototype,"viewProviders",{get:function(){return this._viewProviders},enumerable:!0,configurable:!0}),t}(DirectiveMetadata),PipeMetadata=function(e){function t(t){var r=t.name,n=t.pure;e.call(this),this.name=r,this._pure=n}return __extends$1(t,e),Object.defineProperty(t.prototype,"pure",{get:function(){return!isPresent(this._pure)||this._pure},enumerable:!0,configurable:!0}),t}(InjectableMetadata),InputMetadata=function(){function e(e){this.bindingPropertyName=e}return e}(),OutputMetadata=function(){function e(e){this.bindingPropertyName=e}return e}(),HostBindingMetadata=function(){function e(e){this.hostPropertyName=e}return e}(),HostListenerMetadata=function(){function e(e,t){this.eventName=e,this.args=t}return e}(),__extends$5=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},CUSTOM_ELEMENTS_SCHEMA={name:"custom-elements"},NO_ERRORS_SCHEMA={name:"no-errors-schema"},NgModuleMetadata=function(e){function t(t){void 0===t&&(t={}),e.call(this),this._providers=t.providers,this.declarations=t.declarations,this.imports=t.imports,this.exports=t.exports,this.entryComponents=t.entryComponents,this.bootstrap=t.bootstrap,this.schemas=t.schemas}return __extends$5(t,e),Object.defineProperty(t.prototype,"providers",{get:function(){return this._providers},enumerable:!0,configurable:!0}),t}(InjectableMetadata),LifecycleHooks;!function(e){e[e.OnInit=0]="OnInit",e[e.OnDestroy=1]="OnDestroy",e[e.DoCheck=2]="DoCheck",e[e.OnChanges=3]="OnChanges",e[e.AfterContentInit=4]="AfterContentInit",e[e.AfterContentChecked=5]="AfterContentChecked",e[e.AfterViewInit=6]="AfterViewInit",e[e.AfterViewChecked=7]="AfterViewChecked"}(LifecycleHooks||(LifecycleHooks={}));var LIFECYCLE_HOOKS_VALUES=[LifecycleHooks.OnInit,LifecycleHooks.OnDestroy,LifecycleHooks.DoCheck,LifecycleHooks.OnChanges,LifecycleHooks.AfterContentInit,LifecycleHooks.AfterContentChecked,LifecycleHooks.AfterViewInit,LifecycleHooks.AfterViewChecked],OnChanges=function(){function e(){}return e}(),OnInit=function(){function e(){}return e}(),DoCheck=function(){function e(){}return e}(),OnDestroy=function(){function e(){}return e}(),AfterContentInit=function(){function e(){}return e}(),AfterContentChecked=function(){function e(){}return e}(),AfterViewInit=function(){function e(){}return e}(),AfterViewChecked=function(){function e(){}return e}(),ViewEncapsulation;!function(e){e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None"}(ViewEncapsulation||(ViewEncapsulation={}));var VIEW_ENCAPSULATION_VALUES=[ViewEncapsulation.Emulated,ViewEncapsulation.Native,ViewEncapsulation.None],ViewMetadata=function(){function e(e){var t=void 0===e?{}:e,r=t.templateUrl,n=t.template,i=t.encapsulation,o=t.styles,s=t.styleUrls,a=t.animations,u=t.interpolation;this.templateUrl=r,this.template=n,this.styleUrls=s,this.styles=o,this.encapsulation=i,this.animations=a,this.interpolation=u}return e}(),Component=makeDecorator(ComponentMetadata),Directive=makeDecorator(DirectiveMetadata),Attribute=makeParamDecorator(AttributeMetadata),ContentChildren=makePropDecorator(ContentChildrenMetadata),ViewChildren=makePropDecorator(ViewChildrenMetadata),ViewChild=makePropDecorator(ViewChildMetadata),Pipe=makeDecorator(PipeMetadata),Input=makePropDecorator(InputMetadata),Output=makePropDecorator(OutputMetadata),HostBinding=makePropDecorator(HostBindingMetadata),HostListener=makePropDecorator(HostListenerMetadata),NgModule=makeDecorator(NgModuleMetadata),ErrorHandler=function(){function e(e){void 0===e&&(e=!0),this._console=console,this.rethrowError=e}return e.prototype.handleError=function(e){var t=this._findOriginalError(e),r=this._findOriginalStack(e),n=this._findContext(e);if(this._console.error("EXCEPTION: "+this._extractMessage(e)),t&&this._console.error("ORIGINAL EXCEPTION: "+this._extractMessage(t)),r&&(this._console.error("ORIGINAL STACKTRACE:"),this._console.error(r)),n&&(this._console.error("ERROR CONTEXT:"),this._console.error(n)),this.rethrowError)throw e},e.prototype._extractMessage=function(e){return e instanceof Error?e.message:e.toString()},e.prototype._findContext=function(e){return e?e.context?e.context:this._findContext(e.originalError):null},e.prototype._findOriginalError=function(e){for(var t=e.originalError;t&&t.originalError;)t=t.originalError;return t},e.prototype._findOriginalStack=function(e){if(!(e instanceof Error))return null;for(var t=e,r=t.stack;t instanceof Error&&t.originalError;)t=t.originalError,t instanceof Error&&t.stack&&(r=t.stack);return r},e}(),APP_INITIALIZER=new OpaqueToken("Application Initializer"),ApplicationInitStatus=function(){function e(e){var t=this;this._done=!1;var r=[];if(e)for(var n=0;n<e.length;n++){var i=e[n]();isPromise(i)&&r.push(i)}this._donePromise=Promise.all(r).then(function(){t._done=!0}),0===r.length&&(this._done=!0)}return Object.defineProperty(e.prototype,"done",{get:function(){return this._done},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"donePromise",{get:function(){return this._donePromise},enumerable:!0,configurable:!0}),e.decorators=[{type:Injectable}],e.ctorParameters=[{type:Array,decorators:[{type:Inject,args:[APP_INITIALIZER]},{type:Optional}]}],e}(),APP_ID=new OpaqueToken("AppId"),APP_ID_RANDOM_PROVIDER={provide:APP_ID,useFactory:_appIdRandomProviderFactory,deps:[]},PLATFORM_INITIALIZER=new OpaqueToken("Platform Initializer"),APP_BOOTSTRAP_LISTENER=new OpaqueToken("appBootstrapListener"),PACKAGE_ROOT_URL=new OpaqueToken("Application Packages Root URL"),Console=function(){function e(){}return e.prototype.log=function(e){print(e)},e.prototype.warn=function(e){warn(e)},e.decorators=[{type:Injectable}],e.ctorParameters=[],e}(),__extends$7=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},ComponentStillLoadingError=function(e){function t(t){e.call(this,"Can't compile synchronously as "+stringify(t)+" is still being loaded!"),this.compType=t}return __extends$7(t,e),t}(BaseError),ModuleWithComponentFactories=function(){function e(e,t){this.ngModuleFactory=e,this.componentFactories=t}return e}(),Compiler=function(){function e(){}return e.prototype.compileModuleSync=function(e){throw _throwError()},e.prototype.compileModuleAsync=function(e){throw _throwError()},e.prototype.compileModuleAndAllComponentsSync=function(e){throw _throwError()},e.prototype.compileModuleAndAllComponentsAsync=function(e){throw _throwError()},e.prototype.clearCache=function(){},e.prototype.clearCacheFor=function(e){},e}(),COMPILER_OPTIONS=new OpaqueToken("compilerOptions"),CompilerFactory=function(){function e(){}return e}(),DefaultIterableDifferFactory=function(){function e(){}return e.prototype.supports=function(e){return isListLikeIterable(e)},e.prototype.create=function(e,t){return new DefaultIterableDiffer(t)},e}(),trackByIdentity=function(e,t){return t},DefaultIterableDiffer=function(){function e(e){this._trackByFn=e,this._length=null,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=isPresent(this._trackByFn)?this._trackByFn:trackByIdentity}return Object.defineProperty(e.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),e.prototype.forEachItem=function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)},e.prototype.forEachOperation=function(e){for(var t=this._itHead,r=this._removalsHead,n=0,i=null;t||r;){var o=!r||t&&t.currentIndex<getPreviousIndex(r,n,i)?t:r,s=getPreviousIndex(o,n,i),a=o.currentIndex;if(o===r)n--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)n++;else{i||(i=[]);var u=s-n,c=a-n;if(u!=c){for(var l=0;l<u;l++){var p=l<i.length?i[l]:i[l]=0,h=p+l;c<=h&&h<u&&(i[l]=p+1)}var f=o.previousIndex;i[f]=c-u}}s!==a&&e(o,s,a)}},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachMovedItem=function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.forEachIdentityChange=function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)},e.prototype.diff=function(e){if(isBlank(e)&&(e=[]),!isListLikeIterable(e))throw new Error("Error trying to diff '"+e+"'");return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var r,n,i,o=this._itHead,s=!1;if(isArray(e)){var a=e;for(this._length=e.length,r=0;r<this._length;r++)n=a[r],i=this._trackByFn(r,n),null!==o&&looseIdentical(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,n,i,r)),looseIdentical(o.item,n)||this._addIdentityChange(o,n)):(o=this._mismatch(o,n,i,r),s=!0),o=o._next}else r=0,iterateListLike(e,function(e){i=t._trackByFn(r,e),null!==o&&looseIdentical(o.trackById,i)?(s&&(o=t._verifyReinsertion(o,e,i,r)),looseIdentical(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,r),s=!0),o=o._next,r++}),this._length=r;return this._truncate(o),this._collection=e,this.isDirty},Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),e.prototype._reset=function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},e.prototype._mismatch=function(e,t,r,n){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),e=null===this._linkedRecords?null:this._linkedRecords.get(r,n),null!==e?(looseIdentical(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,n)):(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r),null!==e?(looseIdentical(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,n)):e=this._addAfter(new CollectionChangeRecord(t,r),i,n)),e},e.prototype._verifyReinsertion=function(e,t,r,n){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r);return null!==i?e=this._reinsertAfter(i,e._prev,n):e.currentIndex!=n&&(e.currentIndex=n,this._addToMoves(e,n)),e},e.prototype._truncate=function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},e.prototype._reinsertAfter=function(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var n=e._prevRemoved,i=e._nextRemoved;return null===n?this._removalsHead=i:n._nextRemoved=i,null===i?this._removalsTail=n:i._prevRemoved=n,this._insertAfter(e,t,r),this._addToMoves(e,r),e},e.prototype._moveAfter=function(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e},e.prototype._addAfter=function(e,t,r){return this._insertAfter(e,t,r),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e},e.prototype._insertAfter=function(e,t,r){var n=null===t?this._itHead:t._next;return e._next=n,e._prev=t,null===n?this._itTail=e:n._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new _DuplicateMap),this._linkedRecords.put(e),e.currentIndex=r,e},e.prototype._remove=function(e){return this._addToRemovals(this._unlink(e))},e.prototype._unlink=function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e},e.prototype._addToMoves=function(e,t){return e.previousIndex===t?e:(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e,e)},e.prototype._addToRemovals=function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _DuplicateMap),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e},e.prototype._addIdentityChange=function(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e},e.prototype.toString=function(){var e=[];this.forEachItem(function(t){return e.push(t)});var t=[];this.forEachPreviousItem(function(e){return t.push(e)});var r=[];this.forEachAddedItem(function(e){return r.push(e)});var n=[];this.forEachMovedItem(function(e){return n.push(e)});var i=[];this.forEachRemovedItem(function(e){return i.push(e)});var o=[];return this.forEachIdentityChange(function(e){return o.push(e)}),"collection: "+e.join(", ")+"\nprevious: "+t.join(", ")+"\nadditions: "+r.join(", ")+"\nmoves: "+n.join(", ")+"\nremovals: "+i.join(", ")+"\nidentityChanges: "+o.join(", ")+"\n"},e}(),CollectionChangeRecord=function(){function e(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return e.prototype.toString=function(){return this.previousIndex===this.currentIndex?stringify(this.item):stringify(this.item)+"["+stringify(this.previousIndex)+"->"+stringify(this.currentIndex)+"]"},e}(),_DuplicateItemRecordList=function(){function e(){this._head=null,this._tail=null}return e.prototype.add=function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)},e.prototype.get=function(e,t){var r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<r.currentIndex)&&looseIdentical(r.trackById,e))return r;return null},e.prototype.remove=function(e){var t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head},e}(),_DuplicateMap=function(){function e(){this.map=new Map}return e.prototype.put=function(e){var t=getMapKey(e.trackById),r=this.map.get(t);isPresent(r)||(r=new _DuplicateItemRecordList,this.map.set(t,r)),r.add(e)},e.prototype.get=function(e,t){void 0===t&&(t=null);var r=getMapKey(e),n=this.map.get(r);return isBlank(n)?null:n.get(e,t)},e.prototype.remove=function(e){var t=getMapKey(e.trackById),r=this.map.get(t);return r.remove(e)&&this.map.delete(t),e},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.map.clear()},e.prototype.toString=function(){return"_DuplicateMap("+stringify(this.map)+")"},e}(),DefaultKeyValueDifferFactory=function(){function e(){}return e.prototype.supports=function(e){return e instanceof Map||isJsObject(e)},e.prototype.create=function(e){return new DefaultKeyValueDiffer},e}(),DefaultKeyValueDiffer=function(){function e(){this._records=new Map,this._mapHead=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead;
},enumerable:!0,configurable:!0}),e.prototype.forEachItem=function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.diff=function(e){if(e){if(!(e instanceof Map||isJsObject(e)))throw new Error("Error trying to diff '"+e+"'")}else e=new Map;return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var r=this._records,n=this._mapHead,i=null,o=null,s=!1;return this._forEach(e,function(e,a){var u;n&&a===n.key?(u=n,t._maybeAddToChanges(u,e)):(s=!0,null!==n&&(t._removeFromSeq(i,n),t._addToRemovals(n)),r.has(a)?(u=r.get(a),t._maybeAddToChanges(u,e)):(u=new KeyValueChangeRecord(a),r.set(a,u),u.currentValue=e,t._addToAdditions(u))),s&&(t._isInRemovals(u)&&t._removeFromRemovals(u),null==o?t._mapHead=u:o._next=u),i=n,o=u,n=n&&n._next}),this._truncate(i,n),this.isDirty},e.prototype._reset=function(){if(this.isDirty){var e=void 0;for(e=this._previousMapHead=this._mapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=this._removalsTail=null}},e.prototype._truncate=function(e,t){for(;null!==t;){null===e?this._mapHead=null:e._next=null;var r=t._next;this._addToRemovals(t),e=t,t=r}for(var n=this._removalsHead;null!==n;n=n._nextRemoved)n.previousValue=n.currentValue,n.currentValue=null,this._records.delete(n.key)},e.prototype._maybeAddToChanges=function(e,t){looseIdentical(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))},e.prototype._isInRemovals=function(e){return e===this._removalsHead||null!==e._nextRemoved||null!==e._prevRemoved},e.prototype._addToRemovals=function(e){null===this._removalsHead?this._removalsHead=this._removalsTail=e:(this._removalsTail._nextRemoved=e,e._prevRemoved=this._removalsTail,this._removalsTail=e)},e.prototype._removeFromSeq=function(e,t){var r=t._next;null===e?this._mapHead=r:e._next=r,t._next=null},e.prototype._removeFromRemovals=function(e){var t=e._prevRemoved,r=e._nextRemoved;null===t?this._removalsHead=r:t._nextRemoved=r,null===r?this._removalsTail=t:r._prevRemoved=t,e._prevRemoved=e._nextRemoved=null},e.prototype._addToAdditions=function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)},e.prototype._addToChanges=function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)},e.prototype.toString=function(){var e,t=[],r=[],n=[],i=[],o=[];for(e=this._mapHead;null!==e;e=e._next)t.push(stringify(e));for(e=this._previousMapHead;null!==e;e=e._nextPrevious)r.push(stringify(e));for(e=this._changesHead;null!==e;e=e._nextChanged)n.push(stringify(e));for(e=this._additionsHead;null!==e;e=e._nextAdded)i.push(stringify(e));for(e=this._removalsHead;null!==e;e=e._nextRemoved)o.push(stringify(e));return"map: "+t.join(", ")+"\nprevious: "+r.join(", ")+"\nadditions: "+i.join(", ")+"\nchanges: "+n.join(", ")+"\nremovals: "+o.join(", ")+"\n"},e.prototype._forEach=function(e,t){e instanceof Map?e.forEach(t):StringMapWrapper.forEach(e,t)},e}(),KeyValueChangeRecord=function(){function e(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._nextAdded=null,this._nextRemoved=null,this._prevRemoved=null,this._nextChanged=null}return e.prototype.toString=function(){return looseIdentical(this.previousValue,this.currentValue)?stringify(this.key):stringify(this.key)+"["+stringify(this.previousValue)+"->"+stringify(this.currentValue)+"]"},e}(),IterableDiffers=function(){function e(e){this.factories=e}return e.create=function(t,r){if(isPresent(r)){var n=ListWrapper.clone(r.factories);return t=t.concat(n),new e(t)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(r){if(isBlank(r))throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,r)},deps:[[e,new SkipSelfMetadata,new OptionalMetadata]]}},e.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(isPresent(t))return t;throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+getTypeNameForDebugging(e)+"'")},e}(),KeyValueDiffers=function(){function e(e){this.factories=e}return e.create=function(t,r){if(isPresent(r)){var n=ListWrapper.clone(r.factories);return t=t.concat(n),new e(t)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(r){if(isBlank(r))throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,r)},deps:[[e,new SkipSelfMetadata,new OptionalMetadata]]}},e.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(isPresent(t))return t;throw new Error("Cannot find a differ supporting object '"+e+"'")},e}(),UNINITIALIZED={toString:function(){return"CD_INIT_VALUE"}},WrappedValue=function(){function e(e){this.wrapped=e}return e.wrap=function(t){return new e(t)},e}(),ValueUnwrapper=function(){function e(){this.hasWrappedValue=!1}return e.prototype.unwrap=function(e){return e instanceof WrappedValue?(this.hasWrappedValue=!0,e.wrapped):e},e.prototype.reset=function(){this.hasWrappedValue=!1},e}(),SimpleChange=function(){function e(e,t){this.previousValue=e,this.currentValue=t}return e.prototype.isFirstChange=function(){return this.previousValue===UNINITIALIZED},e}(),ChangeDetectorRef=function(){function e(){}return e}(),keyValDiff=[new DefaultKeyValueDifferFactory],iterableDiff=[new DefaultIterableDifferFactory],defaultIterableDiffers=new IterableDiffers(iterableDiff),defaultKeyValueDiffers=new KeyValueDiffers(keyValDiff),RenderComponentType=function(){function e(e,t,r,n,i,o){this.id=e,this.templateUrl=t,this.slotCount=r,this.encapsulation=n,this.styles=i,this.animations=o}return e}(),RenderDebugInfo=function(){function e(){}return Object.defineProperty(e.prototype,"injector",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),e}(),Renderer=function(){function e(){}return e}(),RootRenderer=function(){function e(){}return e}(),SecurityContext;!function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"}(SecurityContext||(SecurityContext={}));var Sanitizer=function(){function e(){}return e}(),ElementRef=function(){function e(e){this.nativeElement=e}return e}(),trace,events,wtfEnabled=detectWTF(),wtfCreateScope=wtfEnabled?createScope:function(e,t){return noopScope},wtfLeave=wtfEnabled?leave:function(e,t){return t},ViewContainerRef=function(){function e(){}return Object.defineProperty(e.prototype,"element",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentInjector",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),e}(),ViewContainerRef_=function(){function e(e){this._element=e,this._createComponentInContainerScope=wtfCreateScope("ViewContainerRef#createComponent()"),this._insertScope=wtfCreateScope("ViewContainerRef#insert()"),this._removeScope=wtfCreateScope("ViewContainerRef#remove()"),this._detachScope=wtfCreateScope("ViewContainerRef#detach()")}return e.prototype.get=function(e){return this._element.nestedViews[e].ref},Object.defineProperty(e.prototype,"length",{get:function(){var e=this._element.nestedViews;return isPresent(e)?e.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._element.elementRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return this._element.injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentInjector",{get:function(){return this._element.parentInjector},enumerable:!0,configurable:!0}),e.prototype.createEmbeddedView=function(e,t,r){void 0===t&&(t=null),void 0===r&&(r=-1);var n=e.createEmbeddedView(t);return this.insert(n,r),n},e.prototype.createComponent=function(e,t,r,n){void 0===t&&(t=-1),void 0===r&&(r=null),void 0===n&&(n=null);var i=this._createComponentInContainerScope(),o=isPresent(r)?r:this._element.parentInjector,s=e.create(o,n);return this.insert(s.hostView,t),wtfLeave(i,s)},e.prototype.insert=function(e,t){void 0===t&&(t=-1);var r=this._insertScope();t==-1&&(t=this.length);var n=e;return this._element.attachView(n.internalView,t),wtfLeave(r,n)},e.prototype.move=function(e,t){var r=this._insertScope();if(t!=-1){var n=e;return this._element.moveView(n.internalView,t),wtfLeave(r,n)}},e.prototype.indexOf=function(e){return ListWrapper.indexOf(this._element.nestedViews,e.internalView)},e.prototype.remove=function(e){void 0===e&&(e=-1);var t=this._removeScope();e==-1&&(e=this.length-1);var r=this._element.detachView(e);r.destroy(),wtfLeave(t)},e.prototype.detach=function(e){void 0===e&&(e=-1);var t=this._detachScope();e==-1&&(e=this.length-1);var r=this._element.detachView(e);return wtfLeave(t,r.ref)},e.prototype.clear=function(){for(var e=this.length-1;e>=0;e--)this.remove(e)},e}(),ViewType;!function(e){e[e.HOST=0]="HOST",e[e.COMPONENT=1]="COMPONENT",e[e.EMBEDDED=2]="EMBEDDED"}(ViewType||(ViewType={}));var AppElement=function(){function e(e,t,r,n){this.index=e,this.parentIndex=t,this.parentView=r,this.nativeElement=n,this.nestedViews=null,this.componentView=null}return Object.defineProperty(e.prototype,"elementRef",{get:function(){return new ElementRef(this.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vcRef",{get:function(){return new ViewContainerRef_(this)},enumerable:!0,configurable:!0}),e.prototype.initComponent=function(e,t,r){this.component=e,this.componentConstructorViewQueries=t,this.componentView=r},Object.defineProperty(e.prototype,"parentInjector",{get:function(){return this.parentView.injector(this.parentIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return this.parentView.injector(this.index)},enumerable:!0,configurable:!0}),e.prototype.mapNestedViews=function(e,t){var r=[];return isPresent(this.nestedViews)&&this.nestedViews.forEach(function(n){n.clazz===e&&r.push(t(n))}),r},e.prototype.moveView=function(e,t){var r=this.nestedViews.indexOf(e);if(e.type===ViewType.COMPONENT)throw new Error("Component views can't be moved!");var n=this.nestedViews;null==n&&(n=[],this.nestedViews=n),ListWrapper.removeAt(n,r),ListWrapper.insert(n,t,e);var i;if(t>0){var o=n[t-1];i=o.lastRootNode}else i=this.nativeElement;isPresent(i)&&e.renderer.attachViewAfter(i,e.flatRootNodes),e.markContentChildAsMoved(this)},e.prototype.attachView=function(e,t){if(e.type===ViewType.COMPONENT)throw new Error("Component views can't be moved!");var r=this.nestedViews;null==r&&(r=[],this.nestedViews=r),ListWrapper.insert(r,t,e);var n;if(t>0){var i=r[t-1];n=i.lastRootNode}else n=this.nativeElement;isPresent(n)&&e.renderer.attachViewAfter(n,e.flatRootNodes),e.addToContentChildren(this)},e.prototype.detachView=function(e){var t=ListWrapper.removeAt(this.nestedViews,e);if(t.type===ViewType.COMPONENT)throw new Error("Component views can't be moved!");return t.detach(),t.removeFromContentChildren(this),t},e}(),__extends$9=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},ExpressionChangedAfterItHasBeenCheckedError=function(e){function t(t,r){var n="Expression has changed after it was checked. Previous value: '"+t+"'. Current value: '"+r+"'.";t===UNINITIALIZED&&(n+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),e.call(this,n)}return __extends$9(t,e),t}(BaseError),ViewWrappedError=function(e){function t(t,r){e.call(this,"Error in "+r.source,t),this.context=r}return __extends$9(t,e),t}(WrappedError),ViewDestroyedError=function(e){function t(t){e.call(this,"Attempt to use a destroyed view: "+t)}return __extends$9(t,e),t}(BaseError),ViewUtils=function(){function e(e,t,r){this._renderer=e,this._appId=t,this._nextCompTypeId=0,this.sanitizer=r}return e.prototype.createRenderComponentType=function(e,t,r,n,i){return new RenderComponentType(this._appId+"-"+this._nextCompTypeId++,e,t,r,n,i)},e.prototype.renderComponent=function(e){return this._renderer.renderComponent(e)},e.decorators=[{type:Injectable}],e.ctorParameters=[{type:RootRenderer},{type:void 0,decorators:[{type:Inject,args:[APP_ID]}]},{type:Sanitizer}],e}(),EMPTY_ARR=[],MAX_INTERPOLATION_VALUES=9,EMPTY_ARRAY=[],EMPTY_MAP={},__extends$8=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},ComponentRef=function(){function e(){}return Object.defineProperty(e.prototype,"location",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instance",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostView",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeDetectorRef",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),e}(),ComponentRef_=function(e){function t(t,r){e.call(this),this._hostElement=t,this._componentType=r}return __extends$8(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return this._hostElement.elementRef},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this._hostElement.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"instance",{get:function(){return this._hostElement.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostView",{get:function(){return this._hostElement.parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changeDetectorRef",{get:function(){return this._hostElement.parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentType",{get:function(){return this._componentType},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._hostElement.parentView.destroy()},t.prototype.onDestroy=function(e){this.hostView.onDestroy(e)},t}(ComponentRef),EMPTY_CONTEXT=new Object,ComponentFactory=function(){function e(e,t,r){this.selector=e,this._viewFactory=t,this._componentType=r}return Object.defineProperty(e.prototype,"componentType",{get:function(){return this._componentType},enumerable:!0,configurable:!0}),e.prototype.create=function(e,t,r){void 0===t&&(t=null),void 0===r&&(r=null);var n=e.get(ViewUtils);isBlank(t)&&(t=[]);var i=this._viewFactory(n,e,null),o=i.create(EMPTY_CONTEXT,t,r);return new ComponentRef_(o,this._componentType)},e}(),__extends$10=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},NoComponentFactoryError=function(e){function t(t){e.call(this,"No component factory found for "+stringify(t)),this.component=t}return __extends$10(t,e),t}(BaseError),_NullComponentFactoryResolver=function(){function e(){}return e.prototype.resolveComponentFactory=function(e){throw new NoComponentFactoryError(e)},e}(),ComponentFactoryResolver=function(){function e(){}return e.NULL=new _NullComponentFactoryResolver,e}(),CodegenComponentFactoryResolver=function(){function e(e,t){this._parent=t,this._factories=new Map;for(var r=0;r<e.length;r++){var n=e[r];this._factories.set(n.componentType,n)}}return e.prototype.resolveComponentFactory=function(e){var t=this._factories.get(e);return t||(t=this._parent.resolveComponentFactory(e)),t},e}(),objectTypes={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},root=objectTypes[typeof self]&&self||objectTypes[typeof window]&&window,freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=objectTypes[typeof global]&&global;!freeGlobal||freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal||(root=freeGlobal);var isArray$1=Array.isArray||function(e){return e&&"number"==typeof e.length},errorObject={e:{}},tryCatchTarget,UnsubscriptionError=function(e){function t(t){e.call(this),this.errors=t;var r=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return __extends(t,e),t}(Error),Subscription=function(){function e(e){this.closed=!1,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){this.closed=!0;var r=this,n=r._unsubscribe,i=r._subscriptions;if(this._subscriptions=null,isFunction$1(n)){var o=tryCatch(n).call(this);o===errorObject&&(t=!0,(e=e||[]).push(errorObject.e))}if(isArray$1(i))for(var s=-1,a=i.length;++s<a;){var u=i[s];if(isObject(u)){var o=tryCatch(u.unsubscribe).call(u);if(o===errorObject){t=!0,e=e||[];var c=errorObject.e;c instanceof UnsubscriptionError?e=e.concat(c.errors):e.push(c)}}}if(t)throw new UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var r=t;switch(typeof t){case"function":r=new e(t);case"object":if(r.closed||"function"!=typeof r.unsubscribe)break;this.closed?r.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(r);break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return r},e.prototype.remove=function(t){if(null!=t&&t!==this&&t!==e.EMPTY){var r=this._subscriptions;if(r){var n=r.indexOf(t);n!==-1&&r.splice(n,1)}}},e}();Subscription.EMPTY=function(e){return e.closed=!0,e}(new Subscription);var empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}},Symbol$1=root.Symbol,rxSubscriber="function"==typeof Symbol$1&&"function"==typeof Symbol$1.for?Symbol$1.for("rxSubscriber"):"@@rxSubscriber",Subscriber=function(e){function t(r,n,i){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=empty;break;case 1:if(!r){this.destination=empty;break}if("object"==typeof r){r instanceof t?(this.destination=r,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,r,n,i)}}return __extends(t,e),t.prototype[rxSubscriber]=function(){return this},t.create=function(e,r,n){var i=new t(e,r,n);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t}(Subscription),SafeSubscriber=function(e){function t(t,r,n,i){e.call(this),this._parent=t;var o,s=this;isFunction$1(r)?o=r:r&&(s=r,o=r.next,n=r.error,i=r.complete,isFunction$1(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this)),this._context=s,this._next=o,this._error=n,this._complete=i}return __extends(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parent;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parent;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){if(!this.isStopped){var e=this._parent;this._complete?e.syncErrorThrowable?(this.__tryOrSetError(e,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,r){try{t.call(this._context,r)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parent;this._context=null,this._parent=null,e.unsubscribe()},t}(Subscriber),observable=getSymbolObservable(root),Observable=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,i=toSubscriber(e,t,r);if(n?n.call(i,this):i.add(this._subscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype.forEach=function(e,t){var r=this;if(t||(root.Rx&&root.Rx.config&&root.Rx.config.Promise?t=root.Rx.config.Promise:root.Promise&&(t=root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var i=r.subscribe(function(t){if(i)try{e(t)}catch(e){n(e),i.unsubscribe()}else e(t)},n,t)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[observable]=function(){return this},e}();Observable.create=function(e){return new Observable(e)};var ObjectUnsubscribedError=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return __extends(t,e),t}(Error),SubjectSubscription=function(e){function t(t,r){e.call(this),this.subject=t,this.subscriber=r,this.closed=!1}return __extends(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);r!==-1&&t.splice(r,1)}}},t}(Subscription),SubjectSubscriber=function(e){function t(t){e.call(this,t),this.destination=t}return __extends(t,e),t}(Subscriber),Subject=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return __extends(t,e),t.prototype[rxSubscriber]=function(){return new SubjectSubscriber(this)},t.prototype.lift=function(e){var t=new AnonymousSubject(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._subscribe=function(e){if(this.closed)throw new ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),Subscription.EMPTY):this.isStopped?(e.complete(),Subscription.EMPTY):(this.observers.push(e),new SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new Observable;return e.source=this,e},t}(Observable);Subject.create=function(e,t){return new AnonymousSubject(e,t)};var AnonymousSubject=function(e){function t(t,r){e.call(this),this.destination=t,this.source=r}return __extends(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){var t=this.source;return t?this.source.subscribe(e):Subscription.EMPTY},t}(Subject),__extends$11=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},EventEmitter$1=function(e){function t(t){void 0===t&&(t=!1),e.call(this),this.__isAsync=t}return __extends$11(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,r,n){var i,o=function(e){return null},s=function(){return null};return t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},r&&(o=this.__isAsync?function(e){setTimeout(function(){return r(e)})}:function(e){r(e)}),n&&(s=this.__isAsync?function(){setTimeout(function(){return n()})}:function(){n()})),e.prototype.subscribe.call(this,i,o,s)},t}(Subject),NgZoneImpl=function(){function e(e){var t=this,r=e.trace,n=e.onEnter,i=e.onLeave,o=e.setMicrotask,s=e.setMacrotask,a=e.onError;if(this.onEnter=n,this.onLeave=i,this.setMicrotask=o,this.setMacrotask=s,this.onError=a,!Zone)throw new Error("Angular requires Zone.js polyfill.");this.outer=this.inner=Zone.current,Zone.wtfZoneSpec&&(this.inner=this.inner.fork(Zone.wtfZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this.inner=this.inner.fork(Zone.longStackTraceZoneSpec)),this.inner=this.inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,r,n,i,o,s){try{return t.onEnter(),e.invokeTask(n,i,o,s)}finally{t.onLeave()}},onInvoke:function(e,r,n,i,o,s,a){try{return t.onEnter(),e.invoke(n,i,o,s,a)}finally{t.onLeave()}},onHasTask:function(e,r,n,i){e.hasTask(n,i),r==n&&("microTask"==i.change?t.setMicrotask(i.microTask):"macroTask"==i.change&&t.setMacrotask(i.macroTask))},onHandleError:function(e,r,n,i){return e.handleError(n,i),t.onError(i),!1}})}return e.isInAngularZone=function(){return Zone.current.get("isAngularZone")===!0},e.prototype.runInner=function(e){return this.inner.run(e)},e.prototype.runInnerGuarded=function(e){return this.inner.runGuarded(e)},e.prototype.runOuter=function(e){return this.outer.run(e)},e}(),NgZone=function(){function e(e){var t=this,r=e.enableLongStackTrace,n=void 0!==r&&r;this._hasPendingMicrotasks=!1,this._hasPendingMacrotasks=!1,this._isStable=!0,this._nesting=0,this._onUnstable=new EventEmitter$1((!1)),this._onMicrotaskEmpty=new EventEmitter$1((!1)),this._onStable=new EventEmitter$1((!1)),this._onErrorEvents=new EventEmitter$1((!1)),this._zoneImpl=new NgZoneImpl({trace:n,onEnter:function(){t._nesting++,t._isStable&&(t._isStable=!1,t._onUnstable.emit(null))},onLeave:function(){t._nesting--,t._checkStable()},setMicrotask:function(e){t._hasPendingMicrotasks=e,t._checkStable()},setMacrotask:function(e){t._hasPendingMacrotasks=e},onError:function(e){return t._onErrorEvents.emit(e)}})}return e.isInAngularZone=function(){return NgZoneImpl.isInAngularZone()},e.assertInAngularZone=function(){if(!NgZoneImpl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},e.assertNotInAngularZone=function(){if(NgZoneImpl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},e.prototype._checkStable=function(){var e=this;if(0==this._nesting&&!this._hasPendingMicrotasks&&!this._isStable)try{this._nesting++,this._onMicrotaskEmpty.emit(null)}finally{if(this._nesting--,!this._hasPendingMicrotasks)try{this.runOutsideAngular(function(){return e._onStable.emit(null)})}finally{this._isStable=!0}}},Object.defineProperty(e.prototype,"onUnstable",{get:function(){return this._onUnstable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMicrotaskEmpty",{get:function(){return this._onMicrotaskEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onStable",{get:function(){return this._onStable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onErrorEvents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStable",{get:function(){return this._isStable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingMicrotasks",{get:function(){return this._hasPendingMicrotasks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingMacrotasks",{get:function(){return this._hasPendingMacrotasks},enumerable:!0,configurable:!0}),e.prototype.run=function(e){return this._zoneImpl.runInner(e)},e.prototype.runGuarded=function(e){return this._zoneImpl.runInnerGuarded(e)},e.prototype.runOutsideAngular=function(e){return this._zoneImpl.runOuter(e)},e}(),Testability=function(){function e(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return e.prototype._watchAngularEvents=function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){NgZone.assertNotInAngularZone(),scheduleMicroTask(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})},e.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},e.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},e.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},e.prototype._runCallbacksIfReady=function(){var e=this;this.isStable()?scheduleMicroTask(function(){for(;0!==e._callbacks.length;)e._callbacks.pop()(e._didWork);
e._didWork=!1}):this._didWork=!0},e.prototype.whenStable=function(e){this._callbacks.push(e),this._runCallbacksIfReady()},e.prototype.getPendingRequestCount=function(){return this._pendingCount},e.prototype.findBindings=function(e,t,r){return[]},e.prototype.findProviders=function(e,t,r){return[]},e.decorators=[{type:Injectable}],e.ctorParameters=[{type:NgZone}],e}(),TestabilityRegistry=function(){function e(){this._applications=new Map$1,_testabilityGetter.addToWindow(this)}return e.prototype.registerApplication=function(e,t){this._applications.set(e,t)},e.prototype.getTestability=function(e){return this._applications.get(e)},e.prototype.getAllTestabilities=function(){return MapWrapper.values(this._applications)},e.prototype.getAllRootElements=function(){return MapWrapper.keys(this._applications)},e.prototype.findTestabilityInTree=function(e,t){return void 0===t&&(t=!0),_testabilityGetter.findTestabilityInTree(this,e,t)},e.decorators=[{type:Injectable}],e.ctorParameters=[],e}(),_NoopGetTestability=function(){function e(){}return e.prototype.addToWindow=function(e){},e.prototype.findTestabilityInTree=function(e,t,r){return null},e}(),_testabilityGetter=new _NoopGetTestability,__extends$6=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},_devMode=!0,_runModeLocked=!1,_platform,PlatformRef=function(){function e(){}return e.prototype.bootstrapModuleFactory=function(e){throw unimplemented()},e.prototype.bootstrapModule=function(e,t){throw void 0===t&&(t=[]),unimplemented()},Object.defineProperty(e.prototype,"injector",{get:function(){throw unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){throw unimplemented()},enumerable:!0,configurable:!0}),e}(),PlatformRef_=function(e){function t(t){e.call(this),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return __extends$6(t,e),t.prototype.onDestroy=function(e){this._destroyListeners.push(e)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");ListWrapper.clone(this._modules).forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0},t.prototype.bootstrapModuleFactory=function(e){return this._bootstrapModuleFactoryWithZone(e,null)},t.prototype._bootstrapModuleFactoryWithZone=function(e,t){var r=this;return t||(t=new NgZone({enableLongStackTrace:isDevMode()})),t.run(function(){var n=ReflectiveInjector.resolveAndCreate([{provide:NgZone,useValue:t}],r.injector),i=e.create(n),o=i.injector.get(ErrorHandler,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(function(){return ListWrapper.remove(r._modules,i)}),t.onError.subscribe({next:function(e){o.handleError(e)}}),_callAndReportToErrorHandler(o,function(){var e=i.injector.get(ApplicationInitStatus);return e.donePromise.then(function(){return r._moduleDoBootstrap(i),i})})})},t.prototype.bootstrapModule=function(e,t){return void 0===t&&(t=[]),this._bootstrapModuleWithZone(e,t,null)},t.prototype._bootstrapModuleWithZone=function(e,t,r,n){var i=this;void 0===t&&(t=[]);var o=this.injector.get(CompilerFactory),s=o.createCompiler(t instanceof Array?t:[t]);return n?s.compileModuleAndAllComponentsAsync(e).then(function(e){var t=e.ngModuleFactory,o=e.componentFactories;return n(o),i._bootstrapModuleFactoryWithZone(t,r)}):s.compileModuleAsync(e).then(function(e){return i._bootstrapModuleFactoryWithZone(e,r)})},t.prototype._moduleDoBootstrap=function(e){var t=e.injector.get(ApplicationRef);if(e.bootstrapFactories.length>0)e.bootstrapFactories.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module "+stringify(e.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');e.instance.ngDoBootstrap(t)}},t.decorators=[{type:Injectable}],t.ctorParameters=[{type:Injector}],t}(PlatformRef),ApplicationRef=function(){function e(){}return Object.defineProperty(e.prototype,"componentTypes",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"components",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),e}(),ApplicationRef_=function(e){function t(t,r,n,i,o,s,a,u){var c=this;e.call(this),this._zone=t,this._console=r,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._testabilityRegistry=a,this._testability=u,this._bootstrapListeners=[],this._rootComponents=[],this._rootComponentTypes=[],this._changeDetectorRefs=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._enforceNoNewChanges=isDevMode(),this._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run(function(){c.tick()})}})}return __extends$6(t,e),t.prototype.registerChangeDetector=function(e){this._changeDetectorRefs.push(e)},t.prototype.unregisterChangeDetector=function(e){ListWrapper.remove(this._changeDetectorRefs,e)},t.prototype.bootstrap=function(e){var t=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");var r;r=e instanceof ComponentFactory?e:this._componentFactoryResolver.resolveComponentFactory(e),this._rootComponentTypes.push(r.componentType);var n=r.create(this._injector,[],r.selector);n.onDestroy(function(){t._unloadComponent(n)});var i=n.injector.get(Testability,null);return isPresent(i)&&n.injector.get(TestabilityRegistry).registerApplication(n.location.nativeElement,i),this._loadComponent(n),isDevMode()&&this._console.log("Angular 2 is running in the development mode. Call enableProdMode() to enable the production mode."),n},t.prototype._loadComponent=function(e){this._changeDetectorRefs.push(e.changeDetectorRef),this.tick(),this._rootComponents.push(e);var t=this._injector.get(APP_BOOTSTRAP_LISTENER,[]).concat(this._bootstrapListeners);t.forEach(function(t){return t(e)})},t.prototype._unloadComponent=function(e){ListWrapper.contains(this._rootComponents,e)&&(this.unregisterChangeDetector(e.changeDetectorRef),ListWrapper.remove(this._rootComponents,e))},t.prototype.tick=function(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var e=t._tickScope();try{this._runningTick=!0,this._changeDetectorRefs.forEach(function(e){return e.detectChanges()}),this._enforceNoNewChanges&&this._changeDetectorRefs.forEach(function(e){return e.checkNoChanges()})}finally{this._runningTick=!1,wtfLeave(e)}},t.prototype.ngOnDestroy=function(){ListWrapper.clone(this._rootComponents).forEach(function(e){return e.destroy()})},Object.defineProperty(t.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"components",{get:function(){return this._rootComponents},enumerable:!0,configurable:!0}),t._tickScope=wtfCreateScope("ApplicationRef#tick()"),t.decorators=[{type:Injectable}],t.ctorParameters=[{type:NgZone},{type:Console},{type:Injector},{type:ErrorHandler},{type:ComponentFactoryResolver},{type:ApplicationInitStatus},{type:TestabilityRegistry,decorators:[{type:Optional}]},{type:Testability,decorators:[{type:Optional}]}],t}(ApplicationRef),__extends$12=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},NgModuleRef=function(){function e(){}return Object.defineProperty(e.prototype,"injector",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instance",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),e}(),NgModuleFactory=function(){function e(e,t){this._injectorClass=e,this._moduleType=t}return Object.defineProperty(e.prototype,"moduleType",{get:function(){return this._moduleType},enumerable:!0,configurable:!0}),e.prototype.create=function(e){e||(e=Injector.NULL);var t=new this._injectorClass(e);return t.create(),t},e}(),_UNDEFINED=new Object,NgModuleInjector=function(e){function t(t,r,n){e.call(this,r,t.get(ComponentFactoryResolver,ComponentFactoryResolver.NULL)),this.parent=t,this.bootstrapFactories=n,this._destroyListeners=[],this._destroyed=!1}return __extends$12(t,e),t.prototype.create=function(){this.instance=this.createInternal()},t.prototype.get=function(e,t){if(void 0===t&&(t=THROW_IF_NOT_FOUND),e===Injector||e===ComponentFactoryResolver)return this;var r=this.getInternal(e,_UNDEFINED);return r===_UNDEFINED?this.parent.get(e,t):r},Object.defineProperty(t.prototype,"injector",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+stringify(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,this.destroyInternal(),this._destroyListeners.forEach(function(e){return e()})},t.prototype.onDestroy=function(e){this._destroyListeners.push(e)},t}(CodegenComponentFactoryResolver),NgModuleFactoryLoader=function(){function e(){}return e}(),QueryList=function(){function e(){this._dirty=!0,this._results=[],this._emitter=new EventEmitter$1}return Object.defineProperty(e.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),e.prototype.map=function(e){return this._results.map(e)},e.prototype.filter=function(e){return this._results.filter(e)},e.prototype.reduce=function(e,t){return this._results.reduce(e,t)},e.prototype.forEach=function(e){this._results.forEach(e)},e.prototype.some=function(e){return this._results.some(e)},e.prototype.toArray=function(){return this._results.slice()},e.prototype[getSymbolIterator()]=function(){return this._results[getSymbolIterator()]()},e.prototype.toString=function(){return this._results.toString()},e.prototype.reset=function(e){this._results=ListWrapper.flatten(e),this._dirty=!1},e.prototype.notifyOnChanges=function(){this._emitter.emit(this)},e.prototype.setDirty=function(){this._dirty=!0},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),e}(),_SEPARATOR="#",FACTORY_CLASS_SUFFIX="NgFactory",SystemJsNgModuleLoaderConfig=function(){function e(){}return e}(),DEFAULT_CONFIG={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},SystemJsNgModuleLoader=function(){function e(e,t){this._compiler=e,this._system=function(){return System},this._config=t||DEFAULT_CONFIG}return e.prototype.load=function(e){var t=this._compiler instanceof Compiler;return t?this.loadFactory(e):this.loadAndCompile(e)},e.prototype.loadAndCompile=function(e){var t=this,r=e.split(_SEPARATOR),n=r[0],i=r[1];return void 0===i&&(i="default"),this._system().import(n).then(function(e){return e[i]}).then(function(e){return checkNotEmpty(e,n,i)}).then(function(e){return t._compiler.compileModuleAsync(e)})},e.prototype.loadFactory=function(e){var t=e.split(_SEPARATOR),r=t[0],n=t[1],i=FACTORY_CLASS_SUFFIX;return void 0===n&&(n="default",i=""),this._system().import(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(e){return e[n+i]}).then(function(e){return checkNotEmpty(e,r,n)})},e.decorators=[{type:Injectable}],e.ctorParameters=[{type:Compiler},{type:SystemJsNgModuleLoaderConfig,decorators:[{type:Optional}]}],e}(),__extends$13=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},TemplateRef=function(){function e(){}return Object.defineProperty(e.prototype,"elementRef",{get:function(){return null},enumerable:!0,configurable:!0}),e}(),TemplateRef_=function(e){function t(t,r){e.call(this),this._appElement=t,this._viewFactory=r}return __extends$13(t,e),t.prototype.createEmbeddedView=function(e){var t=this._viewFactory(this._appElement.parentView.viewUtils,this._appElement.parentInjector,this._appElement);return t.create(e||{},null,null),t.ref},Object.defineProperty(t.prototype,"elementRef",{get:function(){return this._appElement.elementRef},enumerable:!0,configurable:!0}),t}(TemplateRef),__extends$14=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},ViewRef=function(){function e(){}return Object.defineProperty(e.prototype,"destroyed",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),e}(),EmbeddedViewRef=function(e){function t(){e.apply(this,arguments)}return __extends$14(t,e),Object.defineProperty(t.prototype,"context",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootNodes",{get:function(){return unimplemented()},enumerable:!0,configurable:!0}),t}(ViewRef),ViewRef_=function(){function e(e){this._view=e,this._view=e,this._originalMode=this._view.cdMode}return Object.defineProperty(e.prototype,"internalView",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rootNodes",{get:function(){return this._view.flatRootNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._view.destroyed},enumerable:!0,configurable:!0}),e.prototype.markForCheck=function(){this._view.markPathToRootAsCheckOnce()},e.prototype.detach=function(){this._view.cdMode=ChangeDetectorStatus.Detached},e.prototype.detectChanges=function(){this._view.detectChanges(!1)},e.prototype.checkNoChanges=function(){this._view.detectChanges(!0)},e.prototype.reattach=function(){this._view.cdMode=this._originalMode,this.markForCheck()},e.prototype.onDestroy=function(e){this._view.disposables.push(e)},e.prototype.destroy=function(){this._view.destroy()},e}(),__extends$15=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},EventListener=function(){function e(e,t){this.name=e,this.callback=t}return e}(),DebugNode=function(){function e(e,t,r){this._debugInfo=r,this.nativeNode=e,isPresent(t)&&t instanceof DebugElement?t.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(e.prototype,"injector",{get:function(){return isPresent(this._debugInfo)?this._debugInfo.injector:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentInstance",{get:function(){return isPresent(this._debugInfo)?this._debugInfo.component:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return isPresent(this._debugInfo)?this._debugInfo.context:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return isPresent(this._debugInfo)?this._debugInfo.references:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){return isPresent(this._debugInfo)?this._debugInfo.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return isPresent(this._debugInfo)?this._debugInfo.source:null},enumerable:!0,configurable:!0}),e}(),DebugElement=function(e){function t(t,r,n){e.call(this,t,r,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}return __extends$15(t,e),t.prototype.addChild=function(e){isPresent(e)&&(this.childNodes.push(e),e.parent=this)},t.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);t!==-1&&(e.parent=null,this.childNodes.splice(t,1))},t.prototype.insertChildrenAfter=function(e,t){var r=this.childNodes.indexOf(e);if(r!==-1){var n=this.childNodes.slice(0,r+1),i=this.childNodes.slice(r+1);this.childNodes=ListWrapper.concat(ListWrapper.concat(n,t),i);for(var o=0;o<t.length;++o){var s=t[o];isPresent(s.parent)&&s.parent.removeChild(s),s.parent=this}}},t.prototype.query=function(e){var t=this.queryAll(e);return t.length>0?t[0]:null},t.prototype.queryAll=function(e){var t=[];return _queryElementChildren(this,e,t),t},t.prototype.queryAllNodes=function(e){var t=[];return _queryNodeChildren(this,e,t),t},Object.defineProperty(t.prototype,"children",{get:function(){var e=[];return this.childNodes.forEach(function(r){r instanceof t&&e.push(r)}),e},enumerable:!0,configurable:!0}),t.prototype.triggerEventHandler=function(e,t){this.listeners.forEach(function(r){r.name==e&&r.callback(t)})},t}(DebugNode),_nativeNodeToDebugNode=new Map,_CORE_PLATFORM_PROVIDERS=[PlatformRef_,{provide:PlatformRef,useExisting:PlatformRef_},{provide:Reflector,useFactory:_reflector,deps:[]},{provide:ReflectorReader,useExisting:Reflector},TestabilityRegistry,Console],platformCore=createPlatformFactory(null,"core",_CORE_PLATFORM_PROVIDERS),LOCALE_ID=new OpaqueToken("LocaleId"),TRANSLATIONS=new OpaqueToken("Translations"),TRANSLATIONS_FORMAT_=new OpaqueToken("TranslationsFormat"),ApplicationModule=function(){function e(){}return e.decorators=[{type:NgModule,args:[{providers:[ApplicationRef_,{provide:ApplicationRef,useExisting:ApplicationRef_},ApplicationInitStatus,Compiler,APP_ID_RANDOM_PROVIDER,ViewUtils,{provide:IterableDiffers,useFactory:_iterableDiffersFactory},{provide:KeyValueDiffers,useFactory:_keyValueDiffersFactory},{provide:LOCALE_ID,useValue:"en-US"}]}]}],e.ctorParameters=[],e}(),FILL_STYLE_FLAG="true",ANY_STATE="*",DEFAULT_STATE="*",EMPTY_STATE="void",Math$2=global$1.Math,AnimationGroupPlayer=function(){function e(e){var t=this;this._players=e,this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this.parentPlayer=null;var r=0,n=this._players.length;0==n?scheduleMicroTask(function(){return t._onFinish()}):this._players.forEach(function(e){e.parentPlayer=t,e.onDone(function(){++r>=n&&t._onFinish()})})}return e.prototype._onFinish=function(){this._finished||(this._finished=!0,isPresent(this.parentPlayer)||this.destroy(),this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])},e.prototype.init=function(){this._players.forEach(function(e){return e.init()})},e.prototype.onStart=function(e){this._onStartFns.push(e)},e.prototype.onDone=function(e){this._onDoneFns.push(e)},e.prototype.hasStarted=function(){return this._started},e.prototype.play=function(){isPresent(this.parentPlayer)||this.init(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0),this._players.forEach(function(e){return e.play()})},e.prototype.pause=function(){this._players.forEach(function(e){return e.pause()})},e.prototype.restart=function(){this._players.forEach(function(e){return e.restart()})},e.prototype.finish=function(){this._onFinish(),this._players.forEach(function(e){return e.finish()})},e.prototype.destroy=function(){this._onFinish(),this._players.forEach(function(e){return e.destroy()})},e.prototype.reset=function(){this._players.forEach(function(e){return e.reset()})},e.prototype.setPosition=function(e){this._players.forEach(function(t){t.setPosition(e)})},e.prototype.getPosition=function(){var e=0;return this._players.forEach(function(t){var r=t.getPosition();e=Math$2.min(r,e)}),e},e}(),AnimationKeyframe=function(){function e(e,t){this.offset=e,this.styles=t}return e}(),AnimationOutput=function(){function e(e,t,r){this.name=e,this.phase=t,this.fullPropertyName=r}return e}(),AnimationPlayer=function(){function e(){}return Object.defineProperty(e.prototype,"parentPlayer",{get:function(){throw new Error("NOT IMPLEMENTED: Base Class")},set:function(e){throw new Error("NOT IMPLEMENTED: Base Class")},enumerable:!0,configurable:!0}),e}(),NoOpAnimationPlayer=function(){function e(){var e=this;this._onDoneFns=[],this._onStartFns=[],this._started=!1,this.parentPlayer=null,scheduleMicroTask(function(){return e._onFinish()})}return e.prototype._onFinish=function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]},e.prototype.onStart=function(e){this._onStartFns.push(e)},e.prototype.onDone=function(e){this._onDoneFns.push(e)},e.prototype.hasStarted=function(){return this._started},e.prototype.init=function(){},e.prototype.play=function(){this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]),this._started=!0},e.prototype.pause=function(){},e.prototype.restart=function(){},e.prototype.finish=function(){this._onFinish()},e.prototype.destroy=function(){},e.prototype.reset=function(){},e.prototype.setPosition=function(e){},e.prototype.getPosition=function(){return 0},e}(),AnimationSequencePlayer=function(){function e(e){var t=this;this._players=e,this._currentIndex=0,this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this.parentPlayer=null,this._players.forEach(function(e){e.parentPlayer=t}),this._onNext(!1)}return e.prototype._onNext=function(e){var t=this;if(!this._finished)if(0==this._players.length)this._activePlayer=new NoOpAnimationPlayer,scheduleMicroTask(function(){return t._onFinish()});else if(this._currentIndex>=this._players.length)this._activePlayer=new NoOpAnimationPlayer,this._onFinish();else{var r=this._players[this._currentIndex++];r.onDone(function(){return t._onNext(!0)}),this._activePlayer=r,e&&r.play()}},e.prototype._onFinish=function(){this._finished||(this._finished=!0,isPresent(this.parentPlayer)||this.destroy(),this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])},e.prototype.init=function(){this._players.forEach(function(e){return e.init()})},e.prototype.onStart=function(e){this._onStartFns.push(e)},e.prototype.onDone=function(e){this._onDoneFns.push(e)},e.prototype.hasStarted=function(){return this._started},e.prototype.play=function(){isPresent(this.parentPlayer)||this.init(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0),this._activePlayer.play()},e.prototype.pause=function(){this._activePlayer.pause()},e.prototype.restart=function(){this._players.length>0&&(this.reset(),this._players[0].restart())},e.prototype.reset=function(){this._players.forEach(function(e){return e.reset()})},e.prototype.finish=function(){this._onFinish(),this._players.forEach(function(e){return e.finish()})},e.prototype.destroy=function(){this._onFinish(),this._players.forEach(function(e){return e.destroy()})},e.prototype.setPosition=function(e){this._players[0].setPosition(e)},e.prototype.getPosition=function(){return this._players[0].getPosition()},e}(),__extends$16=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},AUTO_STYLE="*",AnimationStateMetadata=function(){function e(){}return e}(),AnimationStateDeclarationMetadata=function(e){function t(t,r){e.call(this),this.stateNameExpr=t,this.styles=r}return __extends$16(t,e),t}(AnimationStateMetadata),AnimationStateTransitionMetadata=function(e){function t(t,r){e.call(this),this.stateChangeExpr=t,this.steps=r}return __extends$16(t,e),t}(AnimationStateMetadata),AnimationMetadata=function(){function e(){}return e}(),AnimationKeyframesSequenceMetadata=function(e){function t(t){e.call(this),this.steps=t}return __extends$16(t,e),t}(AnimationMetadata),AnimationStyleMetadata=function(e){function t(t,r){void 0===r&&(r=null),e.call(this),this.styles=t,this.offset=r}return __extends$16(t,e),t}(AnimationMetadata),AnimationAnimateMetadata=function(e){function t(t,r){e.call(this),this.timings=t,this.styles=r}return __extends$16(t,e),t}(AnimationMetadata),AnimationWithStepsMetadata=function(e){function t(){e.call(this)}return __extends$16(t,e),Object.defineProperty(t.prototype,"steps",{get:function(){throw new Error("NOT IMPLEMENTED: Base Class")},enumerable:!0,configurable:!0}),t}(AnimationMetadata),AnimationSequenceMetadata=function(e){function t(t){e.call(this),this._steps=t}return __extends$16(t,e),Object.defineProperty(t.prototype,"steps",{get:function(){return this._steps},enumerable:!0,configurable:!0}),t}(AnimationWithStepsMetadata),AnimationGroupMetadata=function(e){function t(t){e.call(this),this._steps=t}return __extends$16(t,e),Object.defineProperty(t.prototype,"steps",{get:function(){return this._steps},enumerable:!0,configurable:!0}),t}(AnimationWithStepsMetadata),AnimationStyles=function(){function e(e){this.styles=e}return e}(),DebugDomRootRenderer=function(){function e(e){this._delegate=e}return e.prototype.renderComponent=function(e){return new DebugDomRenderer(this._delegate.renderComponent(e))},e}(),DebugDomRenderer=function(){function e(e){this._delegate=e}return e.prototype.selectRootElement=function(e,t){var r=this._delegate.selectRootElement(e,t),n=new DebugElement(r,null,t);return indexDebugNode(n),r},e.prototype.createElement=function(e,t,r){var n=this._delegate.createElement(e,t,r),i=new DebugElement(n,getDebugNode(e),r);return i.name=t,indexDebugNode(i),n},e.prototype.createViewRoot=function(e){return this._delegate.createViewRoot(e)},e.prototype.createTemplateAnchor=function(e,t){var r=this._delegate.createTemplateAnchor(e,t),n=new DebugNode(r,getDebugNode(e),t);return indexDebugNode(n),r},e.prototype.createText=function(e,t,r){var n=this._delegate.createText(e,t,r),i=new DebugNode(n,getDebugNode(e),r);return indexDebugNode(i),n},e.prototype.projectNodes=function(e,t){var r=getDebugNode(e);if(isPresent(r)&&r instanceof DebugElement){var n=r;t.forEach(function(e){n.addChild(getDebugNode(e))})}this._delegate.projectNodes(e,t)},e.prototype.attachViewAfter=function(e,t){var r=getDebugNode(e);if(isPresent(r)){var n=r.parent;if(t.length>0&&isPresent(n)){var i=[];t.forEach(function(e){return i.push(getDebugNode(e))}),n.insertChildrenAfter(r,i)}}this._delegate.attachViewAfter(e,t)},e.prototype.detachView=function(e){e.forEach(function(e){var t=getDebugNode(e);isPresent(t)&&isPresent(t.parent)&&t.parent.removeChild(t)}),this._delegate.detachView(e)},e.prototype.destroyView=function(e,t){t.forEach(function(e){removeDebugNodeFromIndex(getDebugNode(e))}),this._delegate.destroyView(e,t)},e.prototype.listen=function(e,t,r){var n=getDebugNode(e);return isPresent(n)&&n.listeners.push(new EventListener(t,r)),this._delegate.listen(e,t,r)},e.prototype.listenGlobal=function(e,t,r){return this._delegate.listenGlobal(e,t,r)},e.prototype.setElementProperty=function(e,t,r){var n=getDebugNode(e);isPresent(n)&&n instanceof DebugElement&&(n.properties[t]=r),this._delegate.setElementProperty(e,t,r)},e.prototype.setElementAttribute=function(e,t,r){var n=getDebugNode(e);isPresent(n)&&n instanceof DebugElement&&(n.attributes[t]=r),this._delegate.setElementAttribute(e,t,r)},e.prototype.setBindingDebugInfo=function(e,t,r){this._delegate.setBindingDebugInfo(e,t,r)},e.prototype.setElementClass=function(e,t,r){var n=getDebugNode(e);isPresent(n)&&n instanceof DebugElement&&(n.classes[t]=r),this._delegate.setElementClass(e,t,r)},e.prototype.setElementStyle=function(e,t,r){var n=getDebugNode(e);isPresent(n)&&n instanceof DebugElement&&(n.styles[t]=r),this._delegate.setElementStyle(e,t,r)},e.prototype.invokeElementMethod=function(e,t,r){this._delegate.invokeElementMethod(e,t,r)},e.prototype.setText=function(e,t){this._delegate.setText(e,t)},e.prototype.animate=function(e,t,r,n,i,o){return this._delegate.animate(e,t,r,n,i,o)},e}(),StaticNodeDebugInfo=function(){function e(e,t,r){this.providerTokens=e,this.componentToken=t,this.refTokens=r}return e}(),DebugContext=function(){function e(e,t,r,n){this._view=e,this._nodeIndex=t,this._tplRow=r,this._tplCol=n}return Object.defineProperty(e.prototype,"_staticNodeInfo",{get:function(){return isPresent(this._nodeIndex)?this._view.staticNodeDebugInfos[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){var e=this._staticNodeInfo;return isPresent(e)&&isPresent(e.componentToken)?this.injector.get(e.componentToken):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentRenderElement",{get:function(){for(var e=this._view;isPresent(e.declarationAppElement)&&e.type!==ViewType.COMPONENT;)e=e.declarationAppElement.parentView;return isPresent(e.declarationAppElement)?e.declarationAppElement.nativeElement:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return this._view.injector(this._nodeIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderNode",{get:function(){return isPresent(this._nodeIndex)&&this._view.allNodes?this._view.allNodes[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){var e=this._staticNodeInfo;return isPresent(e)?e.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return this._view.componentType.templateUrl+":"+this._tplRow+":"+this._tplCol},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){var e=this,t={},r=this._staticNodeInfo;if(isPresent(r)){var n=r.refTokens;StringMapWrapper.forEach(n,function(r,n){var i;i=isBlank(r)?e._view.allNodes?e._view.allNodes[e._nodeIndex]:null:e._view.injectorGet(r,e._nodeIndex,null),t[n]=i})}return t},enumerable:!0,configurable:!0}),e}(),AnimationTransitionEvent=function(){function e(e){var t=e.fromState,r=e.toState,n=e.totalTime;this.fromState=t,this.toState=r,this.totalTime=n}return e}(),ViewAnimationMap=function(){function e(){this._map=new Map$1,this._allPlayers=[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.getAllPlayers().length},enumerable:!0,configurable:!0}),e.prototype.find=function(e,t){var r=this._map.get(e);if(isPresent(r))return r[t]},e.prototype.findAllPlayersByElement=function(e){var t=this._map.get(e);return t?StringMapWrapper.values(t):[]},e.prototype.set=function(e,t,r){var n=this._map.get(e);isPresent(n)||(n={});var i=n[t];isPresent(i)&&this.remove(e,t),n[t]=r,this._allPlayers.push(r),this._map.set(e,n)},e.prototype.getAllPlayers=function(){return this._allPlayers},e.prototype.remove=function(e,t){var r=this._map.get(e);if(isPresent(r)){var n=r[t];delete r[t];var i=this._allPlayers.indexOf(n);ListWrapper.removeAt(this._allPlayers,i),StringMapWrapper.isEmpty(r)&&this._map.delete(e)}},e}(),__extends$18=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},_UNDEFINED$1=new Object,ElementInjector=function(e){function t(t,r){e.call(this),this._view=t,this._nodeIndex=r}return __extends$18(t,e),t.prototype.get=function(e,t){
void 0===t&&(t=THROW_IF_NOT_FOUND);var r=_UNDEFINED$1;return r===_UNDEFINED$1&&(r=this._view.injectorGet(e,this._nodeIndex,_UNDEFINED$1)),r===_UNDEFINED$1&&(r=this._view.parentInjector.get(e,t)),r},t}(Injector),__extends$17=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},_scope_check=wtfCreateScope("AppView#check(ascii id)"),AppView=function(){function e(e,t,r,n,i,o,s){this.clazz=e,this.componentType=t,this.type=r,this.viewUtils=n,this.parentInjector=i,this.declarationAppElement=o,this.cdMode=s,this.contentChildren=[],this.viewChildren=[],this.viewContainerElement=null,this.numberOfChecks=0,this.animationPlayers=new ViewAnimationMap,this._animationListeners=new Map,this.ref=new ViewRef_(this),r===ViewType.COMPONENT||r===ViewType.HOST?this.renderer=n.renderComponent(t):this.renderer=o.parentView.renderer}return Object.defineProperty(e.prototype,"destroyed",{get:function(){return this.cdMode===ChangeDetectorStatus.Destroyed},enumerable:!0,configurable:!0}),e.prototype.cancelActiveAnimation=function(e,t,r){if(void 0===r&&(r=!1),r)this.animationPlayers.findAllPlayersByElement(e).forEach(function(e){return e.destroy()});else{var n=this.animationPlayers.find(e,t);isPresent(n)&&n.destroy()}},e.prototype.queueAnimation=function(e,t,r,n,i,o){var s=this,a=new AnimationTransitionEvent({fromState:i,toState:o,totalTime:n});this.animationPlayers.set(e,t,r),r.onDone(function(){s.triggerAnimationOutput(e,t,"done",a),s.animationPlayers.remove(e,t)}),r.onStart(function(){s.triggerAnimationOutput(e,t,"start",a)})},e.prototype.triggerQueuedAnimations=function(){this.animationPlayers.getAllPlayers().forEach(function(e){e.hasStarted()||e.play()})},e.prototype.triggerAnimationOutput=function(e,t,r,n){var i=this._animationListeners.get(e);if(isPresent(i)&&i.length)for(var o=0;o<i.length;o++){var s=i[o];if(s.output.name==t&&s.output.phase==r){s.handler(n);break}}},e.prototype.registerAnimationOutput=function(e,t,r){var n=new _AnimationOutputWithHandler(t,r),i=this._animationListeners.get(e);isPresent(i)||this._animationListeners.set(e,i=[]),i.push(n)},e.prototype.create=function(e,t,r){this.context=e;var n;switch(this.type){case ViewType.COMPONENT:n=ensureSlotCount(t,this.componentType.slotCount);break;case ViewType.EMBEDDED:n=this.declarationAppElement.parentView.projectableNodes;break;case ViewType.HOST:n=t}return this._hasExternalHostElement=isPresent(r),this.projectableNodes=n,this.createInternal(r)},e.prototype.createInternal=function(e){return null},e.prototype.init=function(e,t,r,n){this.rootNodesOrAppElements=e,this.allNodes=t,this.disposables=r,this.subscriptions=n,this.type===ViewType.COMPONENT&&(this.declarationAppElement.parentView.viewChildren.push(this),this.dirtyParentQueriesInternal())},e.prototype.selectOrCreateHostElement=function(e,t,r){var n;return n=isPresent(t)?this.renderer.selectRootElement(t,r):this.renderer.createElement(null,e,r)},e.prototype.injectorGet=function(e,t,r){return this.injectorGetInternal(e,t,r)},e.prototype.injectorGetInternal=function(e,t,r){return r},e.prototype.injector=function(e){return isPresent(e)?new ElementInjector(this,e):this.parentInjector},e.prototype.destroy=function(){this._hasExternalHostElement?this.renderer.detachView(this.flatRootNodes):isPresent(this.viewContainerElement)&&this.viewContainerElement.detachView(this.viewContainerElement.nestedViews.indexOf(this)),this._destroyRecurse()},e.prototype._destroyRecurse=function(){if(this.cdMode!==ChangeDetectorStatus.Destroyed){for(var e=this.contentChildren,t=0;t<e.length;t++)e[t]._destroyRecurse();e=this.viewChildren;for(var t=0;t<e.length;t++)e[t]._destroyRecurse();this.destroyLocal(),this.cdMode=ChangeDetectorStatus.Destroyed}},e.prototype.destroyLocal=function(){for(var e=this,t=this.type===ViewType.COMPONENT?this.declarationAppElement.nativeElement:null,r=0;r<this.disposables.length;r++)this.disposables[r]();for(var r=0;r<this.subscriptions.length;r++)this.subscriptions[r].unsubscribe();if(this.destroyInternal(),this.dirtyParentQueriesInternal(),0==this.animationPlayers.length)this.renderer.destroyView(t,this.allNodes);else{var n=new AnimationGroupPlayer(this.animationPlayers.getAllPlayers());n.onDone(function(){e.renderer.destroyView(t,e.allNodes)})}},e.prototype.destroyInternal=function(){},e.prototype.detachInternal=function(){},e.prototype.detach=function(){var e=this;if(this.detachInternal(),0==this.animationPlayers.length)this.renderer.detachView(this.flatRootNodes);else{var t=new AnimationGroupPlayer(this.animationPlayers.getAllPlayers());t.onDone(function(){e.renderer.detachView(e.flatRootNodes)})}},Object.defineProperty(e.prototype,"changeDetectorRef",{get:function(){return this.ref},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return isPresent(this.declarationAppElement)?this.declarationAppElement.parentView:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flatRootNodes",{get:function(){return flattenNestedViewRenderNodes(this.rootNodesOrAppElements)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastRootNode",{get:function(){var e=this.rootNodesOrAppElements.length>0?this.rootNodesOrAppElements[this.rootNodesOrAppElements.length-1]:null;return _findLastRenderNode(e)},enumerable:!0,configurable:!0}),e.prototype.dirtyParentQueriesInternal=function(){},e.prototype.detectChanges=function(e){var t=_scope_check(this.clazz);this.cdMode!==ChangeDetectorStatus.Checked&&this.cdMode!==ChangeDetectorStatus.Errored&&(this.cdMode===ChangeDetectorStatus.Destroyed&&this.throwDestroyedError("detectChanges"),this.detectChangesInternal(e),this.cdMode===ChangeDetectorStatus.CheckOnce&&(this.cdMode=ChangeDetectorStatus.Checked),this.numberOfChecks++,wtfLeave(t))},e.prototype.detectChangesInternal=function(e){this.detectContentChildrenChanges(e),this.detectViewChildrenChanges(e)},e.prototype.detectContentChildrenChanges=function(e){for(var t=0;t<this.contentChildren.length;++t){var r=this.contentChildren[t];r.cdMode!==ChangeDetectorStatus.Detached&&r.detectChanges(e)}},e.prototype.detectViewChildrenChanges=function(e){for(var t=0;t<this.viewChildren.length;++t){var r=this.viewChildren[t];r.cdMode!==ChangeDetectorStatus.Detached&&r.detectChanges(e)}},e.prototype.markContentChildAsMoved=function(e){this.dirtyParentQueriesInternal()},e.prototype.addToContentChildren=function(e){e.parentView.contentChildren.push(this),this.viewContainerElement=e,this.dirtyParentQueriesInternal()},e.prototype.removeFromContentChildren=function(e){ListWrapper.remove(e.parentView.contentChildren,this),this.dirtyParentQueriesInternal(),this.viewContainerElement=null},e.prototype.markAsCheckOnce=function(){this.cdMode=ChangeDetectorStatus.CheckOnce},e.prototype.markPathToRootAsCheckOnce=function(){for(var e=this;isPresent(e)&&e.cdMode!==ChangeDetectorStatus.Detached;){e.cdMode===ChangeDetectorStatus.Checked&&(e.cdMode=ChangeDetectorStatus.CheckOnce);var t=e.type===ViewType.COMPONENT?e.declarationAppElement:e.viewContainerElement;e=isPresent(t)?t.parentView:null}},e.prototype.eventHandler=function(e){return e},e.prototype.throwDestroyedError=function(e){throw new ViewDestroyedError(e)},e}(),DebugAppView=function(e){function t(t,r,n,i,o,s,a,u){e.call(this,t,r,n,i,o,s,a),this.staticNodeDebugInfos=u,this._currentDebugContext=null}return __extends$17(t,e),t.prototype.create=function(t,r,n){this._resetDebug();try{return e.prototype.create.call(this,t,r,n)}catch(e){throw this._rethrowWithContext(e),e}},t.prototype.injectorGet=function(t,r,n){this._resetDebug();try{return e.prototype.injectorGet.call(this,t,r,n)}catch(e){throw this._rethrowWithContext(e),e}},t.prototype.detach=function(){this._resetDebug();try{e.prototype.detach.call(this)}catch(e){throw this._rethrowWithContext(e),e}},t.prototype.destroyLocal=function(){this._resetDebug();try{e.prototype.destroyLocal.call(this)}catch(e){throw this._rethrowWithContext(e),e}},t.prototype.detectChanges=function(t){this._resetDebug();try{e.prototype.detectChanges.call(this,t)}catch(e){throw this._rethrowWithContext(e),e}},t.prototype._resetDebug=function(){this._currentDebugContext=null},t.prototype.debug=function(e,t,r){return this._currentDebugContext=new DebugContext(this,e,t,r)},t.prototype._rethrowWithContext=function(e){if(!(e instanceof ViewWrappedError)&&(e instanceof ExpressionChangedAfterItHasBeenCheckedError||(this.cdMode=ChangeDetectorStatus.Errored),isPresent(this._currentDebugContext)))throw new ViewWrappedError(e,this._currentDebugContext)},t.prototype.eventHandler=function(t){var r=this,n=e.prototype.eventHandler.call(this,t);return function(e){r._resetDebug();try{return n(e)}catch(e){throw r._rethrowWithContext(e),e}}},t}(AppView),_AnimationOutputWithHandler=function(){function e(e,t){this.output=e,this.handler=t}return e}(),r={isDefaultChangeDetectionStrategy:isDefaultChangeDetectionStrategy,ChangeDetectorStatus:ChangeDetectorStatus,CHANGE_DETECTION_STRATEGY_VALUES:CHANGE_DETECTION_STRATEGY_VALUES,constructDependencies:constructDependencies,LifecycleHooks:LifecycleHooks,LIFECYCLE_HOOKS_VALUES:LIFECYCLE_HOOKS_VALUES,ReflectorReader:ReflectorReader,CodegenComponentFactoryResolver:CodegenComponentFactoryResolver,AppElement:AppElement,AppView:AppView,DebugAppView:DebugAppView,NgModuleInjector:NgModuleInjector,ViewType:ViewType,MAX_INTERPOLATION_VALUES:MAX_INTERPOLATION_VALUES,checkBinding:checkBinding,flattenNestedViewRenderNodes:flattenNestedViewRenderNodes,interpolate:interpolate,ViewUtils:ViewUtils,VIEW_ENCAPSULATION_VALUES:VIEW_ENCAPSULATION_VALUES,ViewMetadata:ViewMetadata,DebugContext:DebugContext,StaticNodeDebugInfo:StaticNodeDebugInfo,devModeEqual:devModeEqual,UNINITIALIZED:UNINITIALIZED,ValueUnwrapper:ValueUnwrapper,RenderDebugInfo:RenderDebugInfo,TemplateRef_:TemplateRef_,ReflectionCapabilities:ReflectionCapabilities,makeDecorator:makeDecorator,DebugDomRootRenderer:DebugDomRootRenderer,EMPTY_ARRAY:EMPTY_ARRAY,EMPTY_MAP:EMPTY_MAP,pureProxy1:pureProxy1,pureProxy2:pureProxy2,pureProxy3:pureProxy3,pureProxy4:pureProxy4,pureProxy5:pureProxy5,pureProxy6:pureProxy6,pureProxy7:pureProxy7,pureProxy8:pureProxy8,pureProxy9:pureProxy9,pureProxy10:pureProxy10,castByValue:castByValue,Console:Console,reflector:reflector,Reflector:Reflector,NoOpAnimationPlayer:NoOpAnimationPlayer,AnimationPlayer:AnimationPlayer,AnimationSequencePlayer:AnimationSequencePlayer,AnimationGroupPlayer:AnimationGroupPlayer,AnimationKeyframe:AnimationKeyframe,prepareFinalAnimationStyles:prepareFinalAnimationStyles,balanceAnimationKeyframes:balanceAnimationKeyframes,flattenStyles:flattenStyles,clearStyles:clearStyles,renderStyles:renderStyles,collectAndResolveStyles:collectAndResolveStyles,AnimationStyles:AnimationStyles,AnimationOutput:AnimationOutput,ANY_STATE:ANY_STATE,DEFAULT_STATE:DEFAULT_STATE,EMPTY_STATE:EMPTY_STATE,FILL_STYLE_FLAG:FILL_STYLE_FLAG,ComponentStillLoadingError:ComponentStillLoadingError},globalScope$1;globalScope$1="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var global$2=globalScope$1;global$2.assert=function(e){};var STRING_MAP_PROTO$1=Object.getPrototypeOf({}),StringWrapper$1=function(){function e(){}return e.fromCharCode=function(e){return String.fromCharCode(e)},e.charCodeAt=function(e,t){return e.charCodeAt(t)},e.split=function(e,t){return e.split(t)},e.equals=function(e,t){return e===t},e.stripLeft=function(e,t){if(e&&e.length){for(var r=0,n=0;n<e.length&&e[n]==t;n++)r++;e=e.substring(r)}return e},e.stripRight=function(e,t){if(e&&e.length){for(var r=e.length,n=e.length-1;n>=0&&e[n]==t;n--)r--;e=e.substring(0,r)}return e},e.replace=function(e,t,r){return e.replace(t,r)},e.replaceAll=function(e,t,r){return e.replace(t,r)},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.replaceAllMapped=function(e,t,r){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.splice(-2,2),r(e)})},e.contains=function(e,t){return e.indexOf(t)!=-1},e.compare=function(e,t){return e<t?-1:e>t?1:0},e}(),StringJoiner$1=function(){function e(e){void 0===e&&(e=[]),this.parts=e}return e.prototype.add=function(e){this.parts.push(e)},e.prototype.toString=function(){return this.parts.join("")},e}(),NumberWrapper$1=function(){function e(){}return e.toFixed=function(e,t){return e.toFixed(t)},e.equal=function(e,t){return e===t},e.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t},e.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t)}else if(16==t){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t)}else{var r=parseInt(e,t);if(!isNaN(r))return r}throw new Error("Invalid integer literal when parsing "+e+" in base "+t)},e.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNumeric=function(e){return!isNaN(e-parseFloat(e))},e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}(),TextAst=function(){function e(e,t,r){this.value=e,this.ngContentIndex=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitText(this,t)},e}(),BoundTextAst=function(){function e(e,t,r){this.value=e,this.ngContentIndex=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitBoundText(this,t)},e}(),AttrAst=function(){function e(e,t,r){this.name=e,this.value=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitAttr(this,t)},e}(),BoundElementPropertyAst=function(){function e(e,t,r,n,i,o){this.name=e,this.type=t,this.securityContext=r,this.value=n,this.unit=i,this.sourceSpan=o}return e.prototype.visit=function(e,t){return e.visitElementProperty(this,t)},e}(),BoundEventAst=function(){function e(e,t,r,n){this.name=e,this.target=t,this.handler=r,this.sourceSpan=n}return e.prototype.visit=function(e,t){return e.visitEvent(this,t)},Object.defineProperty(e.prototype,"fullName",{get:function(){return isPresent$1(this.target)?this.target+":"+this.name:this.name},enumerable:!0,configurable:!0}),e}(),ReferenceAst=function(){function e(e,t,r){this.name=e,this.value=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitReference(this,t)},e}(),VariableAst=function(){function e(e,t,r){this.name=e,this.value=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitVariable(this,t)},e}(),ElementAst=function(){function e(e,t,r,n,i,o,s,a,u,c,l){this.name=e,this.attrs=t,this.inputs=r,this.outputs=n,this.references=i,this.directives=o,this.providers=s,this.hasViewContainer=a,this.children=u,this.ngContentIndex=c,this.sourceSpan=l}return e.prototype.visit=function(e,t){return e.visitElement(this,t)},e}(),EmbeddedTemplateAst=function(){function e(e,t,r,n,i,o,s,a,u,c){this.attrs=e,this.outputs=t,this.references=r,this.variables=n,this.directives=i,this.providers=o,this.hasViewContainer=s,this.children=a,this.ngContentIndex=u,this.sourceSpan=c}return e.prototype.visit=function(e,t){return e.visitEmbeddedTemplate(this,t)},e}(),BoundDirectivePropertyAst=function(){function e(e,t,r,n){this.directiveName=e,this.templateName=t,this.value=r,this.sourceSpan=n}return e.prototype.visit=function(e,t){return e.visitDirectiveProperty(this,t)},e}(),DirectiveAst=function(){function e(e,t,r,n,i){this.directive=e,this.inputs=t,this.hostProperties=r,this.hostEvents=n,this.sourceSpan=i}return e.prototype.visit=function(e,t){return e.visitDirective(this,t)},e}(),ProviderAst=function(){function e(e,t,r,n,i,o,s){this.token=e,this.multiProvider=t,this.eager=r,this.providers=n,this.providerType=i,this.lifecycleHooks=o,this.sourceSpan=s}return e.prototype.visit=function(e,t){return null},e}(),ProviderAstType;!function(e){e[e.PublicService=0]="PublicService",e[e.PrivateService=1]="PrivateService",e[e.Component=2]="Component",e[e.Directive=3]="Directive",e[e.Builtin=4]="Builtin"}(ProviderAstType||(ProviderAstType={}));var NgContentAst=function(){function e(e,t,r){this.index=e,this.ngContentIndex=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitNgContent(this,t)},e}(),PropertyBindingType;!function(e){e[e.Property=0]="Property",e[e.Attribute=1]="Attribute",e[e.Class=2]="Class",e[e.Style=3]="Style",e[e.Animation=4]="Animation"}(PropertyBindingType||(PropertyBindingType={}));var Map$2=global$2.Map,Set$2=global$2.Set,createMapFromPairs$1=function(){try{if(1===new Map$2([[1,2]]).size)return function(e){return new Map$2(e)}}catch(e){}return function(e){for(var t=new Map$2,r=0;r<e.length;r++){var n=e[r];t.set(n[0],n[1])}return t}}(),createMapFromMap$1=function(){try{if(new Map$2(new Map$2))return function(e){return new Map$2(e)}}catch(e){}return function(e){var t=new Map$2;return e.forEach(function(e,r){t.set(r,e)}),t}}(),_clearValues$1=function(){return(new Map$2).keys().next?function(e){for(var t,r=e.keys();!(t=r.next()).done;)e.set(t.value,null)}:function(e){e.forEach(function(t,r){e.set(r,null)})}}(),_arrayFromMap$1=function(){try{if((new Map$2).values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(e){}return function(e,t){var r=ListWrapper$1.createFixedSize(e.size),n=0;return e.forEach(function(e,i){r[n]=t?e:i,n++}),r}}(),MapWrapper$1=function(){function e(){}return e.clone=function(e){return createMapFromMap$1(e)},e.createFromStringMap=function(e){var t=new Map$2;for(var r in e)t.set(r,e[r]);return t},e.toStringMap=function(e){var t={};return e.forEach(function(e,r){return t[r]=e}),t},e.createFromPairs=function(e){return createMapFromPairs$1(e)},e.clearValues=function(e){_clearValues$1(e)},e.iterable=function(e){return e},e.keys=function(e){return _arrayFromMap$1(e,!1)},e.values=function(e){return _arrayFromMap$1(e,!0)},e}(),StringMapWrapper$1=function(){function e(){}return e.create=function(){return{}},e.contains=function(e,t){return e.hasOwnProperty(t)},e.get=function(e,t){return e.hasOwnProperty(t)?e[t]:void 0},e.set=function(e,t,r){e[t]=r},e.keys=function(e){return Object.keys(e)},e.values=function(e){return Object.keys(e).map(function(t){return e[t]})},e.isEmpty=function(e){for(var t in e)return!1;return!0},e.delete=function(e,t){delete e[t]},e.forEach=function(e,t){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];t(e[i],i)}},e.merge=function(e,t){for(var r={},n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];r[o]=e[o]}for(var s=0,a=Object.keys(t);s<a.length;s++){var o=a[s];r[o]=t[o]}return r},e.equals=function(e,t){var r=Object.keys(e),n=Object.keys(t);if(r.length!=n.length)return!1;for(var i,o=0;o<r.length;o++)if(i=r[o],e[i]!==t[i])return!1;return!0},e}(),ListWrapper$1=function(){function e(){}return e.createFixedSize=function(e){return new Array(e)},e.createGrowableSize=function(e){return new Array(e)},e.clone=function(e){return e.slice(0)},e.forEachWithIndex=function(e,t){for(var r=0;r<e.length;r++)t(e[r],r)},e.first=function(e){return e?e[0]:null},e.last=function(e){return e&&0!=e.length?e[e.length-1]:null},e.indexOf=function(e,t,r){return void 0===r&&(r=0),e.indexOf(t,r)},e.contains=function(e,t){return e.indexOf(t)!==-1},e.reversed=function(t){var r=e.clone(t);return r.reverse()},e.concat=function(e,t){return e.concat(t)},e.insert=function(e,t,r){e.splice(t,0,r)},e.removeAt=function(e,t){var r=e[t];return e.splice(t,1),r},e.removeAll=function(e,t){for(var r=0;r<t.length;++r){var n=e.indexOf(t[r]);e.splice(n,1)}},e.remove=function(e,t){var r=e.indexOf(t);return r>-1&&(e.splice(r,1),!0)},e.clear=function(e){e.length=0},e.isEmpty=function(e){return 0==e.length},e.fill=function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=null),e.fill(t,r,null===n?e.length:n)},e.equals=function(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.splice=function(e,t,r){return e.splice(t,r)},e.sort=function(e,t){isPresent$1(t)?e.sort(t):e.sort()},e.toString=function(e){return e.toString()},e.toJSON=function(e){return JSON.stringify(e)},e.maximum=function(e,t){if(0==e.length)return null;for(var r=null,n=-(1/0),i=0;i<e.length;i++){var o=e[i];if(!isBlank$1(o)){var s=t(o);s>n&&(r=o,n=s)}}return r},e.flatten=function(e){var t=[];return _flattenArray$1(e,t),t},e.addAll=function(e,t){for(var r=0;r<t.length;r++)e.push(t[r])},e}(),createSetFromList$1=function(){var e=new Set$2([1,2,3]);return 3===e.size?function(e){return new Set$2(e)}:function(e){var t=new Set$2(e);if(t.size!==e.length)for(var r=0;r<e.length;r++)t.add(e[r]);return t}}(),SetWrapper$1=function(){function e(){}return e.createFromList=function(e){return createSetFromList$1(e)},e.has=function(e,t){return e.has(t)},e.delete=function(e,t){e.delete(t)},e}(),_EMPTY_ATTR_VALUE="",_SELECTOR_REGEXP=new RegExp("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-\\w*]+)(?:=([^\\]]*))?\\])|(\\))|(\\s*,\\s*)","g"),CssSelector=function(){function e(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return e.parse=function(t){var r,n=[],i=function(e,t){t.notSelectors.length>0&&isBlank$1(t.element)&&ListWrapper$1.isEmpty(t.classNames)&&ListWrapper$1.isEmpty(t.attrs)&&(t.element="*"),e.push(t)},o=new e,s=o,a=!1;for(_SELECTOR_REGEXP.lastIndex=0;isPresent$1(r=_SELECTOR_REGEXP.exec(t));){if(isPresent$1(r[1])){if(a)throw new Error("Nesting :not is not allowed in a selector");a=!0,s=new e,o.notSelectors.push(s)}if(isPresent$1(r[2])&&s.setElement(r[2]),isPresent$1(r[3])&&s.addClassName(r[3]),isPresent$1(r[4])&&s.addAttribute(r[4],r[5]),isPresent$1(r[6])&&(a=!1,s=o),isPresent$1(r[7])){if(a)throw new Error("Multiple selectors in :not are not supported");i(n,o),o=s=new e}}return i(n,o),n},e.prototype.isElementSelector=function(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length},e.prototype.hasElementSelector=function(){return!!this.element},e.prototype.setElement=function(e){void 0===e&&(e=null),this.element=e},e.prototype.getMatchingElementTemplate=function(){for(var e=isPresent$1(this.element)?this.element:"div",t=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",r="",n=0;n<this.attrs.length;n+=2){var i=this.attrs[n],o=""!==this.attrs[n+1]?'="'+this.attrs[n+1]+'"':"";r+=" "+i+o}return"<"+e+t+r+"></"+e+">"},e.prototype.addAttribute=function(e,t){void 0===t&&(t=_EMPTY_ATTR_VALUE),this.attrs.push(e),t=isPresent$1(t)?t.toLowerCase():_EMPTY_ATTR_VALUE,this.attrs.push(t)},e.prototype.addClassName=function(e){this.classNames.push(e.toLowerCase())},e.prototype.toString=function(){var e="";if(isPresent$1(this.element)&&(e+=this.element),isPresent$1(this.classNames))for(var t=0;t<this.classNames.length;t++)e+="."+this.classNames[t];if(isPresent$1(this.attrs))for(var t=0;t<this.attrs.length;){var r=this.attrs[t++],n=this.attrs[t++];e+="["+r,n.length>0&&(e+="="+n),e+="]"}return this.notSelectors.forEach(function(t){return e+=":not("+t+")"}),e},e}(),SelectorMatcher=function(){function e(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}return e.createNotMatcher=function(t){var r=new e;return r.addSelectables(t,null),r},e.prototype.addSelectables=function(e,t){var r=null;e.length>1&&(r=new SelectorListContext(e),this._listContexts.push(r));for(var n=0;n<e.length;n++)this._addSelectable(e[n],t,r)},e.prototype._addSelectable=function(e,t,r){var n=this,i=e.element,o=e.classNames,s=e.attrs,a=new SelectorContext(e,t,r);if(isPresent$1(i)){var u=0===s.length&&0===o.length;u?this._addTerminal(n._elementMap,i,a):n=this._addPartial(n._elementPartialMap,i)}if(isPresent$1(o))for(var c=0;c<o.length;c++){var u=0===s.length&&c===o.length-1,l=o[c];u?this._addTerminal(n._classMap,l,a):n=this._addPartial(n._classPartialMap,l)}if(isPresent$1(s))for(var c=0;c<s.length;){var u=c===s.length-2,p=s[c++],h=s[c++];if(u){var f=n._attrValueMap,d=f.get(p);isBlank$1(d)&&(d=new Map,f.set(p,d)),this._addTerminal(d,h,a)}else{var m=n._attrValuePartialMap,y=m.get(p);isBlank$1(y)&&(y=new Map,m.set(p,y)),n=this._addPartial(y,h)}}},e.prototype._addTerminal=function(e,t,r){var n=e.get(t);isBlank$1(n)&&(n=[],e.set(t,n)),n.push(r)},e.prototype._addPartial=function(t,r){var n=t.get(r);return isBlank$1(n)&&(n=new e,t.set(r,n)),n},e.prototype.match=function(e,t){for(var r=!1,n=e.element,i=e.classNames,o=e.attrs,s=0;s<this._listContexts.length;s++)this._listContexts[s].alreadyMatched=!1;if(r=this._matchTerminal(this._elementMap,n,e,t)||r,r=this._matchPartial(this._elementPartialMap,n,e,t)||r,isPresent$1(i))for(var a=0;a<i.length;a++){var u=i[a];r=this._matchTerminal(this._classMap,u,e,t)||r,r=this._matchPartial(this._classPartialMap,u,e,t)||r}if(isPresent$1(o))for(var a=0;a<o.length;){var c=o[a++],l=o[a++],p=this._attrValueMap.get(c);StringWrapper$1.equals(l,_EMPTY_ATTR_VALUE)||(r=this._matchTerminal(p,_EMPTY_ATTR_VALUE,e,t)||r),r=this._matchTerminal(p,l,e,t)||r;var h=this._attrValuePartialMap.get(c);StringWrapper$1.equals(l,_EMPTY_ATTR_VALUE)||(r=this._matchPartial(h,_EMPTY_ATTR_VALUE,e,t)||r),r=this._matchPartial(h,l,e,t)||r}return r},e.prototype._matchTerminal=function(e,t,r,n){if(isBlank$1(e)||isBlank$1(t))return!1;var i=e.get(t),o=e.get("*");if(isPresent$1(o)&&(i=i.concat(o)),isBlank$1(i))return!1;for(var s,a=!1,u=0;u<i.length;u++)s=i[u],a=s.finalize(r,n)||a;return a},e.prototype._matchPartial=function(e,t,r,n){if(isBlank$1(e)||isBlank$1(t))return!1;var i=e.get(t);return!isBlank$1(i)&&i.match(r,n)},e}(),SelectorListContext=function(){function e(e){this.selectors=e,this.alreadyMatched=!1}return e}(),SelectorContext=function(){function e(e,t,r){this.selector=e,this.cbContext=t,this.listContext=r,this.notSelectors=e.notSelectors}return e.prototype.finalize=function(e,t){var r=!0;if(this.notSelectors.length>0&&(isBlank$1(this.listContext)||!this.listContext.alreadyMatched)){var n=SelectorMatcher.createNotMatcher(this.notSelectors);r=!n.match(e,null)}return r&&isPresent$1(t)&&(isBlank$1(this.listContext)||!this.listContext.alreadyMatched)&&(isPresent$1(this.listContext)&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),r},e}(),__extends$21=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},TypeModifier;!function(e){e[e.Const=0]="Const"}(TypeModifier||(TypeModifier={}));var Type$1=function(){function e(e){void 0===e&&(e=null),this.modifiers=e,isBlank$1(e)&&(this.modifiers=[])}return e.prototype.hasModifier=function(e){return this.modifiers.indexOf(e)!==-1},e}(),BuiltinTypeName;!function(e){e[e.Dynamic=0]="Dynamic",e[e.Bool=1]="Bool",e[e.String=2]="String",e[e.Int=3]="Int",e[e.Number=4]="Number",e[e.Function=5]="Function"}(BuiltinTypeName||(BuiltinTypeName={}));var BuiltinType=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),this.name=t}return __extends$21(t,e),t.prototype.visitType=function(e,t){return e.visitBuiltintType(this,t)},t}(Type$1),ExternalType=function(e){function t(t,r,n){void 0===r&&(r=null),void 0===n&&(n=null),e.call(this,n),this.value=t,this.typeParams=r}return __extends$21(t,e),t.prototype.visitType=function(e,t){return e.visitExternalType(this,t)},t}(Type$1),ArrayType=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),this.of=t}return __extends$21(t,e),t.prototype.visitType=function(e,t){return e.visitArrayType(this,t)},t}(Type$1),MapType=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),this.valueType=t}return __extends$21(t,e),t.prototype.visitType=function(e,t){return e.visitMapType(this,t)},t}(Type$1),DYNAMIC_TYPE=new BuiltinType(BuiltinTypeName.Dynamic),BOOL_TYPE=new BuiltinType(BuiltinTypeName.Bool),INT_TYPE=new BuiltinType(BuiltinTypeName.Int),NUMBER_TYPE=new BuiltinType(BuiltinTypeName.Number),STRING_TYPE=new BuiltinType(BuiltinTypeName.String),FUNCTION_TYPE=new BuiltinType(BuiltinTypeName.Function),BinaryOperator;!function(e){e[e.Equals=0]="Equals",e[e.NotEquals=1]="NotEquals",e[e.Identical=2]="Identical",e[e.NotIdentical=3]="NotIdentical",e[e.Minus=4]="Minus",e[e.Plus=5]="Plus",e[e.Divide=6]="Divide",e[e.Multiply=7]="Multiply",e[e.Modulo=8]="Modulo",e[e.And=9]="And",e[e.Or=10]="Or",e[e.Lower=11]="Lower",e[e.LowerEquals=12]="LowerEquals",e[e.Bigger=13]="Bigger",e[e.BiggerEquals=14]="BiggerEquals"}(BinaryOperator||(BinaryOperator={}));var Expression=function(){function e(e){this.type=e}return e.prototype.prop=function(e){return new ReadPropExpr(this,e)},e.prototype.key=function(e,t){return void 0===t&&(t=null),new ReadKeyExpr(this,e,t)},e.prototype.callMethod=function(e,t){return new InvokeMethodExpr(this,e,t)},e.prototype.callFn=function(e){return new InvokeFunctionExpr(this,e)},e.prototype.instantiate=function(e,t){return void 0===t&&(t=null),new InstantiateExpr(this,e,t)},e.prototype.conditional=function(e,t){return void 0===t&&(t=null),new ConditionalExpr(this,e,t)},e.prototype.equals=function(e){return new BinaryOperatorExpr(BinaryOperator.Equals,this,e)},e.prototype.notEquals=function(e){return new BinaryOperatorExpr(BinaryOperator.NotEquals,this,e)},e.prototype.identical=function(e){return new BinaryOperatorExpr(BinaryOperator.Identical,this,e)},e.prototype.notIdentical=function(e){return new BinaryOperatorExpr(BinaryOperator.NotIdentical,this,e)},e.prototype.minus=function(e){return new BinaryOperatorExpr(BinaryOperator.Minus,this,e)},e.prototype.plus=function(e){return new BinaryOperatorExpr(BinaryOperator.Plus,this,e)},e.prototype.divide=function(e){return new BinaryOperatorExpr(BinaryOperator.Divide,this,e)},e.prototype.multiply=function(e){return new BinaryOperatorExpr(BinaryOperator.Multiply,this,e)},e.prototype.modulo=function(e){return new BinaryOperatorExpr(BinaryOperator.Modulo,this,e)},e.prototype.and=function(e){return new BinaryOperatorExpr(BinaryOperator.And,this,e)},e.prototype.or=function(e){return new BinaryOperatorExpr(BinaryOperator.Or,this,e)},e.prototype.lower=function(e){return new BinaryOperatorExpr(BinaryOperator.Lower,this,e)},e.prototype.lowerEquals=function(e){return new BinaryOperatorExpr(BinaryOperator.LowerEquals,this,e)},e.prototype.bigger=function(e){return new BinaryOperatorExpr(BinaryOperator.Bigger,this,e)},e.prototype.biggerEquals=function(e){return new BinaryOperatorExpr(BinaryOperator.BiggerEquals,this,e)},e.prototype.isBlank=function(){return this.equals(NULL_EXPR)},e.prototype.cast=function(e){return new CastExpr(this,e)},e.prototype.toStmt=function(){return new ExpressionStatement(this)},e}(),BuiltinVar;!function(e){e[e.This=0]="This",e[e.Super=1]="Super",e[e.CatchError=2]="CatchError",e[e.CatchStack=3]="CatchStack"}(BuiltinVar||(BuiltinVar={}));var ReadVarExpr=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),isString$1(t)?(this.name=t,this.builtin=null):(this.name=null,this.builtin=t)}return __extends$21(t,e),t.prototype.visitExpression=function(e,t){return e.visitReadVarExpr(this,t)},t.prototype.set=function(e){return new WriteVarExpr(this.name,e)},t}(Expression),WriteVarExpr=function(e){function t(t,r,n){void 0===n&&(n=null),e.call(this,isPresent$1(n)?n:r.type),this.name=t,this.value=r}return __extends$21(t,e),t.prototype.visitExpression=function(e,t){return e.visitWriteVarExpr(this,t)},t.prototype.toDeclStmt=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=null),new DeclareVarStmt(this.name,this.value,e,t)},t}(Expression),WriteKeyExpr=function(e){function t(t,r,n,i){void 0===i&&(i=null),e.call(this,isPresent$1(i)?i:n.type),this.receiver=t,this.index=r,this.value=n}return __extends$21(t,e),t.prototype.visitExpression=function(e,t){return e.visitWriteKeyExpr(this,t)},t}(Expression),WritePropExpr=function(e){function t(t,r,n,i){void 0===i&&(i=null),e.call(this,isPresent$1(i)?i:n.type),
this.receiver=t,this.name=r,this.value=n}return __extends$21(t,e),t.prototype.visitExpression=function(e,t){return e.visitWritePropExpr(this,t)},t}(Expression),BuiltinMethod;!function(e){e[e.ConcatArray=0]="ConcatArray",e[e.SubscribeObservable=1]="SubscribeObservable",e[e.Bind=2]="Bind"}(BuiltinMethod||(BuiltinMethod={}));var InvokeMethodExpr=function(e){function t(t,r,n,i){void 0===i&&(i=null),e.call(this,i),this.receiver=t,this.args=n,isString$1(r)?(this.name=r,this.builtin=null):(this.name=null,this.builtin=r)}return __extends$21(t,e),t.prototype.visitExpression=function(e,t){return e.visitInvokeMethodExpr(this,t)},t}(Expression),InvokeFunctionExpr=function(e){function t(t,r,n){void 0===n&&(n=null),e.call(this,n),this.fn=t,this.args=r}return __extends$21(t,e),t.prototype.visitExpression=function(e,t){return e.visitInvokeFunctionExpr(this,t)},t}(Expression),InstantiateExpr=function(e){function t(t,r,n){e.call(this,n),this.classExpr=t,this.args=r}return __extends$21(t,e),t.prototype.visitExpression=function(e,t){return e.visitInstantiateExpr(this,t)},t}(Expression),LiteralExpr=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),this.value=t}return __extends$21(t,e),t.prototype.visitExpression=function(e,t){return e.visitLiteralExpr(this,t)},t}(Expression),ExternalExpr=function(e){function t(t,r,n){void 0===r&&(r=null),void 0===n&&(n=null),e.call(this,r),this.value=t,this.typeParams=n}return __extends$21(t,e),t.prototype.visitExpression=function(e,t){return e.visitExternalExpr(this,t)},t}(Expression),ConditionalExpr=function(e){function t(t,r,n,i){void 0===n&&(n=null),void 0===i&&(i=null),e.call(this,isPresent$1(i)?i:r.type),this.condition=t,this.falseCase=n,this.trueCase=r}return __extends$21(t,e),t.prototype.visitExpression=function(e,t){return e.visitConditionalExpr(this,t)},t}(Expression),NotExpr=function(e){function t(t){e.call(this,BOOL_TYPE),this.condition=t}return __extends$21(t,e),t.prototype.visitExpression=function(e,t){return e.visitNotExpr(this,t)},t}(Expression),CastExpr=function(e){function t(t,r){e.call(this,r),this.value=t}return __extends$21(t,e),t.prototype.visitExpression=function(e,t){return e.visitCastExpr(this,t)},t}(Expression),FnParam=function(){function e(e,t){void 0===t&&(t=null),this.name=e,this.type=t}return e}(),FunctionExpr=function(e){function t(t,r,n){void 0===n&&(n=null),e.call(this,n),this.params=t,this.statements=r}return __extends$21(t,e),t.prototype.visitExpression=function(e,t){return e.visitFunctionExpr(this,t)},t.prototype.toDeclStmt=function(e,t){return void 0===t&&(t=null),new DeclareFunctionStmt(e,this.params,this.statements,this.type,t)},t}(Expression),BinaryOperatorExpr=function(e){function t(t,r,n,i){void 0===i&&(i=null),e.call(this,isPresent$1(i)?i:r.type),this.operator=t,this.rhs=n,this.lhs=r}return __extends$21(t,e),t.prototype.visitExpression=function(e,t){return e.visitBinaryOperatorExpr(this,t)},t}(Expression),ReadPropExpr=function(e){function t(t,r,n){void 0===n&&(n=null),e.call(this,n),this.receiver=t,this.name=r}return __extends$21(t,e),t.prototype.visitExpression=function(e,t){return e.visitReadPropExpr(this,t)},t.prototype.set=function(e){return new WritePropExpr(this.receiver,this.name,e)},t}(Expression),ReadKeyExpr=function(e){function t(t,r,n){void 0===n&&(n=null),e.call(this,n),this.receiver=t,this.index=r}return __extends$21(t,e),t.prototype.visitExpression=function(e,t){return e.visitReadKeyExpr(this,t)},t.prototype.set=function(e){return new WriteKeyExpr(this.receiver,this.index,e)},t}(Expression),LiteralArrayExpr=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),this.entries=t}return __extends$21(t,e),t.prototype.visitExpression=function(e,t){return e.visitLiteralArrayExpr(this,t)},t}(Expression),LiteralMapExpr=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),this.entries=t,this.valueType=null,isPresent$1(r)&&(this.valueType=r.valueType)}return __extends$21(t,e),t.prototype.visitExpression=function(e,t){return e.visitLiteralMapExpr(this,t)},t}(Expression),THIS_EXPR=new ReadVarExpr(BuiltinVar.This),SUPER_EXPR=new ReadVarExpr(BuiltinVar.Super),CATCH_ERROR_VAR=new ReadVarExpr(BuiltinVar.CatchError),CATCH_STACK_VAR=new ReadVarExpr(BuiltinVar.CatchStack),NULL_EXPR=new LiteralExpr(null,null),StmtModifier;!function(e){e[e.Final=0]="Final",e[e.Private=1]="Private"}(StmtModifier||(StmtModifier={}));var Statement=function(){function e(e){void 0===e&&(e=null),this.modifiers=e,isBlank$1(e)&&(this.modifiers=[])}return e.prototype.hasModifier=function(e){return this.modifiers.indexOf(e)!==-1},e}(),DeclareVarStmt=function(e){function t(t,r,n,i){void 0===n&&(n=null),void 0===i&&(i=null),e.call(this,i),this.name=t,this.value=r,this.type=isPresent$1(n)?n:r.type}return __extends$21(t,e),t.prototype.visitStatement=function(e,t){return e.visitDeclareVarStmt(this,t)},t}(Statement),DeclareFunctionStmt=function(e){function t(t,r,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null),e.call(this,o),this.name=t,this.params=r,this.statements=n,this.type=i}return __extends$21(t,e),t.prototype.visitStatement=function(e,t){return e.visitDeclareFunctionStmt(this,t)},t}(Statement),ExpressionStatement=function(e){function t(t){e.call(this),this.expr=t}return __extends$21(t,e),t.prototype.visitStatement=function(e,t){return e.visitExpressionStmt(this,t)},t}(Statement),ReturnStatement=function(e){function t(t){e.call(this),this.value=t}return __extends$21(t,e),t.prototype.visitStatement=function(e,t){return e.visitReturnStmt(this,t)},t}(Statement),AbstractClassPart=function(){function e(e,t){void 0===e&&(e=null),this.type=e,this.modifiers=t,isBlank$1(t)&&(this.modifiers=[])}return e.prototype.hasModifier=function(e){return this.modifiers.indexOf(e)!==-1},e}(),ClassField=function(e){function t(t,r,n){void 0===r&&(r=null),void 0===n&&(n=null),e.call(this,r,n),this.name=t}return __extends$21(t,e),t}(AbstractClassPart),ClassMethod=function(e){function t(t,r,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null),e.call(this,i,o),this.name=t,this.params=r,this.body=n}return __extends$21(t,e),t}(AbstractClassPart),ClassGetter=function(e){function t(t,r,n,i){void 0===n&&(n=null),void 0===i&&(i=null),e.call(this,n,i),this.name=t,this.body=r}return __extends$21(t,e),t}(AbstractClassPart),ClassStmt=function(e){function t(t,r,n,i,o,s,a){void 0===a&&(a=null),e.call(this,a),this.name=t,this.parent=r,this.fields=n,this.getters=i,this.constructorMethod=o,this.methods=s}return __extends$21(t,e),t.prototype.visitStatement=function(e,t){return e.visitDeclareClassStmt(this,t)},t}(Statement),IfStmt=function(e){function t(t,r,n){void 0===n&&(n=[]),e.call(this),this.condition=t,this.trueCase=r,this.falseCase=n}return __extends$21(t,e),t.prototype.visitStatement=function(e,t){return e.visitIfStmt(this,t)},t}(Statement),CommentStmt=function(e){function t(t){e.call(this),this.comment=t}return __extends$21(t,e),t.prototype.visitStatement=function(e,t){return e.visitCommentStmt(this,t)},t}(Statement),TryCatchStmt=function(e){function t(t,r){e.call(this),this.bodyStmts=t,this.catchStmts=r}return __extends$21(t,e),t.prototype.visitStatement=function(e,t){return e.visitTryCatchStmt(this,t)},t}(Statement),ThrowStmt=function(e){function t(t){e.call(this),this.error=t}return __extends$21(t,e),t.prototype.visitStatement=function(e,t){return e.visitThrowStmt(this,t)},t}(Statement),ExpressionTransformer=function(){function e(){}return e.prototype.visitReadVarExpr=function(e,t){return e},e.prototype.visitWriteVarExpr=function(e,t){return new WriteVarExpr(e.name,e.value.visitExpression(this,t))},e.prototype.visitWriteKeyExpr=function(e,t){return new WriteKeyExpr(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t))},e.prototype.visitWritePropExpr=function(e,t){return new WritePropExpr(e.receiver.visitExpression(this,t),e.name,e.value.visitExpression(this,t))},e.prototype.visitInvokeMethodExpr=function(e,t){var r=isPresent$1(e.builtin)?e.builtin:e.name;return new InvokeMethodExpr(e.receiver.visitExpression(this,t),r,this.visitAllExpressions(e.args,t),e.type)},e.prototype.visitInvokeFunctionExpr=function(e,t){return new InvokeFunctionExpr(e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type)},e.prototype.visitInstantiateExpr=function(e,t){return new InstantiateExpr(e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type)},e.prototype.visitLiteralExpr=function(e,t){return e},e.prototype.visitExternalExpr=function(e,t){return e},e.prototype.visitConditionalExpr=function(e,t){return new ConditionalExpr(e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t))},e.prototype.visitNotExpr=function(e,t){return new NotExpr(e.condition.visitExpression(this,t))},e.prototype.visitCastExpr=function(e,t){return new CastExpr(e.value.visitExpression(this,t),t)},e.prototype.visitFunctionExpr=function(e,t){return e},e.prototype.visitBinaryOperatorExpr=function(e,t){return new BinaryOperatorExpr(e.operator,e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e.type)},e.prototype.visitReadPropExpr=function(e,t){return new ReadPropExpr(e.receiver.visitExpression(this,t),e.name,e.type)},e.prototype.visitReadKeyExpr=function(e,t){return new ReadKeyExpr(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.type)},e.prototype.visitLiteralArrayExpr=function(e,t){return new LiteralArrayExpr(this.visitAllExpressions(e.entries,t))},e.prototype.visitLiteralMapExpr=function(e,t){var r=this;return new LiteralMapExpr(e.entries.map(function(e){return[e[0],e[1].visitExpression(r,t)]}))},e.prototype.visitAllExpressions=function(e,t){var r=this;return e.map(function(e){return e.visitExpression(r,t)})},e.prototype.visitDeclareVarStmt=function(e,t){return new DeclareVarStmt(e.name,e.value.visitExpression(this,t),e.type,e.modifiers)},e.prototype.visitDeclareFunctionStmt=function(e,t){return e},e.prototype.visitExpressionStmt=function(e,t){return new ExpressionStatement(e.expr.visitExpression(this,t))},e.prototype.visitReturnStmt=function(e,t){return new ReturnStatement(e.value.visitExpression(this,t))},e.prototype.visitDeclareClassStmt=function(e,t){return e},e.prototype.visitIfStmt=function(e,t){return new IfStmt(e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t))},e.prototype.visitTryCatchStmt=function(e,t){return new TryCatchStmt(this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t))},e.prototype.visitThrowStmt=function(e,t){return new ThrowStmt(e.error.visitExpression(this,t))},e.prototype.visitCommentStmt=function(e,t){return e},e.prototype.visitAllStatements=function(e,t){var r=this;return e.map(function(e){return e.visitStatement(r,t)})},e}(),RecursiveExpressionVisitor=function(){function e(){}return e.prototype.visitReadVarExpr=function(e,t){return e},e.prototype.visitWriteVarExpr=function(e,t){return e.value.visitExpression(this,t),e},e.prototype.visitWriteKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),e},e.prototype.visitWritePropExpr=function(e,t){return e.receiver.visitExpression(this,t),e.value.visitExpression(this,t),e},e.prototype.visitInvokeMethodExpr=function(e,t){return e.receiver.visitExpression(this,t),this.visitAllExpressions(e.args,t),e},e.prototype.visitInvokeFunctionExpr=function(e,t){return e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e},e.prototype.visitInstantiateExpr=function(e,t){return e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e},e.prototype.visitLiteralExpr=function(e,t){return e},e.prototype.visitExternalExpr=function(e,t){return e},e.prototype.visitConditionalExpr=function(e,t){return e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),e},e.prototype.visitNotExpr=function(e,t){return e.condition.visitExpression(this,t),e},e.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t),e},e.prototype.visitFunctionExpr=function(e,t){return e},e.prototype.visitBinaryOperatorExpr=function(e,t){return e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e},e.prototype.visitReadPropExpr=function(e,t){return e.receiver.visitExpression(this,t),e},e.prototype.visitReadKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e},e.prototype.visitLiteralArrayExpr=function(e,t){return this.visitAllExpressions(e.entries,t),e},e.prototype.visitLiteralMapExpr=function(e,t){var r=this;return e.entries.forEach(function(e){return e[1].visitExpression(r,t)}),e},e.prototype.visitAllExpressions=function(e,t){var r=this;e.forEach(function(e){return e.visitExpression(r,t)})},e.prototype.visitDeclareVarStmt=function(e,t){return e.value.visitExpression(this,t),e},e.prototype.visitDeclareFunctionStmt=function(e,t){return e},e.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t),e},e.prototype.visitReturnStmt=function(e,t){return e.value.visitExpression(this,t),e},e.prototype.visitDeclareClassStmt=function(e,t){return e},e.prototype.visitIfStmt=function(e,t){return e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e},e.prototype.visitTryCatchStmt=function(e,t){return this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e},e.prototype.visitThrowStmt=function(e,t){return e.error.visitExpression(this,t),e},e.prototype.visitCommentStmt=function(e,t){return e},e.prototype.visitAllStatements=function(e,t){var r=this;e.forEach(function(e){return e.visitStatement(r,t)})},e}(),_ReplaceVariableTransformer=function(e){function t(t,r){e.call(this),this._varName=t,this._newValue=r}return __extends$21(t,e),t.prototype.visitReadVarExpr=function(e,t){return e.name==this._varName?this._newValue:e},t}(ExpressionTransformer),_VariableFinder=function(e){function t(){e.apply(this,arguments),this.varNames=new Set}return __extends$21(t,e),t.prototype.visitReadVarExpr=function(e,t){return this.varNames.add(e.name),null},t}(RecursiveExpressionVisitor),MODULE_SUFFIX="",CAMEL_CASE_REGEXP=/([A-Z])/g,ValueTransformer=function(){function e(){}return e.prototype.visitArray=function(e,t){var r=this;return e.map(function(e){return visitValue(e,r,t)})},e.prototype.visitStringMap=function(e,t){var r=this,n={};return StringMapWrapper$1.forEach(e,function(e,i){n[i]=visitValue(e,r,t)}),n},e.prototype.visitPrimitive=function(e,t){return e},e.prototype.visitOther=function(e,t){return e},e}(),SyncAsyncResult=function(){function e(e,t){void 0===t&&(t=null),this.syncResult=e,this.asyncResult=t,t||(this.asyncResult=Promise.resolve(e))}return e}(),__extends$20=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},HOST_REG_EXP=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/,CompileMetadataWithIdentifier=function(){function e(){}return Object.defineProperty(e.prototype,"identifier",{get:function(){return unimplemented$1()},enumerable:!0,configurable:!0}),e}(),CompileAnimationEntryMetadata=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.name=e,this.definitions=t}return e}(),CompileAnimationStateMetadata=function(){function e(){}return e}(),CompileAnimationStateDeclarationMetadata=function(e){function t(t,r){e.call(this),this.stateNameExpr=t,this.styles=r}return __extends$20(t,e),t}(CompileAnimationStateMetadata),CompileAnimationStateTransitionMetadata=function(e){function t(t,r){e.call(this),this.stateChangeExpr=t,this.steps=r}return __extends$20(t,e),t}(CompileAnimationStateMetadata),CompileAnimationMetadata=function(){function e(){}return e}(),CompileAnimationKeyframesSequenceMetadata=function(e){function t(t){void 0===t&&(t=[]),e.call(this),this.steps=t}return __extends$20(t,e),t}(CompileAnimationMetadata),CompileAnimationStyleMetadata=function(e){function t(t,r){void 0===r&&(r=null),e.call(this),this.offset=t,this.styles=r}return __extends$20(t,e),t}(CompileAnimationMetadata),CompileAnimationAnimateMetadata=function(e){function t(t,r){void 0===t&&(t=0),void 0===r&&(r=null),e.call(this),this.timings=t,this.styles=r}return __extends$20(t,e),t}(CompileAnimationMetadata),CompileAnimationWithStepsMetadata=function(e){function t(t){void 0===t&&(t=null),e.call(this),this.steps=t}return __extends$20(t,e),t}(CompileAnimationMetadata),CompileAnimationSequenceMetadata=function(e){function t(t){void 0===t&&(t=null),e.call(this,t)}return __extends$20(t,e),t}(CompileAnimationWithStepsMetadata),CompileAnimationGroupMetadata=function(e){function t(t){void 0===t&&(t=null),e.call(this,t)}return __extends$20(t,e),t}(CompileAnimationWithStepsMetadata),CompileIdentifierMetadata=function(){function e(e){var t=void 0===e?{}:e,r=t.reference,n=t.name,i=t.moduleUrl,o=t.prefix,s=t.value;this.reference=r,this.name=n,this.prefix=o,this.moduleUrl=i,this.value=s}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),e}(),CompileDiDependencyMetadata=function(){function e(e){var t=void 0===e?{}:e,r=t.isAttribute,n=t.isSelf,i=t.isHost,o=t.isSkipSelf,s=t.isOptional,a=t.isValue,u=t.query,c=t.viewQuery,l=t.token,p=t.value;this.isAttribute=normalizeBool$1(r),this.isSelf=normalizeBool$1(n),this.isHost=normalizeBool$1(i),this.isSkipSelf=normalizeBool$1(o),this.isOptional=normalizeBool$1(s),this.isValue=normalizeBool$1(a),this.query=u,this.viewQuery=c,this.token=l,this.value=p}return e}(),CompileProviderMetadata=function(){function e(e){var t=e.token,r=e.useClass,n=e.useValue,i=e.useExisting,o=e.useFactory,s=e.deps,a=e.multi;this.token=t,this.useClass=r,this.useValue=n,this.useExisting=i,this.useFactory=o,this.deps=normalizeBlank$1(s),this.multi=normalizeBool$1(a)}return e}(),CompileFactoryMetadata=function(e){function t(t){var r=t.reference,n=t.name,i=t.moduleUrl,o=t.prefix,s=t.diDeps,a=t.value;e.call(this,{reference:r,name:n,prefix:o,moduleUrl:i,value:a}),this.diDeps=_normalizeArray(s)}return __extends$20(t,e),t}(CompileIdentifierMetadata),CompileTokenMetadata=function(){function e(e){var t=e.value,r=e.identifier,n=e.identifierIsInstance;this.value=t,this.identifier=r,this.identifierIsInstance=normalizeBool$1(n)}return Object.defineProperty(e.prototype,"reference",{get:function(){return isPresent$1(this.identifier)?this.identifier.reference:this.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return isPresent$1(this.value)?sanitizeIdentifier(this.value):this.identifier.name},enumerable:!0,configurable:!0}),e}(),CompileTypeMetadata=function(e){function t(t){var r=void 0===t?{}:t,n=r.reference,i=r.name,o=r.moduleUrl,s=r.prefix,a=r.isHost,u=r.value,c=r.diDeps,l=r.lifecycleHooks;e.call(this,{reference:n,name:i,moduleUrl:o,prefix:s,value:u}),this.isHost=normalizeBool$1(a),this.diDeps=_normalizeArray(c),this.lifecycleHooks=_normalizeArray(l)}return __extends$20(t,e),t}(CompileIdentifierMetadata),CompileQueryMetadata=function(){function e(e){var t=void 0===e?{}:e,r=t.selectors,n=t.descendants,i=t.first,o=t.propertyName,s=t.read;this.selectors=r,this.descendants=normalizeBool$1(n),this.first=normalizeBool$1(i),this.propertyName=o,this.read=s}return e}(),CompileStylesheetMetadata=function(){function e(e){var t=void 0===e?{}:e,r=t.moduleUrl,n=t.styles,i=t.styleUrls;this.moduleUrl=r,this.styles=_normalizeArray(n),this.styleUrls=_normalizeArray(i)}return e}(),CompileTemplateMetadata=function(){function e(e){var t=void 0===e?{}:e,r=t.encapsulation,n=t.template,i=t.templateUrl,o=t.styles,s=t.styleUrls,a=t.externalStylesheets,u=t.animations,c=t.ngContentSelectors,l=t.interpolation;if(this.encapsulation=r,this.template=n,this.templateUrl=i,this.styles=_normalizeArray(o),this.styleUrls=_normalizeArray(s),this.externalStylesheets=_normalizeArray(a),this.animations=isPresent$1(u)?ListWrapper$1.flatten(u):[],this.ngContentSelectors=isPresent$1(c)?c:[],isPresent$1(l)&&2!=l.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=l}return e}(),CompileDirectiveMetadata=function(){function e(e){var t=void 0===e?{}:e,r=t.type,n=t.isComponent,i=t.selector,o=t.exportAs,s=t.changeDetection,a=t.inputs,u=t.outputs,c=t.hostListeners,l=t.hostProperties,p=t.hostAttributes,h=t.providers,f=t.viewProviders,d=t.queries,m=t.viewQueries,y=t.entryComponents,v=t.template;this.type=r,this.isComponent=n,this.selector=i,this.exportAs=o,this.changeDetection=s,this.inputs=a,this.outputs=u,this.hostListeners=c,this.hostProperties=l,this.hostAttributes=p,this.providers=_normalizeArray(h),this.viewProviders=_normalizeArray(f),this.queries=_normalizeArray(d),this.viewQueries=_normalizeArray(m),this.entryComponents=_normalizeArray(y),this.template=v}return e.create=function(t){var r=void 0===t?{}:t,n=r.type,i=r.isComponent,o=r.selector,s=r.exportAs,a=r.changeDetection,u=r.inputs,c=r.outputs,l=r.host,p=r.providers,h=r.viewProviders,f=r.queries,d=r.viewQueries,m=r.entryComponents,y=r.template,v={},_={},g={};isPresent$1(l)&&StringMapWrapper$1.forEach(l,function(e,t){var r=t.match(HOST_REG_EXP);null===r?g[t]=e:isPresent$1(r[1])?_[r[1]]=e:isPresent$1(r[2])&&(v[r[2]]=e)});var b={};isPresent$1(u)&&u.forEach(function(e){var t=splitAtColon(e,[e,e]);b[t[0]]=t[1]});var E={};return isPresent$1(c)&&c.forEach(function(e){var t=splitAtColon(e,[e,e]);E[t[0]]=t[1]}),new e({type:n,isComponent:normalizeBool$1(i),selector:o,exportAs:s,changeDetection:a,inputs:b,outputs:E,hostListeners:v,hostProperties:_,hostAttributes:g,providers:p,viewProviders:h,queries:f,viewQueries:d,entryComponents:m,template:y})},Object.defineProperty(e.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),e}(),CompilePipeMetadata=function(){function e(e){var t=void 0===e?{}:e,r=t.type,n=t.name,i=t.pure;this.type=r,this.name=n,this.pure=normalizeBool$1(i)}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),e}(),CompileNgModuleMetadata=function(){function e(e){var t=void 0===e?{}:e,r=t.type,n=t.providers,i=t.declaredDirectives,o=t.exportedDirectives,s=t.declaredPipes,a=t.exportedPipes,u=t.entryComponents,c=t.bootstrapComponents,l=t.importedModules,p=t.exportedModules,h=t.schemas,f=t.transitiveModule;this.type=r,this.declaredDirectives=_normalizeArray(i),this.exportedDirectives=_normalizeArray(o),this.declaredPipes=_normalizeArray(s),this.exportedPipes=_normalizeArray(a),this.providers=_normalizeArray(n),this.entryComponents=_normalizeArray(u),this.bootstrapComponents=_normalizeArray(c),this.importedModules=_normalizeArray(l),this.exportedModules=_normalizeArray(p),this.schemas=_normalizeArray(h),this.transitiveModule=f}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),e}(),TransitiveCompileNgModuleMetadata=function(){function e(e,t,r,n,i){var o=this;this.modules=e,this.providers=t,this.entryComponents=r,this.directives=n,this.pipes=i,this.directivesSet=new Set,this.pipesSet=new Set,n.forEach(function(e){return o.directivesSet.add(e.type.reference)}),i.forEach(function(e){return o.pipesSet.add(e.type.reference)})}return e}(),ProviderMeta=function(){function e(e,t){var r=t.useClass,n=t.useValue,i=t.useExisting,o=t.useFactory,s=t.deps,a=t.multi;this.token=e,this.useClass=r,this.useValue=n,this.useExisting=i,this.useFactory=o,this.dependencies=s,this.multi=!!a}return e}(),__extends$22=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},ParserError=function(){function e(e,t,r,n){this.input=t,this.errLocation=r,this.ctxLocation=n,this.message="Parser Error: "+e+" "+r+" ["+t+"] in "+n}return e}(),ParseSpan=function(){function e(e,t){this.start=e,this.end=t}return e}(),AST=function(){function e(e){this.span=e}return e.prototype.visit=function(e,t){return void 0===t&&(t=null),null},e.prototype.toString=function(){return"AST"},e}(),Quote=function(e){function t(t,r,n,i){e.call(this,t),this.prefix=r,this.uninterpretedExpression=n,this.location=i}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitQuote(this,t)},t.prototype.toString=function(){return"Quote"},t}(AST),EmptyExpr=function(e){function t(){e.apply(this,arguments)}return __extends$22(t,e),t.prototype.visit=function(e,t){void 0===t&&(t=null)},t}(AST),ImplicitReceiver=function(e){function t(){e.apply(this,arguments)}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitImplicitReceiver(this,t)},t}(AST),Chain=function(e){function t(t,r){e.call(this,t),this.expressions=r}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitChain(this,t)},t}(AST),Conditional=function(e){function t(t,r,n,i){e.call(this,t),this.condition=r,this.trueExp=n,this.falseExp=i}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitConditional(this,t)},t}(AST),PropertyRead=function(e){function t(t,r,n){e.call(this,t),this.receiver=r,this.name=n}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPropertyRead(this,t)},t}(AST),PropertyWrite=function(e){function t(t,r,n,i){e.call(this,t),this.receiver=r,this.name=n,this.value=i}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPropertyWrite(this,t)},t}(AST),SafePropertyRead=function(e){function t(t,r,n){e.call(this,t),this.receiver=r,this.name=n}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitSafePropertyRead(this,t)},t}(AST),KeyedRead=function(e){function t(t,r,n){e.call(this,t),this.obj=r,this.key=n}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitKeyedRead(this,t)},t}(AST),KeyedWrite=function(e){function t(t,r,n,i){e.call(this,t),this.obj=r,this.key=n,this.value=i}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitKeyedWrite(this,t)},t}(AST),BindingPipe=function(e){function t(t,r,n,i){e.call(this,t),this.exp=r,this.name=n,this.args=i}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPipe(this,t)},t}(AST),LiteralPrimitive=function(e){function t(t,r){e.call(this,t),this.value=r}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralPrimitive(this,t)},t}(AST),LiteralArray=function(e){function t(t,r){e.call(this,t),this.expressions=r}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralArray(this,t)},t}(AST),LiteralMap=function(e){function t(t,r,n){e.call(this,t),this.keys=r,this.values=n}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralMap(this,t)},t}(AST),Interpolation=function(e){function t(t,r,n){e.call(this,t),this.strings=r,this.expressions=n}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitInterpolation(this,t)},t}(AST),Binary=function(e){function t(t,r,n,i){e.call(this,t),this.operation=r,this.left=n,this.right=i}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitBinary(this,t)},t}(AST),PrefixNot=function(e){function t(t,r){e.call(this,t),this.expression=r}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPrefixNot(this,t)},t}(AST),MethodCall=function(e){function t(t,r,n,i){e.call(this,t),this.receiver=r,this.name=n,this.args=i}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitMethodCall(this,t)},t}(AST),SafeMethodCall=function(e){function t(t,r,n,i){e.call(this,t),this.receiver=r,this.name=n,this.args=i}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitSafeMethodCall(this,t)},t}(AST),FunctionCall=function(e){function t(t,r,n){e.call(this,t),this.target=r,this.args=n}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitFunctionCall(this,t)},t}(AST),ASTWithSource=function(e){function t(t,r,n,i){e.call(this,new ParseSpan(0,isBlank$1(r)?0:r.length)),this.ast=t,this.source=r,this.location=n,this.errors=i}return __extends$22(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),this.ast.visit(e,t)},t.prototype.toString=function(){return this.source+" in "+this.location},t}(AST),TemplateBinding=function(){function e(e,t,r,n){this.key=e,this.keyIsVar=t,this.name=r,this.expression=n}return e}(),RecursiveAstVisitor=function(){function e(){}return e.prototype.visitBinary=function(e,t){return e.left.visit(this),e.right.visit(this),null},e.prototype.visitChain=function(e,t){return this.visitAll(e.expressions,t)},e.prototype.visitConditional=function(e,t){return e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this),null},e.prototype.visitPipe=function(e,t){return e.exp.visit(this),this.visitAll(e.args,t),null},e.prototype.visitFunctionCall=function(e,t){return e.target.visit(this),this.visitAll(e.args,t),null},e.prototype.visitImplicitReceiver=function(e,t){return null},e.prototype.visitInterpolation=function(e,t){return this.visitAll(e.expressions,t)},e.prototype.visitKeyedRead=function(e,t){return e.obj.visit(this),e.key.visit(this),null},e.prototype.visitKeyedWrite=function(e,t){return e.obj.visit(this),e.key.visit(this),e.value.visit(this),null},e.prototype.visitLiteralArray=function(e,t){return this.visitAll(e.expressions,t)},e.prototype.visitLiteralMap=function(e,t){return this.visitAll(e.values,t)},e.prototype.visitLiteralPrimitive=function(e,t){return null},e.prototype.visitMethodCall=function(e,t){return e.receiver.visit(this),this.visitAll(e.args,t)},e.prototype.visitPrefixNot=function(e,t){return e.expression.visit(this),null},e.prototype.visitPropertyRead=function(e,t){return e.receiver.visit(this),null},e.prototype.visitPropertyWrite=function(e,t){return e.receiver.visit(this),e.value.visit(this),null},e.prototype.visitSafePropertyRead=function(e,t){return e.receiver.visit(this),null},e.prototype.visitSafeMethodCall=function(e,t){return e.receiver.visit(this),this.visitAll(e.args,t)},e.prototype.visitAll=function(e,t){var r=this;return e.forEach(function(e){return e.visit(r,t)}),null},e.prototype.visitQuote=function(e,t){return null},e}(),$EOF=0,$TAB=9,$LF=10,$VTAB=11,$FF=12,$CR=13,$SPACE=32,$BANG=33,$DQ=34,$HASH=35,$$=36,$PERCENT=37,$AMPERSAND=38,$SQ=39,$LPAREN=40,$RPAREN=41,$STAR=42,$PLUS=43,$COMMA=44,$MINUS=45,$PERIOD=46,$SLASH=47,$COLON=58,$SEMICOLON=59,$LT=60,$EQ=61,$GT=62,$QUESTION=63,$0=48,$9=57,$A=65,$E=69,$F=70,$X=88,$Z=90,$LBRACKET=91,$BACKSLASH=92,$RBRACKET=93,$CARET=94,$_=95,$a=97,$e=101,$f=102,$n=110,$r=114,$t=116,$u=117,$v=118,$x=120,$z=122,$LBRACE=123,$BAR=124,$RBRACE=125,$NBSP=160,$BT=96,INTERPOLATION_BLACKLIST_REGEXPS=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//],InterpolationConfig=function(){function e(e,t){this.start=e,this.end=t}return e.fromArray=function(t){return t?(assertInterpolationSymbols("interpolation",t),new e(t[0],t[1])):DEFAULT_INTERPOLATION_CONFIG},e}(),DEFAULT_INTERPOLATION_CONFIG=new InterpolationConfig("{{","}}"),TokenType;!function(e){e[e.Character=0]="Character",e[e.Identifier=1]="Identifier",e[e.Keyword=2]="Keyword",e[e.String=3]="String",e[e.Operator=4]="Operator",e[e.Number=5]="Number",e[e.Error=6]="Error"}(TokenType||(TokenType={}));var KEYWORDS=["var","let","null","undefined","true","false","if","else","this"],Lexer=function(){function e(){}return e.prototype.tokenize=function(e){for(var t=new _Scanner(e),r=[],n=t.scanToken();null!=n;)r.push(n),n=t.scanToken();return r},e.decorators=[{type:Injectable}],e.ctorParameters=[],e}(),Token=function(){function e(e,t,r,n){
this.index=e,this.type=t,this.numValue=r,this.strValue=n}return e.prototype.isCharacter=function(e){return this.type==TokenType.Character&&this.numValue==e},e.prototype.isNumber=function(){return this.type==TokenType.Number},e.prototype.isString=function(){return this.type==TokenType.String},e.prototype.isOperator=function(e){return this.type==TokenType.Operator&&this.strValue==e},e.prototype.isIdentifier=function(){return this.type==TokenType.Identifier},e.prototype.isKeyword=function(){return this.type==TokenType.Keyword},e.prototype.isKeywordLet=function(){return this.type==TokenType.Keyword&&"let"==this.strValue},e.prototype.isKeywordNull=function(){return this.type==TokenType.Keyword&&"null"==this.strValue},e.prototype.isKeywordUndefined=function(){return this.type==TokenType.Keyword&&"undefined"==this.strValue},e.prototype.isKeywordTrue=function(){return this.type==TokenType.Keyword&&"true"==this.strValue},e.prototype.isKeywordFalse=function(){return this.type==TokenType.Keyword&&"false"==this.strValue},e.prototype.isKeywordThis=function(){return this.type==TokenType.Keyword&&"this"==this.strValue},e.prototype.isError=function(){return this.type==TokenType.Error},e.prototype.toNumber=function(){return this.type==TokenType.Number?this.numValue:-1},e.prototype.toString=function(){switch(this.type){case TokenType.Character:case TokenType.Identifier:case TokenType.Keyword:case TokenType.Operator:case TokenType.String:case TokenType.Error:return this.strValue;case TokenType.Number:return this.numValue.toString();default:return null}},e}(),EOF=new Token((-1),TokenType.Character,0,""),_Scanner=function(){function e(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}return e.prototype.advance=function(){this.peek=++this.index>=this.length?$EOF:StringWrapper$1.charCodeAt(this.input,this.index)},e.prototype.scanToken=function(){for(var e=this.input,t=this.length,r=this.peek,n=this.index;r<=$SPACE;){if(++n>=t){r=$EOF;break}r=StringWrapper$1.charCodeAt(e,n)}if(this.peek=r,this.index=n,n>=t)return null;if(isIdentifierStart(r))return this.scanIdentifier();if(isDigit(r))return this.scanNumber(n);var i=n;switch(r){case $PERIOD:return this.advance(),isDigit(this.peek)?this.scanNumber(i):newCharacterToken(i,$PERIOD);case $LPAREN:case $RPAREN:case $LBRACE:case $RBRACE:case $LBRACKET:case $RBRACKET:case $COMMA:case $COLON:case $SEMICOLON:return this.scanCharacter(i,r);case $SQ:case $DQ:return this.scanString();case $HASH:case $PLUS:case $MINUS:case $STAR:case $SLASH:case $PERCENT:case $CARET:return this.scanOperator(i,StringWrapper$1.fromCharCode(r));case $QUESTION:return this.scanComplexOperator(i,"?",$PERIOD,".");case $LT:case $GT:return this.scanComplexOperator(i,StringWrapper$1.fromCharCode(r),$EQ,"=");case $BANG:case $EQ:return this.scanComplexOperator(i,StringWrapper$1.fromCharCode(r),$EQ,"=",$EQ,"=");case $AMPERSAND:return this.scanComplexOperator(i,"&",$AMPERSAND,"&");case $BAR:return this.scanComplexOperator(i,"|",$BAR,"|");case $NBSP:for(;isWhitespace(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character ["+StringWrapper$1.fromCharCode(r)+"]",0)},e.prototype.scanCharacter=function(e,t){return this.advance(),newCharacterToken(e,t)},e.prototype.scanOperator=function(e,t){return this.advance(),newOperatorToken(e,t)},e.prototype.scanComplexOperator=function(e,t,r,n,i,o){this.advance();var s=t;return this.peek==r&&(this.advance(),s+=n),isPresent$1(i)&&this.peek==i&&(this.advance(),s+=o),newOperatorToken(e,s)},e.prototype.scanIdentifier=function(){var e=this.index;for(this.advance();isIdentifierPart(this.peek);)this.advance();var t=this.input.substring(e,this.index);return KEYWORDS.indexOf(t)>-1?newKeywordToken(e,t):newIdentifierToken(e,t)},e.prototype.scanNumber=function(e){var t=this.index===e;for(this.advance();;){if(isDigit(this.peek));else if(this.peek==$PERIOD)t=!1;else{if(!isExponentStart(this.peek))break;if(this.advance(),isExponentSign(this.peek)&&this.advance(),!isDigit(this.peek))return this.error("Invalid exponent",-1);t=!1}this.advance()}var r=this.input.substring(e,this.index),n=t?NumberWrapper$1.parseIntAutoRadix(r):NumberWrapper$1.parseFloat(r);return newNumberToken(e,n)},e.prototype.scanString=function(){var e=this.index,t=this.peek;this.advance();for(var r,n=this.index,i=this.input;this.peek!=t;)if(this.peek==$BACKSLASH){null==r&&(r=new StringJoiner$1),r.add(i.substring(n,this.index)),this.advance();var o;if(this.peek==$u){var s=i.substring(this.index+1,this.index+5);try{o=NumberWrapper$1.parseInt(s,16)}catch(e){return this.error("Invalid unicode escape [\\u"+s+"]",0)}for(var a=0;a<5;a++)this.advance()}else o=unescape(this.peek),this.advance();r.add(StringWrapper$1.fromCharCode(o)),n=this.index}else{if(this.peek==$EOF)return this.error("Unterminated quote",0);this.advance()}var u=i.substring(n,this.index);this.advance();var c=u;return null!=r&&(r.add(u),c=r.toString()),newStringToken(e,c)},e.prototype.error=function(e,t){var r=this.index+t;return newErrorToken(r,"Lexer Error: "+e+" at column "+r+" in expression ["+this.input+"]")},e}(),SplitInterpolation=function(){function e(e,t){this.strings=e,this.expressions=t}return e}(),TemplateBindingParseResult=function(){function e(e,t,r){this.templateBindings=e,this.warnings=t,this.errors=r}return e}(),Parser=function(){function e(e){this._lexer=e,this.errors=[]}return e.prototype.parseAction=function(e,t,r){void 0===r&&(r=DEFAULT_INTERPOLATION_CONFIG),this._checkNoInterpolation(e,t,r);var n=this._lexer.tokenize(this._stripComments(e)),i=new _ParseAST(e,t,n,(!0),this.errors).parseChain();return new ASTWithSource(i,e,t,this.errors)},e.prototype.parseBinding=function(e,t,r){void 0===r&&(r=DEFAULT_INTERPOLATION_CONFIG);var n=this._parseBindingAst(e,t,r);return new ASTWithSource(n,e,t,this.errors)},e.prototype.parseSimpleBinding=function(e,t,r){void 0===r&&(r=DEFAULT_INTERPOLATION_CONFIG);var n=this._parseBindingAst(e,t,r);return SimpleExpressionChecker.check(n)||this._reportError("Host binding expression can only contain field access and constants",e,t),new ASTWithSource(n,e,t,this.errors)},e.prototype._reportError=function(e,t,r,n){this.errors.push(new ParserError(e,t,r,n))},e.prototype._parseBindingAst=function(e,t,r){var n=this._parseQuote(e,t);if(isPresent$1(n))return n;this._checkNoInterpolation(e,t,r);var i=this._lexer.tokenize(this._stripComments(e));return new _ParseAST(e,t,i,(!1),this.errors).parseChain()},e.prototype._parseQuote=function(e,t){if(isBlank$1(e))return null;var r=e.indexOf(":");if(r==-1)return null;var n=e.substring(0,r).trim();if(!isIdentifier(n))return null;var i=e.substring(r+1);return new Quote(new ParseSpan(0,e.length),n,i,t)},e.prototype.parseTemplateBindings=function(e,t){var r=this._lexer.tokenize(e);return new _ParseAST(e,t,r,(!1),this.errors).parseTemplateBindings()},e.prototype.parseInterpolation=function(e,t,r){void 0===r&&(r=DEFAULT_INTERPOLATION_CONFIG);var n=this.splitInterpolation(e,t,r);if(null==n)return null;for(var i=[],o=0;o<n.expressions.length;++o){var s=this._lexer.tokenize(this._stripComments(n.expressions[o])),a=new _ParseAST(e,t,s,(!1),this.errors).parseChain();i.push(a)}return new ASTWithSource(new Interpolation(new ParseSpan(0,isBlank$1(e)?0:e.length),n.strings,i),e,t,this.errors)},e.prototype.splitInterpolation=function(e,t,r){void 0===r&&(r=DEFAULT_INTERPOLATION_CONFIG);var n=_createInterpolateRegExp(r),i=StringWrapper$1.split(e,n);if(i.length<=1)return null;for(var o=[],s=[],a=0;a<i.length;a++){var u=i[a];a%2===0?o.push(u):u.trim().length>0?s.push(u):this._reportError("Blank expressions are not allowed in interpolated strings",e,"at column "+this._findInterpolationErrorColumn(i,a,r)+" in",t)}return new SplitInterpolation(o,s)},e.prototype.wrapLiteralPrimitive=function(e,t){return new ASTWithSource(new LiteralPrimitive(new ParseSpan(0,isBlank$1(e)?0:e.length),e),e,t,this.errors)},e.prototype._stripComments=function(e){var t=this._commentStart(e);return isPresent$1(t)?e.substring(0,t).trim():e},e.prototype._commentStart=function(e){for(var t=null,r=0;r<e.length-1;r++){var n=StringWrapper$1.charCodeAt(e,r),i=StringWrapper$1.charCodeAt(e,r+1);if(n===$SLASH&&i==$SLASH&&isBlank$1(t))return r;t===n?t=null:isBlank$1(t)&&isQuote(n)&&(t=n)}return null},e.prototype._checkNoInterpolation=function(e,t,r){var n=_createInterpolateRegExp(r),i=StringWrapper$1.split(e,n);i.length>1&&this._reportError("Got interpolation ("+r.start+r.end+") where expression was expected",e,"at column "+this._findInterpolationErrorColumn(i,1,r)+" in",t)},e.prototype._findInterpolationErrorColumn=function(e,t,r){for(var n="",i=0;i<t;i++)n+=i%2===0?e[i]:""+r.start+e[i]+r.end;return n.length},e.decorators=[{type:Injectable}],e.ctorParameters=[{type:Lexer}],e}(),_ParseAST=function(){function e(e,t,r,n,i){this.input=e,this.location=t,this.tokens=r,this.parseAction=n,this.errors=i,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}return e.prototype.peek=function(e){var t=this.index+e;return t<this.tokens.length?this.tokens[t]:EOF},Object.defineProperty(e.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index:this.input.length},enumerable:!0,configurable:!0}),e.prototype.span=function(e){return new ParseSpan(e,this.inputIndex)},e.prototype.advance=function(){this.index++},e.prototype.optionalCharacter=function(e){return!!this.next.isCharacter(e)&&(this.advance(),!0)},e.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},e.prototype.expectCharacter=function(e){this.optionalCharacter(e)||this.error("Missing expected "+StringWrapper$1.fromCharCode(e))},e.prototype.optionalOperator=function(e){return!!this.next.isOperator(e)&&(this.advance(),!0)},e.prototype.expectOperator=function(e){this.optionalOperator(e)||this.error("Missing expected operator "+e)},e.prototype.expectIdentifierOrKeyword=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()?(this.advance(),e.toString()):(this.error("Unexpected token "+e+", expected identifier or keyword"),"")},e.prototype.expectIdentifierOrKeywordOrString=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()?(this.advance(),e.toString()):(this.error("Unexpected token "+e+", expected identifier, keyword, or string"),"")},e.prototype.parseChain=function(){for(var e=[],t=this.inputIndex;this.index<this.tokens.length;){var r=this.parsePipe();if(e.push(r),this.optionalCharacter($SEMICOLON))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter($SEMICOLON););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==e.length?new EmptyExpr(this.span(t)):1==e.length?e[0]:new Chain(this.span(t),e)},e.prototype.parsePipe=function(){var e=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var t=this.expectIdentifierOrKeyword(),r=[];this.optionalCharacter($COLON);)r.push(this.parseExpression());e=new BindingPipe(this.span(e.span.start),e,t,r)}while(this.optionalOperator("|"))}return e},e.prototype.parseExpression=function(){return this.parseConditional()},e.prototype.parseConditional=function(){var e=this.inputIndex,t=this.parseLogicalOr();if(this.optionalOperator("?")){var r=this.parsePipe(),n=void 0;if(this.optionalCharacter($COLON))n=this.parsePipe();else{var i=this.inputIndex,o=this.input.substring(e,i);this.error("Conditional expression "+o+" requires all 3 expressions"),n=new EmptyExpr(this.span(e))}return new Conditional(this.span(e),t,r,n)}return t},e.prototype.parseLogicalOr=function(){for(var e=this.parseLogicalAnd();this.optionalOperator("||");){var t=this.parseLogicalAnd();e=new Binary(this.span(e.span.start),"||",e,t)}return e},e.prototype.parseLogicalAnd=function(){for(var e=this.parseEquality();this.optionalOperator("&&");){var t=this.parseEquality();e=new Binary(this.span(e.span.start),"&&",e,t)}return e},e.prototype.parseEquality=function(){for(var e=this.parseRelational();this.next.type==TokenType.Operator;){var t=this.next.strValue;switch(t){case"==":case"===":case"!=":case"!==":this.advance();var r=this.parseRelational();e=new Binary(this.span(e.span.start),t,e,r);continue}break}return e},e.prototype.parseRelational=function(){for(var e=this.parseAdditive();this.next.type==TokenType.Operator;){var t=this.next.strValue;switch(t){case"<":case">":case"<=":case">=":this.advance();var r=this.parseAdditive();e=new Binary(this.span(e.span.start),t,e,r);continue}break}return e},e.prototype.parseAdditive=function(){for(var e=this.parseMultiplicative();this.next.type==TokenType.Operator;){var t=this.next.strValue;switch(t){case"+":case"-":this.advance();var r=this.parseMultiplicative();e=new Binary(this.span(e.span.start),t,e,r);continue}break}return e},e.prototype.parseMultiplicative=function(){for(var e=this.parsePrefix();this.next.type==TokenType.Operator;){var t=this.next.strValue;switch(t){case"*":case"%":case"/":this.advance();var r=this.parsePrefix();e=new Binary(this.span(e.span.start),t,e,r);continue}break}return e},e.prototype.parsePrefix=function(){if(this.next.type==TokenType.Operator){var e=this.inputIndex,t=this.next.strValue,r=void 0;switch(t){case"+":return this.advance(),this.parsePrefix();case"-":return this.advance(),r=this.parsePrefix(),new Binary(this.span(e),t,new LiteralPrimitive(new ParseSpan(e,e),0),r);case"!":return this.advance(),r=this.parsePrefix(),new PrefixNot(this.span(e),r)}}return this.parseCallChain()},e.prototype.parseCallChain=function(){for(var e=this.parsePrimary();;)if(this.optionalCharacter($PERIOD))e=this.parseAccessMemberOrMethodCall(e,!1);else if(this.optionalOperator("?."))e=this.parseAccessMemberOrMethodCall(e,!0);else if(this.optionalCharacter($LBRACKET)){this.rbracketsExpected++;var t=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter($RBRACKET),this.optionalOperator("=")){var r=this.parseConditional();e=new KeyedWrite(this.span(e.span.start),e,t,r)}else e=new KeyedRead(this.span(e.span.start),e,t)}else{if(!this.optionalCharacter($LPAREN))return e;this.rparensExpected++;var n=this.parseCallArguments();this.rparensExpected--,this.expectCharacter($RPAREN),e=new FunctionCall(this.span(e.span.start),e,n)}},e.prototype.parsePrimary=function(){var e=this.inputIndex;if(this.optionalCharacter($LPAREN)){this.rparensExpected++;var t=this.parsePipe();return this.rparensExpected--,this.expectCharacter($RPAREN),t}if(this.next.isKeywordNull())return this.advance(),new LiteralPrimitive(this.span(e),null);if(this.next.isKeywordUndefined())return this.advance(),new LiteralPrimitive(this.span(e),(void 0));if(this.next.isKeywordTrue())return this.advance(),new LiteralPrimitive(this.span(e),(!0));if(this.next.isKeywordFalse())return this.advance(),new LiteralPrimitive(this.span(e),(!1));if(this.next.isKeywordThis())return this.advance(),new ImplicitReceiver(this.span(e));if(this.optionalCharacter($LBRACKET)){this.rbracketsExpected++;var r=this.parseExpressionList($RBRACKET);return this.rbracketsExpected--,this.expectCharacter($RBRACKET),new LiteralArray(this.span(e),r)}if(this.next.isCharacter($LBRACE))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new ImplicitReceiver(this.span(e)),!1);if(this.next.isNumber()){var n=this.next.toNumber();return this.advance(),new LiteralPrimitive(this.span(e),n)}if(this.next.isString()){var i=this.next.toString();return this.advance(),new LiteralPrimitive(this.span(e),i)}return this.index>=this.tokens.length?(this.error("Unexpected end of expression: "+this.input),new EmptyExpr(this.span(e))):(this.error("Unexpected token "+this.next),new EmptyExpr(this.span(e)))},e.prototype.parseExpressionList=function(e){var t=[];if(!this.next.isCharacter(e))do t.push(this.parsePipe());while(this.optionalCharacter($COMMA));return t},e.prototype.parseLiteralMap=function(){var e=[],t=[],r=this.inputIndex;if(this.expectCharacter($LBRACE),!this.optionalCharacter($RBRACE)){this.rbracesExpected++;do{var n=this.expectIdentifierOrKeywordOrString();e.push(n),this.expectCharacter($COLON),t.push(this.parsePipe())}while(this.optionalCharacter($COMMA));this.rbracesExpected--,this.expectCharacter($RBRACE)}return new LiteralMap(this.span(r),e,t)},e.prototype.parseAccessMemberOrMethodCall=function(e,t){void 0===t&&(t=!1);var r=e.span.start,n=this.expectIdentifierOrKeyword();if(this.optionalCharacter($LPAREN)){this.rparensExpected++;var i=this.parseCallArguments();this.expectCharacter($RPAREN),this.rparensExpected--;var o=this.span(r);return t?new SafeMethodCall(o,e,n,i):new MethodCall(o,e,n,i)}if(t)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new EmptyExpr(this.span(r))):new SafePropertyRead(this.span(r),e,n);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new EmptyExpr(this.span(r));var s=this.parseConditional();return new PropertyWrite(this.span(r),e,n,s)}return new PropertyRead(this.span(r),e,n)},e.prototype.parseCallArguments=function(){if(this.next.isCharacter($RPAREN))return[];var e=[];do e.push(this.parsePipe());while(this.optionalCharacter($COMMA));return e},e.prototype.expectTemplateBindingKey=function(){var e="",t=!1;do e+=this.expectIdentifierOrKeywordOrString(),t=this.optionalOperator("-"),t&&(e+="-");while(t);return e.toString()},e.prototype.parseTemplateBindings=function(){for(var e=[],t=null,r=[];this.index<this.tokens.length;){var n=this.peekKeywordLet();n&&this.advance();var i=this.expectTemplateBindingKey();n||(null==t?t=i:i=t+i[0].toUpperCase()+i.substring(1)),this.optionalCharacter($COLON);var o=null,s=null;if(n)o=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.next!==EOF&&!this.peekKeywordLet()){var a=this.inputIndex,u=this.parsePipe(),c=this.input.substring(a,this.inputIndex);s=new ASTWithSource(u,c,this.location,this.errors)}e.push(new TemplateBinding(i,n,o,s)),this.optionalCharacter($SEMICOLON)||this.optionalCharacter($COMMA)}return new TemplateBindingParseResult(e,r,this.errors)},e.prototype.error=function(e,t){void 0===t&&(t=null),this.errors.push(new ParserError(e,this.input,this.locationText(t),this.location)),this.skip()},e.prototype.locationText=function(e){return void 0===e&&(e=null),isBlank$1(e)&&(e=this.index),e<this.tokens.length?"at column "+(this.tokens[e].index+1)+" in":"at the end of the expression"},e.prototype.skip=function(){for(var e=this.next;this.index<this.tokens.length&&!e.isCharacter($SEMICOLON)&&(this.rparensExpected<=0||!e.isCharacter($RPAREN))&&(this.rbracesExpected<=0||!e.isCharacter($RBRACE))&&(this.rbracketsExpected<=0||!e.isCharacter($RBRACKET));)this.next.isError()&&this.errors.push(new ParserError(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next},e}(),SimpleExpressionChecker=function(){function e(){this.simple=!0}return e.check=function(t){var r=new e;return t.visit(r),r.simple},e.prototype.visitImplicitReceiver=function(e,t){},e.prototype.visitInterpolation=function(e,t){this.simple=!1},e.prototype.visitLiteralPrimitive=function(e,t){},e.prototype.visitPropertyRead=function(e,t){},e.prototype.visitPropertyWrite=function(e,t){this.simple=!1},e.prototype.visitSafePropertyRead=function(e,t){this.simple=!1},e.prototype.visitMethodCall=function(e,t){this.simple=!1},e.prototype.visitSafeMethodCall=function(e,t){this.simple=!1},e.prototype.visitFunctionCall=function(e,t){this.simple=!1},e.prototype.visitLiteralArray=function(e,t){this.visitAll(e.expressions)},e.prototype.visitLiteralMap=function(e,t){this.visitAll(e.values)},e.prototype.visitBinary=function(e,t){this.simple=!1},e.prototype.visitPrefixNot=function(e,t){this.simple=!1},e.prototype.visitConditional=function(e,t){this.simple=!1},e.prototype.visitPipe=function(e,t){this.simple=!1},e.prototype.visitKeyedRead=function(e,t){this.simple=!1},e.prototype.visitKeyedWrite=function(e,t){this.simple=!1},e.prototype.visitAll=function(e){var t=this;return e.map(function(e){return e.visit(t)})},e.prototype.visitChain=function(e,t){this.simple=!1},e.prototype.visitQuote=function(e,t){this.simple=!1},e}(),ParseLocation=function(){function e(e,t,r,n){this.file=e,this.offset=t,this.line=r,this.col=n}return e.prototype.toString=function(){return isPresent$1(this.offset)?this.file.url+"@"+this.line+":"+this.col:this.file.url},e}(),ParseSourceFile=function(){function e(e,t){this.content=e,this.url=t}return e}(),ParseSourceSpan=function(){function e(e,t,r){void 0===r&&(r=null),this.start=e,this.end=t,this.details=r}return e.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},e}(),ParseErrorLevel;!function(e){e[e.WARNING=0]="WARNING",e[e.FATAL=1]="FATAL"}(ParseErrorLevel||(ParseErrorLevel={}));var ParseError=function(){function e(e,t,r){void 0===r&&(r=ParseErrorLevel.FATAL),this.span=e,this.msg=t,this.level=r}return e.prototype.toString=function(){var e=this.span.start.file.content,t=this.span.start.offset,r="",n="";if(isPresent$1(t)){t>e.length-1&&(t=e.length-1);for(var i=t,o=0,s=0;o<100&&t>0&&(t--,o++,"\n"!=e[t]||3!=++s););for(o=0,s=0;o<100&&i<e.length-1&&(i++,o++,"\n"!=e[i]||3!=++s););var a=e.substring(t,this.span.start.offset)+"[ERROR ->]"+e.substring(this.span.start.offset,i+1);r=' ("'+a+'")'}return this.span.details&&(n=", "+this.span.details),""+this.msg+r+": "+this.span.start+n},e}(),Text=function(){function e(e,t){this.value=e,this.sourceSpan=t}return e.prototype.visit=function(e,t){return e.visitText(this,t)},e}(),Expansion=function(){function e(e,t,r,n,i){this.switchValue=e,this.type=t,this.cases=r,this.sourceSpan=n,this.switchValueSourceSpan=i}return e.prototype.visit=function(e,t){return e.visitExpansion(this,t)},e}(),ExpansionCase=function(){function e(e,t,r,n,i){this.value=e,this.expression=t,this.sourceSpan=r,this.valueSourceSpan=n,this.expSourceSpan=i}return e.prototype.visit=function(e,t){return e.visitExpansionCase(this,t)},e}(),Attribute$1=function(){function e(e,t,r){this.name=e,this.value=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitAttribute(this,t)},e}(),Element$1=function(){function e(e,t,r,n,i,o){this.name=e,this.attrs=t,this.children=r,this.sourceSpan=n,this.startSourceSpan=i,this.endSourceSpan=o}return e.prototype.visit=function(e,t){return e.visitElement(this,t)},e}(),Comment=function(){function e(e,t){this.value=e,this.sourceSpan=t}return e.prototype.visit=function(e,t){return e.visitComment(this,t)},e}(),TagContentType;!function(e){e[e.RAW_TEXT=0]="RAW_TEXT",e[e.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",e[e.PARSABLE_DATA=2]="PARSABLE_DATA"}(TagContentType||(TagContentType={}));var NAMED_ENTITIES={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",alefsym:"",Alpha:"",alpha:"",amp:"&",and:"",ang:"",apos:"'",Aring:"",aring:"",asymp:"",Atilde:"",atilde:"",Auml:"",auml:"",bdquo:"",Beta:"",beta:"",brvbar:"",bull:"",cap:"",Ccedil:"",ccedil:"",cedil:"",cent:"",Chi:"",chi:"",circ:"",clubs:"",cong:"",copy:"",crarr:"",cup:"",curren:"",dagger:"",Dagger:"",darr:"",dArr:"",deg:"",Delta:"",delta:"",diams:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",empty:"",emsp:"",ensp:"",Epsilon:"",epsilon:"",equiv:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",exist:"",fnof:"",forall:"",frac12:"",frac14:"",frac34:"",frasl:"",Gamma:"",gamma:"",ge:"",gt:">",harr:"",hArr:"",hearts:"",hellip:"",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",image:"",infin:"",int:"",Iota:"",iota:"",iquest:"",isin:"",Iuml:"",iuml:"",Kappa:"",kappa:"",Lambda:"",lambda:"",lang:"",laquo:"",larr:"",lArr:"",lceil:"",ldquo:"",le:"",lfloor:"",lowast:"",loz:"",lrm:"",lsaquo:"",lsquo:"",lt:"<",macr:"",mdash:"",micro:"",middot:"",minus:"",Mu:"",mu:"",nabla:"",nbsp:"",ndash:"",ne:"",ni:"",not:"",notin:"",nsub:"",Ntilde:"",ntilde:"",Nu:"",nu:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",OElig:"",oelig:"",Ograve:"",ograve:"",oline:"",Omega:"",omega:"",Omicron:"",omicron:"",oplus:"",or:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",otimes:"",Ouml:"",ouml:"",para:"",permil:"",perp:"",Phi:"",phi:"",Pi:"",pi:"",piv:"",plusmn:"",pound:"",prime:"",Prime:"",prod:"",prop:"",Psi:"",psi:"",quot:'"',radic:"",rang:"",raquo:"",rarr:"",rArr:"",rceil:"",rdquo:"",real:"",reg:"",rfloor:"",Rho:"",rho:"",rlm:"",rsaquo:"",rsquo:"",sbquo:"",Scaron:"",scaron:"",sdot:"",sect:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sim:"",spades:"",sub:"",sube:"",sum:"",sup:"",sup1:"",sup2:"",sup3:"",supe:"",szlig:"",Tau:"",tau:"",there4:"",Theta:"",theta:"",thetasym:"",thinsp:"",THORN:"",thorn:"",tilde:"",times:"",trade:"",Uacute:"",uacute:"",uarr:"",uArr:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",upsih:"",Upsilon:"",upsilon:"",Uuml:"",uuml:"",weierp:"",Xi:"",xi:"",Yacute:"",yacute:"",yen:"",yuml:"",Yuml:"",Zeta:"",zeta:"",zwj:"",zwnj:""},__extends$24=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},TokenType$1;!function(e){e[e.TAG_OPEN_START=0]="TAG_OPEN_START",e[e.TAG_OPEN_END=1]="TAG_OPEN_END",e[e.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",e[e.TAG_CLOSE=3]="TAG_CLOSE",e[e.TEXT=4]="TEXT",e[e.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",e[e.RAW_TEXT=6]="RAW_TEXT",e[e.COMMENT_START=7]="COMMENT_START",e[e.COMMENT_END=8]="COMMENT_END",e[e.CDATA_START=9]="CDATA_START",e[e.CDATA_END=10]="CDATA_END",e[e.ATTR_NAME=11]="ATTR_NAME",e[e.ATTR_VALUE=12]="ATTR_VALUE",e[e.DOC_TYPE=13]="DOC_TYPE",e[e.EXPANSION_FORM_START=14]="EXPANSION_FORM_START",e[e.EXPANSION_CASE_VALUE=15]="EXPANSION_CASE_VALUE",e[e.EXPANSION_CASE_EXP_START=16]="EXPANSION_CASE_EXP_START",e[e.EXPANSION_CASE_EXP_END=17]="EXPANSION_CASE_EXP_END",e[e.EXPANSION_FORM_END=18]="EXPANSION_FORM_END",e[e.EOF=19]="EOF"}(TokenType$1||(TokenType$1={}));var Token$1=function(){function e(e,t,r){this.type=e,this.parts=t,this.sourceSpan=r}return e}(),TokenError=function(e){function t(t,r,n){e.call(this,n,t),this.tokenType=r}return __extends$24(t,e),t}(ParseError),TokenizeResult=function(){function e(e,t){this.tokens=e,this.errors=t}return e}(),_CR_OR_CRLF_REGEXP=/\r\n?/g,_ControlFlowError=function(){function e(e){this.error=e}return e}(),_Tokenizer=function(){function e(e,t,r,n){void 0===n&&(n=DEFAULT_INTERPOLATION_CONFIG),this._file=e,this._getTagDefinition=t,this._tokenizeIcu=r,this._interpolationConfig=n,this._peek=-1,this._nextPeek=-1,this._index=-1,this._line=0,this._column=-1,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._input=e.content,this._length=e.content.length,this._advance()}return e.prototype._processCarriageReturns=function(e){return e.replace(_CR_OR_CRLF_REGEXP,"\n")},e.prototype.tokenize=function(){for(;this._peek!==$EOF;){var e=this._getLocation();try{this._attemptCharCode($LT)?this._attemptCharCode($BANG)?this._attemptCharCode($LBRACKET)?this._consumeCdata(e):this._attemptCharCode($MINUS)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode($SLASH)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(e){if(!(e instanceof _ControlFlowError))throw e;this.errors.push(e.error)}}return this._beginToken(TokenType$1.EOF),this._endToken([]),new TokenizeResult(mergeTextTokens(this.tokens),this.errors)},e.prototype._tokenizeExpansionForm=function(){if(isExpansionFormStart(this._input,this._index,this._interpolationConfig))return this._consumeExpansionFormStart(),!0;if(isExpansionCaseStart(this._peek)&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._peek===$RBRACE){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1},e.prototype._getLocation=function(){return new ParseLocation(this._file,this._index,this._line,this._column)},e.prototype._getSpan=function(e,t){return void 0===e&&(e=this._getLocation()),void 0===t&&(t=this._getLocation()),new ParseSourceSpan(e,t)},e.prototype._beginToken=function(e,t){void 0===t&&(t=this._getLocation()),this._currentTokenStart=t,this._currentTokenType=e},e.prototype._endToken=function(e,t){void 0===t&&(t=this._getLocation());var r=new Token$1(this._currentTokenType,e,new ParseSourceSpan(this._currentTokenStart,t));return this.tokens.push(r),this._currentTokenStart=null,this._currentTokenType=null,r},e.prototype._createError=function(e,t){this._isInExpansionForm()&&(e+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');var r=new TokenError(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new _ControlFlowError(r)},e.prototype._advance=function(){if(this._index>=this._length)throw this._createError(_unexpectedCharacterErrorMsg($EOF),this._getSpan());this._peek===$LF?(this._line++,this._column=0):this._peek!==$LF&&this._peek!==$CR&&this._column++,this._index++,this._peek=this._index>=this._length?$EOF:this._input.charCodeAt(this._index),this._nextPeek=this._index+1>=this._length?$EOF:this._input.charCodeAt(this._index+1)},e.prototype._attemptCharCode=function(e){return this._peek===e&&(this._advance(),!0)},e.prototype._attemptCharCodeCaseInsensitive=function(e){return!!compareCharCodeCaseInsensitive(this._peek,e)&&(this._advance(),!0)},e.prototype._requireCharCode=function(e){var t=this._getLocation();if(!this._attemptCharCode(e))throw this._createError(_unexpectedCharacterErrorMsg(this._peek),this._getSpan(t,t))},e.prototype._attemptStr=function(e){var t=e.length;if(this._index+t>this._length)return!1;for(var r=this._savePosition(),n=0;n<t;n++)if(!this._attemptCharCode(e.charCodeAt(n)))return this._restorePosition(r),!1;return!0},e.prototype._attemptStrCaseInsensitive=function(e){for(var t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0},e.prototype._requireStr=function(e){var t=this._getLocation();if(!this._attemptStr(e))throw this._createError(_unexpectedCharacterErrorMsg(this._peek),this._getSpan(t))},e.prototype._attemptCharCodeUntilFn=function(e){for(;!e(this._peek);)this._advance()},e.prototype._requireCharCodeUntilFn=function(e,t){var r=this._getLocation();if(this._attemptCharCodeUntilFn(e),this._index-r.offset<t)throw this._createError(_unexpectedCharacterErrorMsg(this._peek),this._getSpan(r,r))},e.prototype._attemptUntilChar=function(e){for(;this._peek!==e;)this._advance()},e.prototype._readChar=function(e){if(e&&this._peek===$AMPERSAND)return this._decodeEntity();var t=this._index;return this._advance(),this._input[t]},e.prototype._decodeEntity=function(){var e=this._getLocation();if(this._advance(),!this._attemptCharCode($HASH)){var t=this._savePosition();if(this._attemptCharCodeUntilFn(isNamedEntityEnd),this._peek!=$SEMICOLON)return this._restorePosition(t),"&";this._advance();var r=this._input.substring(e.offset+1,this._index-1),n=NAMED_ENTITIES[r];if(!n)throw this._createError(_unknownEntityErrorMsg(r),this._getSpan(e));return n}var i=this._attemptCharCode($x)||this._attemptCharCode($X),o=this._getLocation().offset;if(this._attemptCharCodeUntilFn(isDigitEntityEnd),this._peek!=$SEMICOLON)throw this._createError(_unexpectedCharacterErrorMsg(this._peek),this._getSpan());this._advance();var s=this._input.substring(o,this._index-1);try{var a=parseInt(s,i?16:10);return String.fromCharCode(a)}catch(t){var u=this._input.substring(e.offset+1,this._index-1);throw this._createError(_unknownEntityErrorMsg(u),this._getSpan(e));
}},e.prototype._consumeRawText=function(e,t,r){var n,i=this._getLocation();this._beginToken(e?TokenType$1.ESCAPABLE_RAW_TEXT:TokenType$1.RAW_TEXT,i);for(var o=[];;){if(n=this._getLocation(),this._attemptCharCode(t)&&r())break;for(this._index>n.offset&&o.push(this._input.substring(n.offset,this._index));this._peek!==t;)o.push(this._readChar(e))}return this._endToken([this._processCarriageReturns(o.join(""))],n)},e.prototype._consumeComment=function(e){var t=this;this._beginToken(TokenType$1.COMMENT_START,e),this._requireCharCode($MINUS),this._endToken([]);var r=this._consumeRawText(!1,$MINUS,function(){return t._attemptStr("->")});this._beginToken(TokenType$1.COMMENT_END,r.sourceSpan.end),this._endToken([])},e.prototype._consumeCdata=function(e){var t=this;this._beginToken(TokenType$1.CDATA_START,e),this._requireStr("CDATA["),this._endToken([]);var r=this._consumeRawText(!1,$RBRACKET,function(){return t._attemptStr("]>")});this._beginToken(TokenType$1.CDATA_END,r.sourceSpan.end),this._endToken([])},e.prototype._consumeDocType=function(e){this._beginToken(TokenType$1.DOC_TYPE,e),this._attemptUntilChar($GT),this._advance(),this._endToken([this._input.substring(e.offset+2,this._index-1)])},e.prototype._consumePrefixAndName=function(){for(var e=this._index,t=null;this._peek!==$COLON&&!isPrefixEnd(this._peek);)this._advance();var r;this._peek===$COLON?(this._advance(),t=this._input.substring(e,this._index-1),r=this._index):r=e,this._requireCharCodeUntilFn(isNameEnd,this._index===r?1:0);var n=this._input.substring(r,this._index);return[t,n]},e.prototype._consumeTagOpen=function(e){var t,r,n=this._savePosition();try{if(!isAsciiLetter(this._peek))throw this._createError(_unexpectedCharacterErrorMsg(this._peek),this._getSpan());var i=this._index;for(this._consumeTagOpenStart(e),t=this._input.substring(i,this._index),r=t.toLowerCase(),this._attemptCharCodeUntilFn(isNotWhitespace);this._peek!==$SLASH&&this._peek!==$GT;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._attemptCharCode($EQ)&&(this._attemptCharCodeUntilFn(isNotWhitespace),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(isNotWhitespace);this._consumeTagOpenEnd()}catch(t){if(t instanceof _ControlFlowError)return this._restorePosition(n),this._beginToken(TokenType$1.TEXT,e),void this._endToken(["<"]);throw t}var o=this._getTagDefinition(t).contentType;o===TagContentType.RAW_TEXT?this._consumeRawTextWithTagClose(r,!1):o===TagContentType.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(r,!0)},e.prototype._consumeRawTextWithTagClose=function(e,t){var r=this,n=this._consumeRawText(t,$LT,function(){return!!r._attemptCharCode($SLASH)&&(r._attemptCharCodeUntilFn(isNotWhitespace),!!r._attemptStrCaseInsensitive(e)&&(r._attemptCharCodeUntilFn(isNotWhitespace),r._attemptCharCode($GT)))});this._beginToken(TokenType$1.TAG_CLOSE,n.sourceSpan.end),this._endToken([null,e])},e.prototype._consumeTagOpenStart=function(e){this._beginToken(TokenType$1.TAG_OPEN_START,e);var t=this._consumePrefixAndName();this._endToken(t)},e.prototype._consumeAttributeName=function(){this._beginToken(TokenType$1.ATTR_NAME);var e=this._consumePrefixAndName();this._endToken(e)},e.prototype._consumeAttributeValue=function(){this._beginToken(TokenType$1.ATTR_VALUE);var e;if(this._peek===$SQ||this._peek===$DQ){var t=this._peek;this._advance();for(var r=[];this._peek!==t;)r.push(this._readChar(!0));e=r.join(""),this._advance()}else{var n=this._index;this._requireCharCodeUntilFn(isNameEnd,1),e=this._input.substring(n,this._index)}this._endToken([this._processCarriageReturns(e)])},e.prototype._consumeTagOpenEnd=function(){var e=this._attemptCharCode($SLASH)?TokenType$1.TAG_OPEN_END_VOID:TokenType$1.TAG_OPEN_END;this._beginToken(e),this._requireCharCode($GT),this._endToken([])},e.prototype._consumeTagClose=function(e){this._beginToken(TokenType$1.TAG_CLOSE,e),this._attemptCharCodeUntilFn(isNotWhitespace);var t=this._consumePrefixAndName();this._attemptCharCodeUntilFn(isNotWhitespace),this._requireCharCode($GT),this._endToken(t)},e.prototype._consumeExpansionFormStart=function(){this._beginToken(TokenType$1.EXPANSION_FORM_START,this._getLocation()),this._requireCharCode($LBRACE),this._endToken([]),this._expansionCaseStack.push(TokenType$1.EXPANSION_FORM_START),this._beginToken(TokenType$1.RAW_TEXT,this._getLocation());var e=this._readUntil($COMMA);this._endToken([e],this._getLocation()),this._requireCharCode($COMMA),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(TokenType$1.RAW_TEXT,this._getLocation());var t=this._readUntil($COMMA);this._endToken([t],this._getLocation()),this._requireCharCode($COMMA),this._attemptCharCodeUntilFn(isNotWhitespace)},e.prototype._consumeExpansionCaseStart=function(){this._beginToken(TokenType$1.EXPANSION_CASE_VALUE,this._getLocation());var e=this._readUntil($LBRACE).trim();this._endToken([e],this._getLocation()),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(TokenType$1.EXPANSION_CASE_EXP_START,this._getLocation()),this._requireCharCode($LBRACE),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.push(TokenType$1.EXPANSION_CASE_EXP_START)},e.prototype._consumeExpansionCaseEnd=function(){this._beginToken(TokenType$1.EXPANSION_CASE_EXP_END,this._getLocation()),this._requireCharCode($RBRACE),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.pop()},e.prototype._consumeExpansionFormEnd=function(){this._beginToken(TokenType$1.EXPANSION_FORM_END,this._getLocation()),this._requireCharCode($RBRACE),this._endToken([]),this._expansionCaseStack.pop()},e.prototype._consumeText=function(){var e=this._getLocation();this._beginToken(TokenType$1.TEXT,e);var t=[];do this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(t.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._attemptStr(this._interpolationConfig.end)&&this._inInterpolation?(t.push(this._interpolationConfig.end),this._inInterpolation=!1):t.push(this._readChar(!0));while(!this._isTextEnd());this._endToken([this._processCarriageReturns(t.join(""))])},e.prototype._isTextEnd=function(){if(this._peek===$LT||this._peek===$EOF)return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(isExpansionFormStart(this._input,this._index,this._interpolationConfig))return!0;if(this._peek===$RBRACE&&this._isInExpansionCase())return!0}return!1},e.prototype._savePosition=function(){return[this._peek,this._index,this._column,this._line,this.tokens.length]},e.prototype._readUntil=function(e){var t=this._index;return this._attemptUntilChar(e),this._input.substring(t,this._index)},e.prototype._restorePosition=function(e){this._peek=e[0],this._index=e[1],this._column=e[2],this._line=e[3];var t=e[4];t<this.tokens.length&&(this.tokens=this.tokens.slice(0,t))},e.prototype._isInExpansionCase=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===TokenType$1.EXPANSION_CASE_EXP_START},e.prototype._isInExpansionForm=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===TokenType$1.EXPANSION_FORM_START},e}(),__extends$23=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},TreeError=function(e){function t(t,r,n){e.call(this,r,n),this.elementName=t}return __extends$23(t,e),t.create=function(e,r,n){return new t(e,r,n)},t}(ParseError),ParseTreeResult=function(){function e(e,t){this.rootNodes=e,this.errors=t}return e}(),Parser$1=function(){function e(e){this.getTagDefinition=e}return e.prototype.parse=function(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n=DEFAULT_INTERPOLATION_CONFIG);var i=tokenize(e,t,this.getTagDefinition,r,n),o=new _TreeBuilder(i.tokens,this.getTagDefinition).build();return new ParseTreeResult(o.rootNodes,i.errors.concat(o.errors))},e}(),_TreeBuilder=function(){function e(e,t){this.tokens=e,this.getTagDefinition=t,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}return e.prototype.build=function(){for(;this._peek.type!==TokenType$1.EOF;)this._peek.type===TokenType$1.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===TokenType$1.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===TokenType$1.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===TokenType$1.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===TokenType$1.TEXT||this._peek.type===TokenType$1.RAW_TEXT||this._peek.type===TokenType$1.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===TokenType$1.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new ParseTreeResult(this._rootNodes,this._errors)},e.prototype._advance=function(){var e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e},e.prototype._advanceIf=function(e){return this._peek.type===e?this._advance():null},e.prototype._consumeCdata=function(e){this._consumeText(this._advance()),this._advanceIf(TokenType$1.CDATA_END)},e.prototype._consumeComment=function(e){var t=this._advanceIf(TokenType$1.RAW_TEXT);this._advanceIf(TokenType$1.COMMENT_END);var r=isPresent$1(t)?t.parts[0].trim():null;this._addToParent(new Comment(r,e.sourceSpan))},e.prototype._consumeExpansion=function(e){for(var t=this._advance(),r=this._advance(),n=[];this._peek.type===TokenType$1.EXPANSION_CASE_VALUE;){var i=this._parseExpansionCase();if(isBlank$1(i))return;n.push(i)}if(this._peek.type!==TokenType$1.EXPANSION_FORM_END)return void this._errors.push(TreeError.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));var o=new ParseSourceSpan(e.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new Expansion(t.parts[0],r.parts[0],n,o,t.sourceSpan)),this._advance()},e.prototype._parseExpansionCase=function(){var t=this._advance();if(this._peek.type!==TokenType$1.EXPANSION_CASE_EXP_START)return this._errors.push(TreeError.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;var r=this._advance(),n=this._collectExpansionExpTokens(r);if(isBlank$1(n))return null;var i=this._advance();n.push(new Token$1(TokenType$1.EOF,[],i.sourceSpan));var o=new e(n,this.getTagDefinition).build();if(o.errors.length>0)return this._errors=this._errors.concat(o.errors),null;var s=new ParseSourceSpan(t.sourceSpan.start,i.sourceSpan.end),a=new ParseSourceSpan(r.sourceSpan.start,i.sourceSpan.end);return new ExpansionCase(t.parts[0],o.rootNodes,s,t.sourceSpan,a)},e.prototype._collectExpansionExpTokens=function(e){for(var t=[],r=[TokenType$1.EXPANSION_CASE_EXP_START];;){if(this._peek.type!==TokenType$1.EXPANSION_FORM_START&&this._peek.type!==TokenType$1.EXPANSION_CASE_EXP_START||r.push(this._peek.type),this._peek.type===TokenType$1.EXPANSION_CASE_EXP_END){if(!lastOnStack(r,TokenType$1.EXPANSION_CASE_EXP_START))return this._errors.push(TreeError.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(r.pop(),0==r.length)return t}if(this._peek.type===TokenType$1.EXPANSION_FORM_END){if(!lastOnStack(r,TokenType$1.EXPANSION_FORM_START))return this._errors.push(TreeError.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;r.pop()}if(this._peek.type===TokenType$1.EOF)return this._errors.push(TreeError.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}},e.prototype._consumeText=function(e){var t=e.parts[0];if(t.length>0&&"\n"==t[0]){var r=this._getParentElement();isPresent$1(r)&&0==r.children.length&&this.getTagDefinition(r.name).ignoreFirstLf&&(t=t.substring(1))}t.length>0&&this._addToParent(new Text(t,e.sourceSpan))},e.prototype._closeVoidElement=function(){if(this._elementStack.length>0){var e=ListWrapper$1.last(this._elementStack);this.getTagDefinition(e.name).isVoid&&this._elementStack.pop()}},e.prototype._consumeStartTag=function(e){for(var t=e.parts[0],r=e.parts[1],n=[];this._peek.type===TokenType$1.ATTR_NAME;)n.push(this._consumeAttr(this._advance()));var i=this._getElementFullName(t,r,this._getParentElement()),o=!1;if(this._peek.type===TokenType$1.TAG_OPEN_END_VOID){this._advance(),o=!0;var s=this.getTagDefinition(i);s.canSelfClose||null!==getNsPrefix(i)||s.isVoid||this._errors.push(TreeError.create(i,e.sourceSpan,'Only void and foreign elements can be self closed "'+e.parts[1]+'"'))}else this._peek.type===TokenType$1.TAG_OPEN_END&&(this._advance(),o=!1);var a=this._peek.sourceSpan.start,u=new ParseSourceSpan(e.sourceSpan.start,a),c=new Element$1(i,n,[],u,u,null);this._pushElement(c),o&&(this._popElement(i),c.endSourceSpan=u)},e.prototype._pushElement=function(e){if(this._elementStack.length>0){var t=ListWrapper$1.last(this._elementStack);this.getTagDefinition(t.name).isClosedByChild(e.name)&&this._elementStack.pop()}var r=this.getTagDefinition(e.name),n=this._getParentElementSkippingContainers(),i=n.parent,o=n.container;if(isPresent$1(i)&&r.requireExtraParent(i.name)){var s=new Element$1(r.parentToAdd,[],[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan);this._insertBeforeContainer(i,o,s)}this._addToParent(e),this._elementStack.push(e)},e.prototype._consumeEndTag=function(e){var t=this._getElementFullName(e.parts[0],e.parts[1],this._getParentElement());this._getParentElement()&&(this._getParentElement().endSourceSpan=e.sourceSpan),this.getTagDefinition(t).isVoid?this._errors.push(TreeError.create(t,e.sourceSpan,'Void elements do not have end tags "'+e.parts[1]+'"')):this._popElement(t)||this._errors.push(TreeError.create(t,e.sourceSpan,'Unexpected closing tag "'+e.parts[1]+'"'))},e.prototype._popElement=function(e){for(var t=this._elementStack.length-1;t>=0;t--){var r=this._elementStack[t];if(r.name==e)return ListWrapper$1.splice(this._elementStack,t,this._elementStack.length-t),!0;if(!this.getTagDefinition(r.name).closedByParent)return!1}return!1},e.prototype._consumeAttr=function(e){var t=mergeNsAndName(e.parts[0],e.parts[1]),r=e.sourceSpan.end,n="";if(this._peek.type===TokenType$1.ATTR_VALUE){var i=this._advance();n=i.parts[0],r=i.sourceSpan.end}return new Attribute$1(t,n,new ParseSourceSpan(e.sourceSpan.start,r))},e.prototype._getParentElement=function(){return this._elementStack.length>0?ListWrapper$1.last(this._elementStack):null},e.prototype._getParentElementSkippingContainers=function(){for(var e=null,t=this._elementStack.length-1;t>=0;t--){if("ng-container"!==this._elementStack[t].name)return{parent:this._elementStack[t],container:e};e=this._elementStack[t]}return{parent:ListWrapper$1.last(this._elementStack),container:e}},e.prototype._addToParent=function(e){var t=this._getParentElement();isPresent$1(t)?t.children.push(e):this._rootNodes.push(e)},e.prototype._insertBeforeContainer=function(e,t,r){if(t){if(e){var n=e.children.indexOf(t);e.children[n]=r}else this._rootNodes.push(r);r.children.push(t),this._elementStack.splice(this._elementStack.indexOf(t),0,r)}else this._addToParent(r),this._elementStack.push(r)},e.prototype._getElementFullName=function(e,t,r){return isBlank$1(e)&&(e=this.getTagDefinition(t).implicitNamespacePrefix,isBlank$1(e)&&isPresent$1(r)&&(e=getNsPrefix(r.name))),mergeNsAndName(e,t)},e}(),_SerializerVisitor=function(){function e(){}return e.prototype.visitText=function(e,t){return e.value},e.prototype.visitContainer=function(e,t){var r=this;return"["+e.children.map(function(e){return e.visit(r)}).join(", ")+"]"},e.prototype.visitIcu=function(e,t){var r=this,n=Object.keys(e.cases).map(function(t){return t+" {"+e.cases[t].visit(r)+"}"});return"{"+e.expression+", "+e.type+", "+n.join(", ")+"}"},e.prototype.visitTagPlaceholder=function(e,t){var r=this;return e.isVoid?'<ph tag name="'+e.startName+'"/>':'<ph tag name="'+e.startName+'">'+e.children.map(function(e){return e.visit(r)}).join(", ")+'</ph name="'+e.closeName+'">'},e.prototype.visitPlaceholder=function(e,t){return'<ph name="'+e.name+'">'+e.value+"</ph>"},e.prototype.visitIcuPlaceholder=function(e,t){return'<ph icu name="'+e.name+'">'+e.value.visit(this)+"</ph>"},e}(),serializerVisitor=new _SerializerVisitor,Message=function(){function e(e,t,r,n,i){this.nodes=e,this.placeholders=t,this.placeholderToMsgIds=r,this.meaning=n,this.description=i}return e}(),Text$1=function(){function e(e,t){this.value=e,this.sourceSpan=t}return e.prototype.visit=function(e,t){return e.visitText(this,t)},e}(),Container=function(){function e(e,t){this.children=e,this.sourceSpan=t}return e.prototype.visit=function(e,t){return e.visitContainer(this,t)},e}(),Icu=function(){function e(e,t,r,n){this.expression=e,this.type=t,this.cases=r,this.sourceSpan=n}return e.prototype.visit=function(e,t){return e.visitIcu(this,t)},e}(),TagPlaceholder=function(){function e(e,t,r,n,i,o,s){this.tag=e,this.attrs=t,this.startName=r,this.closeName=n,this.children=i,this.isVoid=o,this.sourceSpan=s}return e.prototype.visit=function(e,t){return e.visitTagPlaceholder(this,t)},e}(),Placeholder=function(){function e(e,t,r){void 0===t&&(t=""),this.value=e,this.name=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitPlaceholder(this,t)},e}(),IcuPlaceholder=function(){function e(e,t,r){void 0===t&&(t=""),this.value=e,this.name=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitIcuPlaceholder(this,t)},e}(),HtmlTagDefinition=function(){function e(e){var t=this,r=void 0===e?{}:e,n=r.closedByChildren,i=r.requiredParents,o=r.implicitNamespacePrefix,s=r.contentType,a=void 0===s?TagContentType.PARSABLE_DATA:s,u=r.closedByParent,c=void 0!==u&&u,l=r.isVoid,p=void 0!==l&&l,h=r.ignoreFirstLf,f=void 0!==h&&h;this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,n&&n.length>0&&n.forEach(function(e){return t.closedByChildren[e]=!0}),this.isVoid=p,this.closedByParent=c||p,i&&i.length>0&&(this.requiredParents={},this.parentToAdd=i[0],i.forEach(function(e){return t.requiredParents[e]=!0})),this.implicitNamespacePrefix=o,this.contentType=a,this.ignoreFirstLf=f}return e.prototype.requireExtraParent=function(e){if(!this.requiredParents)return!1;if(!e)return!0;var t=e.toLowerCase();return 1!=this.requiredParents[t]&&"template"!=t},e.prototype.isClosedByChild=function(e){return this.isVoid||e.toLowerCase()in this.closedByChildren},e}(),TAG_DEFINITIONS={base:new HtmlTagDefinition({isVoid:!0}),meta:new HtmlTagDefinition({isVoid:!0}),area:new HtmlTagDefinition({isVoid:!0}),embed:new HtmlTagDefinition({isVoid:!0}),link:new HtmlTagDefinition({isVoid:!0}),img:new HtmlTagDefinition({isVoid:!0}),input:new HtmlTagDefinition({isVoid:!0}),param:new HtmlTagDefinition({isVoid:!0}),hr:new HtmlTagDefinition({isVoid:!0}),br:new HtmlTagDefinition({isVoid:!0}),source:new HtmlTagDefinition({isVoid:!0}),track:new HtmlTagDefinition({isVoid:!0}),wbr:new HtmlTagDefinition({isVoid:!0}),p:new HtmlTagDefinition({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"]}),tbody:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new HtmlTagDefinition({closedByChildren:["tbody"],closedByParent:!0}),tr:new HtmlTagDefinition({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),th:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),col:new HtmlTagDefinition({requiredParents:["colgroup"],isVoid:!0}),svg:new HtmlTagDefinition({implicitNamespacePrefix:"svg"}),math:new HtmlTagDefinition({implicitNamespacePrefix:"math"}),li:new HtmlTagDefinition({closedByChildren:["li"],closedByParent:!0}),dt:new HtmlTagDefinition({closedByChildren:["dt","dd"]}),dd:new HtmlTagDefinition({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new HtmlTagDefinition({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new HtmlTagDefinition({closedByChildren:["optgroup"],closedByParent:!0}),option:new HtmlTagDefinition({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new HtmlTagDefinition({ignoreFirstLf:!0}),listing:new HtmlTagDefinition({ignoreFirstLf:!0}),style:new HtmlTagDefinition({contentType:TagContentType.RAW_TEXT}),script:new HtmlTagDefinition({contentType:TagContentType.RAW_TEXT}),title:new HtmlTagDefinition({contentType:TagContentType.ESCAPABLE_RAW_TEXT}),textarea:new HtmlTagDefinition({contentType:TagContentType.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})},_DEFAULT_TAG_DEFINITION=new HtmlTagDefinition,TAG_TO_PLACEHOLDER_NAMES={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},PlaceholderRegistry=function(){function e(){this._placeHolderNameCounts={},this._signatureToName={}}return e.prototype.getStartTagPlaceholderName=function(e,t,r){var n=this._hashTag(e,t,r);if(this._signatureToName[n])return this._signatureToName[n];var i=e.toUpperCase(),o=TAG_TO_PLACEHOLDER_NAMES[i]||"TAG_"+i,s=this._generateUniqueName(r?o:"START_"+o);return this._signatureToName[n]=s,s},e.prototype.getCloseTagPlaceholderName=function(e){var t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];var r=e.toUpperCase(),n=TAG_TO_PLACEHOLDER_NAMES[r]||"TAG_"+r,i=this._generateUniqueName("CLOSE_"+n);return this._signatureToName[t]=i,i},e.prototype.getPlaceholderName=function(e,t){var r=e.toUpperCase(),n="PH: "+r+"="+t;if(this._signatureToName[n])return this._signatureToName[n];var i=this._generateUniqueName(r);return this._signatureToName[n]=i,i},e.prototype._hashTag=function(e,t,r){var n="<"+e,i=Object.keys(t).sort().map(function(e){return" "+e+"="+t[e]}).join(""),o=r?"/>":"></"+e+">";return n+i+o},e.prototype._hashClosingTag=function(e){return this._hashTag("/"+e,{},!1)},e.prototype._generateUniqueName=function(e){var t=e,r=this._placeHolderNameCounts[t];return r?(t+="_"+r,r++):r=1,this._placeHolderNameCounts[e]=r,t},e}(),_expParser=new Parser(new Lexer),_I18nVisitor=function(){function e(e,t){this._expressionParser=e,this._interpolationConfig=t}return e.prototype.toI18nMessage=function(e,t,r){this._isIcu=1==e.length&&e[0]instanceof Expansion,this._icuDepth=0,this._placeholderRegistry=new PlaceholderRegistry,this._placeholderToContent={},this._placeholderToIds={};var n=visitAll(this,e,{});return new Message(n,this._placeholderToContent,this._placeholderToIds,t,r)},e.prototype.visitElement=function(e,t){var r=visitAll(this,e.children),n={};e.attrs.forEach(function(e){n[e.name]=e.value});var i=getHtmlTagDefinition(e.name).isVoid,o=this._placeholderRegistry.getStartTagPlaceholderName(e.name,n,i);this._placeholderToContent[o]=e.sourceSpan.toString();var s="";return i||(s=this._placeholderRegistry.getCloseTagPlaceholderName(e.name),this._placeholderToContent[s]="</"+e.name+">"),new TagPlaceholder(e.name,n,o,s,r,i,e.sourceSpan)},e.prototype.visitAttribute=function(e,t){return this._visitTextWithInterpolation(e.value,e.sourceSpan)},e.prototype.visitText=function(e,t){return this._visitTextWithInterpolation(e.value,e.sourceSpan)},e.prototype.visitComment=function(e,t){return null},e.prototype.visitExpansion=function(t,r){var n=this;this._icuDepth++;var i={},o=new Icu(t.switchValue,t.type,i,t.sourceSpan);if(t.cases.forEach(function(e){i[e.value]=new Container(e.expression.map(function(e){return e.visit(n,{})}),e.expSourceSpan)}),this._icuDepth--,this._isIcu||this._icuDepth>0)return o;var s=this._placeholderRegistry.getPlaceholderName("ICU",t.sourceSpan.toString()),a=new e(this._expressionParser,this._interpolationConfig);return this._placeholderToIds[s]=digestMessage(a.toI18nMessage([t],"","")),new IcuPlaceholder(o,s,t.sourceSpan)},e.prototype.visitExpansionCase=function(e,t){throw new Error("Unreachable code")},e.prototype._visitTextWithInterpolation=function(e,t){var r=this._expressionParser.splitInterpolation(e,t.start.toString(),this._interpolationConfig);if(!r)return new Text$1(e,t);for(var n=[],i=new Container(n,t),o=this._interpolationConfig,s=o.start,a=o.end,u=0;u<r.strings.length-1;u++){var c=r.expressions[u],l=_extractPlaceholderName(c)||"INTERPOLATION",p=this._placeholderRegistry.getPlaceholderName(l,c);r.strings[u].length&&n.push(new Text$1(r.strings[u],t)),n.push(new Placeholder(c,p,t)),this._placeholderToContent[p]=s+c+a}var h=r.strings.length-1;return r.strings[h].length&&n.push(new Text$1(r.strings[h],t)),i},e}(),_CUSTOM_PH_EXP=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*"([\s\S]*?)"[\s\S]*\)/g,__extends$25=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},I18nError=function(e){function t(t,r){e.call(this,t,r)}return __extends$25(t,e),t}(ParseError),_I18N_ATTR="i18n",_I18N_ATTR_PREFIX="i18n-",_I18N_COMMENT_PREFIX_REGEXP=/^i18n:?/,ExtractionResult=function(){function e(e,t){this.messages=e,this.errors=t}return e}(),_VisitorMode;!function(e){e[e.Extract=0]="Extract",e[e.Merge=1]="Merge"}(_VisitorMode||(_VisitorMode={}));var _Visitor=function(){function e(e,t){this._implicitTags=e,this._implicitAttrs=t}return e.prototype.extract=function(e,t){var r=this;return this._init(_VisitorMode.Extract,t),e.forEach(function(e){return e.visit(r,null)}),this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new ExtractionResult(this._messages,this._errors)},e.prototype.merge=function(e,t,r){this._init(_VisitorMode.Merge,r),this._translations=t;var n=new Element$1("wrapper",[],e,null,null,null),i=n.visit(this,null);return this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new ParseTreeResult(i.children,this._errors)},e.prototype.visitExpansionCase=function(e,t){var r=visitAll(this,e.expression,t);if(this._mode===_VisitorMode.Merge)return new ExpansionCase(e.value,r,e.sourceSpan,e.valueSourceSpan,e.expSourceSpan)},e.prototype.visitExpansion=function(e,t){this._mayBeAddBlockChildren(e);var r=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([e]),this._inIcu=!0);var n=visitAll(this,e.cases,t);return this._mode===_VisitorMode.Merge&&(e=new Expansion(e.switchValue,e.type,n,e.sourceSpan,e.switchValueSourceSpan)),this._inIcu=r,e},e.prototype.visitComment=function(e,t){var r=_isOpeningComment(e);if(r&&this._isInTranslatableSection)return void this._reportError(e,"Could not start a block inside a translatable section");var n=_isClosingComment(e);if(n&&!this._inI18nBlock)return void this._reportError(e,"Trying to close an unopened block");if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(n){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(e,this._blockChildren),this._inI18nBlock=!1;var i=this._addMessage(this._blockChildren,this._blockMeaningAndDesc),o=this._translateMessage(e,i);return visitAll(this,o)}return void this._reportError(e,"I18N blocks should not cross element boundaries")}}else r&&(this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=e.value.replace(_I18N_COMMENT_PREFIX_REGEXP,"").trim(),this._openTranslatableSection(e))},e.prototype.visitText=function(e,t){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(e),e},e.prototype.visitElement=function(e,t){var r=this;this._mayBeAddBlockChildren(e),this._depth++;var n,i=this._inI18nNode,o=this._inImplicitNode,s=_getI18nAttr(e),a=this._implicitTags.some(function(t){return e.name===t})&&!this._inIcu&&!this._isInTranslatableSection,u=!o&&a;if(this._inImplicitNode=this._inImplicitNode||a,this._isInTranslatableSection||this._inIcu)(s||u)&&this._reportError(e,"Could not mark an element as translatable inside a translatable section"),this._mode==_VisitorMode.Extract&&visitAll(this,e.children),this._mode==_VisitorMode.Merge&&(n=[],e.children.forEach(function(e){var i=e.visit(r,t);i&&!r._isInTranslatableSection&&(n=n.concat(i))}));else{if(s){this._inI18nNode=!0;var c=this._addMessage(e.children,s.value);n=this._translateMessage(e,c)}else if(u){this._inI18nNode=!0;var c=this._addMessage(e.children);n=this._translateMessage(e,c)}if(this._mode==_VisitorMode.Extract){var l=s||u;l&&this._openTranslatableSection(e),visitAll(this,e.children),l&&this._closeTranslatableSection(e,e.children)}this._mode!==_VisitorMode.Merge||s||u||(n=[],e.children.forEach(function(e){var i=e.visit(r,t);i&&!r._isInTranslatableSection&&(n=n.concat(i))}))}if(this._visitAttributesOf(e),this._depth--,this._inI18nNode=i,this._inImplicitNode=o,this._mode===_VisitorMode.Merge){var p=this._translateAttributes(e);return new Element$1(e.name,p,n,e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}},e.prototype.visitAttribute=function(e,t){throw new Error("unreachable code")},e.prototype._init=function(e,t){this._mode=e,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=createI18nMessageFactory(t)},e.prototype._visitAttributesOf=function(e){var t=this,r={},n=this._implicitAttrs[e.name]||[];e.attrs.filter(function(e){return e.name.startsWith(_I18N_ATTR_PREFIX)}).forEach(function(e){return r[e.name.slice(_I18N_ATTR_PREFIX.length)]=e.value}),e.attrs.forEach(function(e){e.name in r?t._addMessage([e],r[e.name]):n.some(function(t){return e.name===t})&&t._addMessage([e])})},e.prototype._addMessage=function(e,t){if(!(0==e.length||1==e.length&&e[0]instanceof Attribute$1&&!e[0].value)){var r=_splitMeaningAndDesc(t),n=r[0],i=r[1],o=this._createI18nMessage(e,n,i);return this._messages.push(o),o}},e.prototype._translateMessage=function(e,t){if(t&&this._mode===_VisitorMode.Merge){var r=digestMessage(t),n=this._translations.get(r);if(n)return n;this._reportError(e,'Translation unavailable for message id="'+r+'"')}return[]},e.prototype._translateAttributes=function(e){var t=this,r=e.attrs,n={};r.forEach(function(e){e.name.startsWith(_I18N_ATTR_PREFIX)&&(n[e.name.slice(_I18N_ATTR_PREFIX.length)]=_splitMeaningAndDesc(e.value)[0])});var i=[];return r.forEach(function(r){if(r.name!==_I18N_ATTR&&!r.name.startsWith(_I18N_ATTR_PREFIX))if(r.value&&""!=r.value&&n.hasOwnProperty(r.name)){var o=n[r.name],s=t._createI18nMessage([r],o,""),a=digestMessage(s),u=t._translations.get(a);if(u)if(u[0]instanceof Text){var c=u[0].value;i.push(new Attribute$1(r.name,c,r.sourceSpan))}else t._reportError(e,'Unexpected translation for attribute "'+r.name+'" (id="'+a+'")');else t._reportError(e,'Translation unavailable for attribute "'+r.name+'" (id="'+a+'")')}else i.push(r)}),i},e.prototype._mayBeAddBlockChildren=function(e){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(e)},e.prototype._openTranslatableSection=function(e){this._isInTranslatableSection?this._reportError(e,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length},Object.defineProperty(e.prototype,"_isInTranslatableSection",{get:function(){return void 0!==this._msgCountAtSectionStart},enumerable:!0,
configurable:!0}),e.prototype._closeTranslatableSection=function(e,t){if(!this._isInTranslatableSection)return void this._reportError(e,"Unexpected section end");var r=this._msgCountAtSectionStart,n=t.reduce(function(e,t){return e+(t instanceof Comment?0:1)},0);if(1==n)for(var i=this._messages.length-1;i>=r;i--){var o=this._messages[i].nodes;if(!(1==o.length&&o[0]instanceof Text$1)){this._messages.splice(i,1);break}}this._msgCountAtSectionStart=void 0},e.prototype._reportError=function(e,t){this._errors.push(new I18nError(e.sourceSpan,t))},e}(),MessageBundle=function(){function e(e,t,r){this._htmlParser=e,this._implicitTags=t,this._implicitAttrs=r,this._messageMap={}}return e.prototype.updateFromTemplate=function(e,t,r){var n=this,i=this._htmlParser.parse(e,t,!0,r);if(i.errors.length)return i.errors;var o=extractMessages(i.rootNodes,r,this._implicitTags,this._implicitAttrs);return o.errors.length?o.errors:void o.messages.forEach(function(e){n._messageMap[digestMessage(e)]=e})},e.prototype.getMessageMap=function(){return this._messageMap},e.prototype.write=function(e){return e.write(this._messageMap)},e}(),XmlTagDefinition=function(){function e(){this.closedByParent=!1,this.contentType=TagContentType.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}return e.prototype.requireExtraParent=function(e){return!1},e.prototype.isClosedByChild=function(e){return!1},e}(),_TAG_DEFINITION=new XmlTagDefinition,__extends$26=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},XmlParser=function(e){function t(){e.call(this,getXmlTagDefinition)}return __extends$26(t,e),t.prototype.parse=function(t,r,n){return void 0===n&&(n=!1),e.prototype.parse.call(this,t,r,n,null)},t}(Parser$1),_Visitor$1=function(){function e(){}return e.prototype.visitTag=function(e){var t=this,r=this._serializeAttributes(e.attrs);if(0==e.children.length)return"<"+e.name+r+"/>";var n=e.children.map(function(e){return e.visit(t)});return"<"+e.name+r+">"+n.join("")+"</"+e.name+">"},e.prototype.visitText=function(e){return e.value},e.prototype.visitDeclaration=function(e){return"<?xml"+this._serializeAttributes(e.attrs)+" ?>"},e.prototype._serializeAttributes=function(e){var t=Object.keys(e).map(function(t){return t+'="'+e[t]+'"'}).join(" ");return t.length>0?" "+t:""},e.prototype.visitDoctype=function(e){return"<!DOCTYPE "+e.rootTag+" [\n"+e.dtd+"\n]>"},e}(),_visitor=new _Visitor$1,Declaration=function(){function e(e){var t=this;this.attrs={},Object.keys(e).forEach(function(r){t.attrs[r]=_escapeXml(e[r])})}return e.prototype.visit=function(e){return e.visitDeclaration(this)},e}(),Doctype=function(){function e(e,t){this.rootTag=e,this.dtd=t}return e.prototype.visit=function(e){return e.visitDoctype(this)},e}(),Tag=function(){function e(e,t,r){var n=this;void 0===t&&(t={}),void 0===r&&(r=[]),this.name=e,this.children=r,this.attrs={},Object.keys(t).forEach(function(e){n.attrs[e]=_escapeXml(t[e])})}return e.prototype.visit=function(e){return e.visitTag(this)},e}(),Text$2=function(){function e(e){this.value=_escapeXml(e)}return e.prototype.visit=function(e){return e.visitText(this)},e}(),_ESCAPED_CHARS=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]],_VERSION="1.2",_XMLNS="urn:oasis:names:tc:xliff:document:1.2",_SOURCE_LANG="en",_PLACEHOLDER_TAG="x",_SOURCE_TAG="source",_TARGET_TAG="target",_UNIT_TAG="trans-unit",_CR=function(e){return void 0===e&&(e=0),new Text$2("\n"+new Array(e).join(" "))},Xliff=function(){function e(e,t){this._htmlParser=e,this._interpolationConfig=t}return e.prototype.write=function(e){var t=new _WriteVisitor,r=[];Object.keys(e).forEach(function(n){var i=e[n],o=new Tag(_UNIT_TAG,{id:n,datatype:"html"});o.children.push(_CR(8),new Tag(_SOURCE_TAG,{},t.serialize(i.nodes)),_CR(8),new Tag(_TARGET_TAG)),i.description&&o.children.push(_CR(8),new Tag("note",{priority:"1",from:"description"},[new Text$2(i.description)])),i.meaning&&o.children.push(_CR(8),new Tag("note",{priority:"1",from:"meaning"},[new Text$2(i.meaning)])),o.children.push(_CR(6)),r.push(_CR(6),o)});var n=new Tag("body",{},r.concat([_CR(4)])),i=new Tag("file",{"source-language":_SOURCE_LANG,datatype:"plaintext",original:"ng2.template"},[_CR(4),n,_CR(2)]),o=new Tag("xliff",{version:_VERSION,xmlns:_XMLNS},[_CR(2),i,_CR()]);return serialize([new Declaration({version:"1.0",encoding:"UTF-8"}),_CR(),o])},e.prototype.load=function(e,t,r){var n=this,i=(new XmlParser).parse(e,t);if(i.errors.length)throw new Error("xtb parse errors:\n"+i.errors.join("\n"));var o=(new _LoadVisitor).parse(i.rootNodes,r),s=o.messages,a=o.errors;if(a.length)throw new Error("xtb parse errors:\n"+a.join("\n"));var u={},c=[];if(Object.keys(s).forEach(function(e){var r=n._htmlParser.parse(s[e],t,!0,n._interpolationConfig);c.push.apply(c,r.errors),u[e]=r.rootNodes}),c.length)throw new Error("xtb parse errors:\n"+c.join("\n"));return u},e}(),_WriteVisitor=function(){function e(){}return e.prototype.visitText=function(e,t){return[new Text$2(e.value)]},e.prototype.visitContainer=function(e,t){var r=this,n=[];return e.children.forEach(function(e){return n.push.apply(n,e.visit(r))}),n},e.prototype.visitIcu=function(e,t){if(this._isInIcu)throw new Error("xliff does not support nested ICU messages");this._isInIcu=!0;var r=[];return this._isInIcu=!1,r},e.prototype.visitTagPlaceholder=function(e,t){var r=new Tag(_PLACEHOLDER_TAG,{id:e.startName,ctype:e.tag});if(e.isVoid)return[r];var n=new Tag(_PLACEHOLDER_TAG,{id:e.closeName,ctype:e.tag});return[r].concat(this.serialize(e.children),[n])},e.prototype.visitPlaceholder=function(e,t){return[new Tag(_PLACEHOLDER_TAG,{id:e.name})]},e.prototype.visitIcuPlaceholder=function(e,t){return[new Tag(_PLACEHOLDER_TAG,{id:e.name})]},e.prototype.serialize=function(e){var t=this;return this._isInIcu=!1,ListWrapper$1.flatten(e.map(function(e){return e.visit(t)}))},e}(),_LoadVisitor=function(){function e(){}return e.prototype.parse=function(e,t){var r=this;this._messageNodes=[],this._translatedMessages={},this._msgId="",this._target=[],this._errors=[],visitAll(this,e,null);var n=t.getMessageMap(),i=extractPlaceholders(t),o=extractPlaceholderToIds(t);return this._messageNodes.filter(function(e){return n.hasOwnProperty(e[0])}).sort(function(e,t){return 0==Object.keys(n[e[0]].placeholderToMsgIds).length?-1:0==Object.keys(n[t[0]].placeholderToMsgIds).length?1:0}).forEach(function(e){var t=e[0];r._placeholders=i[t]||{},r._placeholderToIds=o[t]||{},r._translatedMessages[t]=visitAll(r,e[1]).join("")}),{messages:this._translatedMessages,errors:this._errors}},e.prototype.visitElement=function(e,t){switch(e.name){case _UNIT_TAG:this._target=null;var r=e.attrs.find(function(e){return"id"===e.name});r?this._msgId=r.value:this._addError(e,"<"+_UNIT_TAG+'> misses the "id" attribute'),visitAll(this,e.children,null),null!==this._msgId&&this._messageNodes.push([this._msgId,this._target]);break;case _SOURCE_TAG:break;case _TARGET_TAG:this._target=e.children;break;case _PLACEHOLDER_TAG:var n=e.attrs.find(function(e){return"id"===e.name});if(n){var i=n.value;if(this._placeholders.hasOwnProperty(i))return this._placeholders[i];if(this._placeholderToIds.hasOwnProperty(i)&&this._translatedMessages.hasOwnProperty(this._placeholderToIds[i]))return this._translatedMessages[this._placeholderToIds[i]];this._addError(e,'The placeholder "'+i+'" does not exists in the source message')}else this._addError(e,"<"+_PLACEHOLDER_TAG+'> misses the "id" attribute');break;default:visitAll(this,e.children,null)}},e.prototype.visitAttribute=function(e,t){throw new Error("unreachable code")},e.prototype.visitText=function(e,t){return e.value},e.prototype.visitComment=function(e,t){return""},e.prototype.visitExpansion=function(e,t){throw new Error("unreachable code")},e.prototype.visitExpansionCase=function(e,t){throw new Error("unreachable code")},e.prototype._addError=function(e,t){this._errors.push(new I18nError(e.sourceSpan,t))},e}(),_MESSAGES_TAG="messagebundle",_MESSAGE_TAG="msg",_PLACEHOLDER_TAG$1="ph",_EXEMPLE_TAG="ex",_DOCTYPE='<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>',Xmb=function(){function e(){}return e.prototype.write=function(e){var t=new _Visitor$2,r=new Tag(_MESSAGES_TAG);return r.children.push(new Text$2("\n")),Object.keys(e).forEach(function(n){var i=e[n],o={id:n};i.description&&(o.desc=i.description),i.meaning&&(o.meaning=i.meaning),r.children.push(new Text$2("  "),new Tag(_MESSAGE_TAG,o,t.serialize(i.nodes)),new Text$2("\n"))}),serialize([new Declaration({version:"1.0",encoding:"UTF-8"}),new Text$2("\n"),new Doctype(_MESSAGES_TAG,_DOCTYPE),new Text$2("\n"),r])},e.prototype.load=function(e,t,r){throw new Error("Unsupported")},e}(),_Visitor$2=function(){function e(){}return e.prototype.visitText=function(e,t){return[new Text$2(e.value)]},e.prototype.visitContainer=function(e,t){var r=this,n=[];return e.children.forEach(function(e){return n.push.apply(n,e.visit(r))}),n},e.prototype.visitIcu=function(e,t){var r=this,n=[new Text$2("{"+e.expression+", "+e.type+", ")];return Object.keys(e.cases).forEach(function(t){n.push.apply(n,[new Text$2(t+" {")].concat(e.cases[t].visit(r),[new Text$2("} ")]))}),n.push(new Text$2("}")),n},e.prototype.visitTagPlaceholder=function(e,t){var r=new Tag(_EXEMPLE_TAG,{},[new Text$2("<"+e.tag+">")]),n=new Tag(_PLACEHOLDER_TAG$1,{name:e.startName},[r]);if(e.isVoid)return[n];var i=new Tag(_EXEMPLE_TAG,{},[new Text$2("</"+e.tag+">")]),o=new Tag(_PLACEHOLDER_TAG$1,{name:e.closeName},[i]);return[n].concat(this.serialize(e.children),[o])},e.prototype.visitPlaceholder=function(e,t){return[new Tag(_PLACEHOLDER_TAG$1,{name:e.name})]},e.prototype.visitIcuPlaceholder=function(e,t){return[new Tag(_PLACEHOLDER_TAG$1,{name:e.name})]},e.prototype.serialize=function(e){var t=this;return ListWrapper$1.flatten(e.map(function(e){return e.visit(t)}))},e}(),_TRANSLATIONS_TAG="translationbundle",_TRANSLATION_TAG="translation",_PLACEHOLDER_TAG$2="ph",Xtb=function(){function e(e,t){this._htmlParser=e,this._interpolationConfig=t}return e.prototype.write=function(e){throw new Error("Unsupported")},e.prototype.load=function(e,t,r){var n=this,i=(new XmlParser).parse(e,t);if(i.errors.length)throw new Error("xtb parse errors:\n"+i.errors.join("\n"));var o=(new _Visitor$3).parse(i.rootNodes,r),s=o.messages,a=o.errors;if(a.length)throw new Error("xtb parse errors:\n"+a.join("\n"));var u={},c=[];if(Object.keys(s).forEach(function(e){var r=n._htmlParser.parse(s[e],t,!0,n._interpolationConfig);c.push.apply(c,r.errors),u[e]=r.rootNodes}),c.length)throw new Error("xtb parse errors:\n"+c.join("\n"));return u},e}(),_Visitor$3=function(){function e(){}return e.prototype.parse=function(e,t){var r=this;this._messageNodes=[],this._translatedMessages={},this._bundleDepth=0,this._translationDepth=0,this._errors=[],visitAll(this,e,null);var n=t.getMessageMap(),i=extractPlaceholders(t),o=extractPlaceholderToIds(t);return this._messageNodes.filter(function(e){return n.hasOwnProperty(e[0])}).sort(function(e,t){return 0==Object.keys(n[e[0]].placeholderToMsgIds).length?-1:0==Object.keys(n[t[0]].placeholderToMsgIds).length?1:0}).forEach(function(e){var t=e[0];r._placeholders=i[t]||{},r._placeholderToIds=o[t]||{},r._translatedMessages[t]=visitAll(r,e[1]).join("")}),{messages:this._translatedMessages,errors:this._errors}},e.prototype.visitElement=function(e,t){switch(e.name){case _TRANSLATIONS_TAG:this._bundleDepth++,this._bundleDepth>1&&this._addError(e,"<"+_TRANSLATIONS_TAG+"> elements can not be nested"),visitAll(this,e.children,null),this._bundleDepth--;break;case _TRANSLATION_TAG:this._translationDepth++,this._translationDepth>1&&this._addError(e,"<"+_TRANSLATION_TAG+"> elements can not be nested");var r=e.attrs.find(function(e){return"id"===e.name});r?this._messageNodes.push([r.value,e.children]):this._addError(e,"<"+_TRANSLATION_TAG+'> misses the "id" attribute'),this._translationDepth--;break;case _PLACEHOLDER_TAG$2:var n=e.attrs.find(function(e){return"name"===e.name});if(n){var i=n.value;if(this._placeholders.hasOwnProperty(i))return this._placeholders[i];if(this._placeholderToIds.hasOwnProperty(i)&&this._translatedMessages.hasOwnProperty(this._placeholderToIds[i]))return this._translatedMessages[this._placeholderToIds[i]];this._addError(e,'The placeholder "'+i+'" does not exists in the source message')}else this._addError(e,"<"+_PLACEHOLDER_TAG$2+'> misses the "name" attribute');break;default:this._addError(e,"Unexpected tag")}},e.prototype.visitAttribute=function(e,t){throw new Error("unreachable code")},e.prototype.visitText=function(e,t){return e.value},e.prototype.visitComment=function(e,t){return""},e.prototype.visitExpansion=function(e,t){var r=this;e.cases.map(function(e){return e.visit(r,null)});return"{"+e.switchValue+", "+e.type+", strCases.join(' ')}"},e.prototype.visitExpansionCase=function(e,t){return e.value+" {"+visitAll(this,e.expression,null)+"}"},e.prototype._addError=function(e,t){this._errors.push(new I18nError(e.sourceSpan,t))},e}(),TranslationBundle=function(){function e(e){void 0===e&&(e={}),this._messageMap=e}return e.load=function(t,r,n,i){return new e(i.load(t,r,n))},e.prototype.get=function(e){return this._messageMap[e]},e.prototype.has=function(e){return e in this._messageMap},e}(),I18NHtmlParser=function(){function e(e,t,r){this._htmlParser=e,this._translations=t,this._translationsFormat=r}return e.prototype.parse=function(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n=DEFAULT_INTERPOLATION_CONFIG);var i=this._htmlParser.parse(e,t,r,n);if(!this._translations||""===this._translations)return i;var o=new MessageBundle(this._htmlParser,[],{}),s=o.updateFromTemplate(e,t,n);if(s&&s.length)return new ParseTreeResult(i.rootNodes,i.errors.concat(s));var a=this._createSerializer(n),u=TranslationBundle.load(this._translations,t,o,a);return mergeTranslations(i.rootNodes,u,n,[],{})},e.prototype._createSerializer=function(e){var t=(this._translationsFormat||"xlf").toLowerCase();switch(t){case"xmb":return new Xmb;case"xtb":return new Xtb(this._htmlParser,e);case"xliff":case"xlf":default:return new Xliff(this._htmlParser,e)}},e}(),isDefaultChangeDetectionStrategy$1=r.isDefaultChangeDetectionStrategy,ChangeDetectorStatus$1=r.ChangeDetectorStatus,LifecycleHooks$1=r.LifecycleHooks,LIFECYCLE_HOOKS_VALUES$1=r.LIFECYCLE_HOOKS_VALUES,ReflectorReader$1=r.ReflectorReader,AppElement$1=r.AppElement,CodegenComponentFactoryResolver$1=r.CodegenComponentFactoryResolver,AppView$1=r.AppView,DebugAppView$1=r.DebugAppView,NgModuleInjector$1=r.NgModuleInjector,ViewType$1=r.ViewType,MAX_INTERPOLATION_VALUES$1=r.MAX_INTERPOLATION_VALUES,checkBinding$1=r.checkBinding,flattenNestedViewRenderNodes$1=r.flattenNestedViewRenderNodes,interpolate$1=r.interpolate,ViewUtils$1=r.ViewUtils,DebugContext$1=r.DebugContext,StaticNodeDebugInfo$1=r.StaticNodeDebugInfo,devModeEqual$1=r.devModeEqual,UNINITIALIZED$1=r.UNINITIALIZED,ValueUnwrapper$1=r.ValueUnwrapper,TemplateRef_$1=r.TemplateRef_,EMPTY_ARRAY$1=r.EMPTY_ARRAY,EMPTY_MAP$1=r.EMPTY_MAP,pureProxy1$1=r.pureProxy1,pureProxy2$1=r.pureProxy2,pureProxy3$1=r.pureProxy3,pureProxy4$1=r.pureProxy4,pureProxy5$1=r.pureProxy5,pureProxy6$1=r.pureProxy6,pureProxy7$1=r.pureProxy7,pureProxy8$1=r.pureProxy8,pureProxy9$1=r.pureProxy9,pureProxy10$1=r.pureProxy10,castByValue$1=r.castByValue,Console$1=r.Console,reflector$1=r.reflector,Reflector$1=r.Reflector,ReflectionCapabilities$1=r.ReflectionCapabilities,NoOpAnimationPlayer$1=r.NoOpAnimationPlayer,AnimationSequencePlayer$1=r.AnimationSequencePlayer,AnimationGroupPlayer$1=r.AnimationGroupPlayer,AnimationKeyframe$1=r.AnimationKeyframe,AnimationStyles$1=r.AnimationStyles,AnimationOutput$1=r.AnimationOutput,ANY_STATE$1=r.ANY_STATE,DEFAULT_STATE$1=r.DEFAULT_STATE,EMPTY_ANIMATION_STATE=r.EMPTY_STATE,FILL_STYLE_FLAG$1=r.FILL_STYLE_FLAG,prepareFinalAnimationStyles$1=r.prepareFinalAnimationStyles,balanceAnimationKeyframes$1=r.balanceAnimationKeyframes,clearStyles$1=r.clearStyles,collectAndResolveStyles$1=r.collectAndResolveStyles,renderStyles$1=r.renderStyles,ComponentStillLoadingError$1=r.ComponentStillLoadingError,APP_VIEW_MODULE_URL=assetUrl("core","linker/view"),VIEW_UTILS_MODULE_URL=assetUrl("core","linker/view_utils"),CD_MODULE_URL=assetUrl("core","change_detection/change_detection"),ANIMATION_STYLE_UTIL_ASSET_URL=assetUrl("core","animation/animation_style_util"),Identifiers=function(){function e(){}return e.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleUrl:assetUrl("core","metadata/di"),runtime:ANALYZE_FOR_ENTRY_COMPONENTS},e.ViewUtils={name:"ViewUtils",moduleUrl:assetUrl("core","linker/view_utils"),runtime:ViewUtils$1},e.AppView={name:"AppView",moduleUrl:APP_VIEW_MODULE_URL,runtime:AppView$1},e.DebugAppView={name:"DebugAppView",moduleUrl:APP_VIEW_MODULE_URL,runtime:DebugAppView$1},e.AppElement={name:"AppElement",moduleUrl:assetUrl("core","linker/element"),runtime:AppElement$1},e.ElementRef={name:"ElementRef",moduleUrl:assetUrl("core","linker/element_ref"),runtime:ElementRef},e.ViewContainerRef={name:"ViewContainerRef",moduleUrl:assetUrl("core","linker/view_container_ref"),runtime:ViewContainerRef},e.ChangeDetectorRef={name:"ChangeDetectorRef",moduleUrl:assetUrl("core","change_detection/change_detector_ref"),runtime:ChangeDetectorRef},e.RenderComponentType={name:"RenderComponentType",moduleUrl:assetUrl("core","render/api"),runtime:RenderComponentType},e.QueryList={name:"QueryList",moduleUrl:assetUrl("core","linker/query_list"),runtime:QueryList},e.TemplateRef={name:"TemplateRef",moduleUrl:assetUrl("core","linker/template_ref"),runtime:TemplateRef},e.TemplateRef_={name:"TemplateRef_",moduleUrl:assetUrl("core","linker/template_ref"),runtime:TemplateRef_$1},e.CodegenComponentFactoryResolver={name:"CodegenComponentFactoryResolver",moduleUrl:assetUrl("core","linker/component_factory_resolver"),runtime:CodegenComponentFactoryResolver$1},e.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleUrl:assetUrl("core","linker/component_factory_resolver"),runtime:ComponentFactoryResolver},e.ComponentFactory={name:"ComponentFactory",runtime:ComponentFactory,moduleUrl:assetUrl("core","linker/component_factory")},e.NgModuleFactory={name:"NgModuleFactory",runtime:NgModuleFactory,moduleUrl:assetUrl("core","linker/ng_module_factory")},e.NgModuleInjector={name:"NgModuleInjector",runtime:NgModuleInjector$1,moduleUrl:assetUrl("core","linker/ng_module_factory")},e.ValueUnwrapper={name:"ValueUnwrapper",moduleUrl:CD_MODULE_URL,runtime:ValueUnwrapper$1},e.Injector={name:"Injector",moduleUrl:assetUrl("core","di/injector"),runtime:Injector},e.ViewEncapsulation={name:"ViewEncapsulation",moduleUrl:assetUrl("core","metadata/view"),runtime:ViewEncapsulation},e.ViewType={name:"ViewType",moduleUrl:assetUrl("core","linker/view_type"),runtime:ViewType$1},e.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleUrl:CD_MODULE_URL,runtime:ChangeDetectionStrategy},e.StaticNodeDebugInfo={name:"StaticNodeDebugInfo",moduleUrl:assetUrl("core","linker/debug_context"),runtime:StaticNodeDebugInfo$1},e.DebugContext={name:"DebugContext",moduleUrl:assetUrl("core","linker/debug_context"),runtime:DebugContext$1},e.Renderer={name:"Renderer",moduleUrl:assetUrl("core","render/api"),runtime:Renderer},e.SimpleChange={name:"SimpleChange",moduleUrl:CD_MODULE_URL,runtime:SimpleChange},e.UNINITIALIZED={name:"UNINITIALIZED",moduleUrl:CD_MODULE_URL,runtime:UNINITIALIZED$1},e.ChangeDetectorStatus={name:"ChangeDetectorStatus",moduleUrl:CD_MODULE_URL,runtime:ChangeDetectorStatus$1},e.checkBinding={name:"checkBinding",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:checkBinding$1},e.flattenNestedViewRenderNodes={name:"flattenNestedViewRenderNodes",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:flattenNestedViewRenderNodes$1},e.devModeEqual={name:"devModeEqual",moduleUrl:CD_MODULE_URL,runtime:devModeEqual$1},e.interpolate={name:"interpolate",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:interpolate$1},e.castByValue={name:"castByValue",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:castByValue$1},e.EMPTY_ARRAY={name:"EMPTY_ARRAY",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:EMPTY_ARRAY$1},e.EMPTY_MAP={name:"EMPTY_MAP",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:EMPTY_MAP$1},e.pureProxies=[null,{name:"pureProxy1",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:pureProxy1$1},{name:"pureProxy2",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:pureProxy2$1},{name:"pureProxy3",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:pureProxy3$1},{name:"pureProxy4",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:pureProxy4$1},{name:"pureProxy5",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:pureProxy5$1},{name:"pureProxy6",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:pureProxy6$1},{name:"pureProxy7",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:pureProxy7$1},{name:"pureProxy8",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:pureProxy8$1},{name:"pureProxy9",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:pureProxy9$1},{name:"pureProxy10",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:pureProxy10$1}],e.SecurityContext={name:"SecurityContext",moduleUrl:assetUrl("core","security"),runtime:SecurityContext},e.AnimationKeyframe={name:"AnimationKeyframe",moduleUrl:assetUrl("core","animation/animation_keyframe"),runtime:AnimationKeyframe$1},e.AnimationStyles={name:"AnimationStyles",moduleUrl:assetUrl("core","animation/animation_styles"),runtime:AnimationStyles$1},e.NoOpAnimationPlayer={name:"NoOpAnimationPlayer",moduleUrl:assetUrl("core","animation/animation_player"),runtime:NoOpAnimationPlayer$1},e.AnimationGroupPlayer={name:"AnimationGroupPlayer",moduleUrl:assetUrl("core","animation/animation_group_player"),runtime:AnimationGroupPlayer$1},e.AnimationSequencePlayer={name:"AnimationSequencePlayer",moduleUrl:assetUrl("core","animation/animation_sequence_player"),runtime:AnimationSequencePlayer$1},e.prepareFinalAnimationStyles={name:"prepareFinalAnimationStyles",moduleUrl:ANIMATION_STYLE_UTIL_ASSET_URL,runtime:prepareFinalAnimationStyles$1},e.balanceAnimationKeyframes={name:"balanceAnimationKeyframes",moduleUrl:ANIMATION_STYLE_UTIL_ASSET_URL,runtime:balanceAnimationKeyframes$1},e.clearStyles={name:"clearStyles",moduleUrl:ANIMATION_STYLE_UTIL_ASSET_URL,runtime:clearStyles$1},e.renderStyles={name:"renderStyles",moduleUrl:ANIMATION_STYLE_UTIL_ASSET_URL,runtime:renderStyles$1},e.collectAndResolveStyles={name:"collectAndResolveStyles",moduleUrl:ANIMATION_STYLE_UTIL_ASSET_URL,runtime:collectAndResolveStyles$1},e.LOCALE_ID={name:"LOCALE_ID",moduleUrl:assetUrl("core","i18n/tokens"),runtime:LOCALE_ID},e.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleUrl:assetUrl("core","i18n/tokens"),runtime:TRANSLATIONS_FORMAT_},e.AnimationOutput={name:"AnimationOutput",moduleUrl:assetUrl("core","animation/animation_output"),runtime:AnimationOutput$1},e}(),__extends$27=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},HtmlParser=function(e){function t(){e.call(this,getHtmlTagDefinition)}return __extends$27(t,e),t.prototype.parse=function(t,r,n,i){return void 0===n&&(n=!1),void 0===i&&(i=DEFAULT_INTERPOLATION_CONFIG),e.prototype.parse.call(this,t,r,n,i)},t.decorators=[{type:Injectable}],t.ctorParameters=[],t}(Parser$1),__extends$28=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},PLURAL_CASES=["zero","one","two","few","many","other"],ExpansionResult=function(){function e(e,t,r){this.nodes=e,this.expanded=t,this.errors=r}return e}(),ExpansionError=function(e){function t(t,r){e.call(this,t,r)}return __extends$28(t,e),t}(ParseError),_Expander=function(){function e(){this.isExpanded=!1,this.errors=[]}return e.prototype.visitElement=function(e,t){return new Element$1(e.name,e.attrs,visitAll(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan)},e.prototype.visitAttribute=function(e,t){return e},e.prototype.visitText=function(e,t){return e},e.prototype.visitComment=function(e,t){return e},e.prototype.visitExpansion=function(e,t){return this.isExpanded=!0,"plural"==e.type?_expandPluralForm(e,this.errors):_expandDefaultForm(e,this.errors)},e.prototype.visitExpansionCase=function(e,t){throw new Error("Should not be reached")},e}(),__extends$29=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},ProviderError=function(e){function t(t,r){e.call(this,r,t)}return __extends$29(t,e),t}(ParseError),ProviderViewContext=function(){function e(e,t){var r=this;this.component=e,this.sourceSpan=t,this.errors=[],this.viewQueries=_getViewQueries(e),this.viewProviders=new Map,_normalizeProviders$1(e.viewProviders,t,this.errors).forEach(function(e){isBlank$1(r.viewProviders.get(e.token.reference))&&r.viewProviders.set(e.token.reference,!0)})}return e}(),ProviderElementContext=function(){function e(e,t,r,n,i,o,s){var a=this;this._viewContext=e,this._parent=t,this._isViewRoot=r,this._directiveAsts=n,this._sourceSpan=s,this._transformedProviders=new Map,this._seenProviders=new Map,this._hasViewContainer=!1,this._attrs={},i.forEach(function(e){return a._attrs[e.name]=e.value});var u=n.map(function(e){return e.directive});this._allProviders=_resolveProvidersFromDirectives(u,s,e.errors),this._contentQueries=_getContentQueries(u);var c=new Map;MapWrapper$1.values(this._allProviders).forEach(function(e){a._addQueryReadsTo(e.token,c)}),o.forEach(function(e){a._addQueryReadsTo(new CompileTokenMetadata({value:e.name}),c)}),isPresent$1(c.get(resolveIdentifierToken(Identifiers.ViewContainerRef).reference))&&(this._hasViewContainer=!0),MapWrapper$1.values(this._allProviders).forEach(function(e){var t=e.eager||isPresent$1(c.get(e.token.reference));t&&a._getOrCreateLocalProvider(e.providerType,e.token,!0)})}return e.prototype.afterElement=function(){var e=this;MapWrapper$1.values(this._allProviders).forEach(function(t){e._getOrCreateLocalProvider(t.providerType,t.token,!1)})},Object.defineProperty(e.prototype,"transformProviders",{get:function(){return MapWrapper$1.values(this._transformedProviders)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transformedDirectiveAsts",{get:function(){var e=this.transformProviders.map(function(e){return e.token.identifier}),t=ListWrapper$1.clone(this._directiveAsts);return ListWrapper$1.sort(t,function(t,r){return e.indexOf(t.directive.type)-e.indexOf(r.directive.type)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transformedHasViewContainer",{get:function(){return this._hasViewContainer},enumerable:!0,configurable:!0}),e.prototype._addQueryReadsTo=function(e,t){this._getQueriesFor(e).forEach(function(r){var n=isPresent$1(r.read)?r.read:e;isBlank$1(t.get(n.reference))&&t.set(n.reference,!0)})},e.prototype._getQueriesFor=function(e){for(var t,r=[],n=this,i=0;null!==n;)t=n._contentQueries.get(e.reference),isPresent$1(t)&&ListWrapper$1.addAll(r,t.filter(function(e){return e.descendants||i<=1})),n._directiveAsts.length>0&&i++,n=n._parent;return t=this._viewContext.viewQueries.get(e.reference),isPresent$1(t)&&ListWrapper$1.addAll(r,t),r},e.prototype._getOrCreateLocalProvider=function(e,t,r){var n=this,i=this._allProviders.get(t.reference);if(isBlank$1(i)||(e===ProviderAstType.Directive||e===ProviderAstType.PublicService)&&i.providerType===ProviderAstType.PrivateService||(e===ProviderAstType.PrivateService||e===ProviderAstType.PublicService)&&i.providerType===ProviderAstType.Builtin)return null;var o=this._transformedProviders.get(t.reference);if(isPresent$1(o))return o;if(isPresent$1(this._seenProviders.get(t.reference)))return this._viewContext.errors.push(new ProviderError("Cannot instantiate cyclic dependency! "+t.name,this._sourceSpan)),null;this._seenProviders.set(t.reference,!0);var s=i.providers.map(function(e){var t,o=e.useValue,s=e.useExisting;if(isPresent$1(e.useExisting)){var a=n._getDependency(i.providerType,new CompileDiDependencyMetadata({token:e.useExisting}),r);isPresent$1(a.token)?s=a.token:(s=null,o=a.value)}else if(isPresent$1(e.useFactory)){var u=isPresent$1(e.deps)?e.deps:e.useFactory.diDeps;t=u.map(function(e){return n._getDependency(i.providerType,e,r)})}else if(isPresent$1(e.useClass)){var u=isPresent$1(e.deps)?e.deps:e.useClass.diDeps;t=u.map(function(e){return n._getDependency(i.providerType,e,r)})}return _transformProvider(e,{useExisting:s,useValue:o,deps:t})});return o=_transformProviderAst(i,{eager:r,providers:s}),this._transformedProviders.set(t.reference,o),o},e.prototype._getLocalDependency=function(e,t,r){if(void 0===r&&(r=null),t.isAttribute){var n=this._attrs[t.token.value];return new CompileDiDependencyMetadata({isValue:!0,value:normalizeBlank$1(n)})}if(isPresent$1(t.query)||isPresent$1(t.viewQuery))return t;if(isPresent$1(t.token)){if(e===ProviderAstType.Directive||e===ProviderAstType.Component){if(t.token.reference===resolveIdentifierToken(Identifiers.Renderer).reference||t.token.reference===resolveIdentifierToken(Identifiers.ElementRef).reference||t.token.reference===resolveIdentifierToken(Identifiers.ChangeDetectorRef).reference||t.token.reference===resolveIdentifierToken(Identifiers.TemplateRef).reference)return t;t.token.reference===resolveIdentifierToken(Identifiers.ViewContainerRef).reference&&(this._hasViewContainer=!0)}if(t.token.reference===resolveIdentifierToken(Identifiers.Injector).reference)return t;if(isPresent$1(this._getOrCreateLocalProvider(e,t.token,r)))return t}return null},e.prototype._getDependency=function(e,t,r){void 0===r&&(r=null);var n=this,i=r,o=null;if(t.isSkipSelf||(o=this._getLocalDependency(e,t,r)),t.isSelf)isBlank$1(o)&&t.isOptional&&(o=new CompileDiDependencyMetadata({isValue:!0,value:null}));else{for(;isBlank$1(o)&&isPresent$1(n._parent);){var s=n;n=n._parent,s._isViewRoot&&(i=!1),o=n._getLocalDependency(ProviderAstType.PublicService,t,i)}isBlank$1(o)&&(o=!t.isHost||this._viewContext.component.type.isHost||this._viewContext.component.type.reference===t.token.reference||isPresent$1(this._viewContext.viewProviders.get(t.token.reference))?t:t.isOptional?o=new CompileDiDependencyMetadata({isValue:!0,value:null}):null)}return isBlank$1(o)&&this._viewContext.errors.push(new ProviderError("No provider for "+t.token.name,this._sourceSpan)),o},e}(),NgModuleProviderAnalyzer=function(){function e(e,t,r){var n=this;this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map;var i=e.transitiveModule.modules.map(function(e){return e.type});i.forEach(function(e){var t=new CompileProviderMetadata({token:new CompileTokenMetadata({identifier:e}),useClass:e});_resolveProviders([t],ProviderAstType.PublicService,!0,r,n._errors,n._allProviders)}),_resolveProviders(_normalizeProviders$1(e.transitiveModule.providers.concat(t),r,this._errors),ProviderAstType.PublicService,!1,r,this._errors,this._allProviders)}return e.prototype.parse=function(){var e=this;if(MapWrapper$1.values(this._allProviders).forEach(function(t){e._getOrCreateLocalProvider(t.token,t.eager)}),this._errors.length>0){var t=this._errors.join("\n");throw new Error("Provider parse errors:\n"+t)}return MapWrapper$1.values(this._transformedProviders)},e.prototype._getOrCreateLocalProvider=function(e,t){var r=this,n=this._allProviders.get(e.reference);if(isBlank$1(n))return null;var i=this._transformedProviders.get(e.reference);if(isPresent$1(i))return i;
if(isPresent$1(this._seenProviders.get(e.reference)))return this._errors.push(new ProviderError("Cannot instantiate cyclic dependency! "+e.name,n.sourceSpan)),null;this._seenProviders.set(e.reference,!0);var o=n.providers.map(function(e){var i,o=e.useValue,s=e.useExisting;if(isPresent$1(e.useExisting)){var a=r._getDependency(new CompileDiDependencyMetadata({token:e.useExisting}),t,n.sourceSpan);isPresent$1(a.token)?s=a.token:(s=null,o=a.value)}else if(isPresent$1(e.useFactory)){var u=isPresent$1(e.deps)?e.deps:e.useFactory.diDeps;i=u.map(function(e){return r._getDependency(e,t,n.sourceSpan)})}else if(isPresent$1(e.useClass)){var u=isPresent$1(e.deps)?e.deps:e.useClass.diDeps;i=u.map(function(e){return r._getDependency(e,t,n.sourceSpan)})}return _transformProvider(e,{useExisting:s,useValue:o,deps:i})});return i=_transformProviderAst(n,{eager:t,providers:o}),this._transformedProviders.set(e.reference,i),i},e.prototype._getDependency=function(e,t,r){void 0===t&&(t=null);var n=!1;!e.isSkipSelf&&isPresent$1(e.token)&&(e.token.reference===resolveIdentifierToken(Identifiers.Injector).reference||e.token.reference===resolveIdentifierToken(Identifiers.ComponentFactoryResolver).reference?n=!0:isPresent$1(this._getOrCreateLocalProvider(e.token,t))&&(n=!0));var i=e;return e.isSelf&&!n&&(e.isOptional?i=new CompileDiDependencyMetadata({isValue:!0,value:null}):this._errors.push(new ProviderError("No provider for "+e.token.name,r))),i},e}(),ElementSchemaRegistry=function(){function e(){}return e}(),StyleWithImports=function(){function e(e,t){this.style=e,this.styleUrls=t}return e}(),_cssImportRe=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,_urlWithSchemaRe=/^([^:\/?#]+):/,NG_CONTENT_SELECT_ATTR="select",NG_CONTENT_ELEMENT="ng-content",LINK_ELEMENT="link",LINK_STYLE_REL_ATTR="rel",LINK_STYLE_HREF_ATTR="href",LINK_STYLE_REL_VALUE="stylesheet",STYLE_ELEMENT="style",SCRIPT_ELEMENT="script",NG_NON_BINDABLE_ATTR="ngNonBindable",NG_PROJECT_AS="ngProjectAs",PreparsedElementType;!function(e){e[e.NG_CONTENT=0]="NG_CONTENT",e[e.STYLE=1]="STYLE",e[e.STYLESHEET=2]="STYLESHEET",e[e.SCRIPT=3]="SCRIPT",e[e.OTHER=4]="OTHER"}(PreparsedElementType||(PreparsedElementType={}));var PreparsedElement=function(){function e(e,t,r,n,i){this.type=e,this.selectAttr=t,this.hrefAttr=r,this.nonBindable=n,this.projectAs=i}return e}(),__extends$19=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},BIND_NAME_REGEXP=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/,KW_BIND_IDX=1,KW_LET_IDX=2,KW_REF_IDX=3,KW_ON_IDX=4,KW_BINDON_IDX=5,KW_AT_IDX=6,IDENT_KW_IDX=7,IDENT_BANANA_BOX_IDX=8,IDENT_PROPERTY_IDX=9,IDENT_EVENT_IDX=10,ANIMATE_PROP_PREFIX="animate-",TEMPLATE_ELEMENT="template",TEMPLATE_ATTR="template",TEMPLATE_ATTR_PREFIX="*",CLASS_ATTR="class",PROPERTY_PARTS_SEPARATOR=".",ATTRIBUTE_PREFIX="attr",CLASS_PREFIX="class",STYLE_PREFIX="style",TEXT_CSS_SELECTOR=CssSelector.parse("*")[0],TEMPLATE_TRANSFORMS=new OpaqueToken("TemplateTransforms"),TemplateParseError=function(e){function t(t,r,n){e.call(this,r,t,n)}return __extends$19(t,e),t}(ParseError),TemplateParseResult=function(){function e(e,t){this.templateAst=e,this.errors=t}return e}(),TemplateParser=function(){function e(e,t,r,n,i){this._exprParser=e,this._schemaRegistry=t,this._htmlParser=r,this._console=n,this.transforms=i}return e.prototype.parse=function(e,t,r,n,i,o){var s=this.tryParse(e,t,r,n,i,o),a=s.errors.filter(function(e){return e.level===ParseErrorLevel.WARNING}),u=s.errors.filter(function(e){return e.level===ParseErrorLevel.FATAL});if(a.length>0&&this._console.warn("Template parse warnings:\n"+a.join("\n")),u.length>0){var c=u.join("\n");throw new Error("Template parse errors:\n"+c)}return s.templateAst},e.prototype.tryParse=function(e,t,r,n,i,o){var s;e.template&&(s=InterpolationConfig.fromArray(e.template.interpolation));var a,u=this._htmlParser.parse(t,o,!0,s),c=u.errors;if(0==c.length){var l=expandNodes(u.rootNodes);c.push.apply(c,l.errors),u=new ParseTreeResult(l.nodes,c)}if(u.rootNodes.length>0){var p=removeIdentifierDuplicates(r),h=removeIdentifierDuplicates(n),f=new ProviderViewContext(e,u.rootNodes[0].sourceSpan),d=new TemplateParseVisitor(f,p,h,i,this._exprParser,this._schemaRegistry);a=visitAll(d,u.rootNodes,EMPTY_ELEMENT_CONTEXT),c.push.apply(c,d.errors.concat(f.errors))}else a=[];return this._assertNoReferenceDuplicationOnTemplate(a,c),c.length>0?new TemplateParseResult(a,c):(isPresent$1(this.transforms)&&this.transforms.forEach(function(e){a=templateVisitAll(e,a)}),new TemplateParseResult(a,c))},e.prototype._assertNoReferenceDuplicationOnTemplate=function(e,t){var r=[];e.filter(function(e){return!!e.references}).forEach(function(e){return e.references.forEach(function(e){var n=e.name;if(r.indexOf(n)<0)r.push(n);else{var i=new TemplateParseError('Reference "#'+n+'" is defined several times',e.sourceSpan,ParseErrorLevel.FATAL);t.push(i)}})})},e.decorators=[{type:Injectable}],e.ctorParameters=[{type:Parser},{type:ElementSchemaRegistry},{type:I18NHtmlParser},{type:Console$1},{type:Array,decorators:[{type:Optional},{type:Inject,args:[TEMPLATE_TRANSFORMS]}]}],e}(),TemplateParseVisitor=function(){function e(e,t,r,n,i,o){var s=this;this.providerViewContext=e,this._schemas=n,this._exprParser=i,this._schemaRegistry=o,this.selectorMatcher=new SelectorMatcher,this.errors=[],this.directivesIndex=new Map,this.ngContentCount=0,this.pipesByName=new Map;var a=e.component.template;a&&a.interpolation&&(this._interpolationConfig={start:a.interpolation[0],end:a.interpolation[1]}),t.forEach(function(e,t){var r=CssSelector.parse(e.selector);s.selectorMatcher.addSelectables(r,e),s.directivesIndex.set(e,t)}),r.forEach(function(e){return s.pipesByName.set(e.name,e)})}return e.prototype._reportError=function(e,t,r){void 0===r&&(r=ParseErrorLevel.FATAL),this.errors.push(new TemplateParseError(e,t,r))},e.prototype._reportParserErrors=function(e,t){for(var r=0,n=e;r<n.length;r++){var i=n[r];this._reportError(i.message,t)}},e.prototype._parseInterpolation=function(e,t){var r=t.start.toString();try{var n=this._exprParser.parseInterpolation(e,r,this._interpolationConfig);if(n&&this._reportParserErrors(n.errors,t),this._checkPipes(n,t),isPresent$1(n)&&n.ast.expressions.length>MAX_INTERPOLATION_VALUES$1)throw new Error("Only support at most "+MAX_INTERPOLATION_VALUES$1+" interpolation values!");return n}catch(e){return this._reportError(""+e,t),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},e.prototype._parseAction=function(e,t){var r=t.start.toString();try{var n=this._exprParser.parseAction(e,r,this._interpolationConfig);return n&&this._reportParserErrors(n.errors,t),!n||n.ast instanceof EmptyExpr?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",r)):(this._checkPipes(n,t),n)}catch(e){return this._reportError(""+e,t),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},e.prototype._parseBinding=function(e,t){var r=t.start.toString();try{var n=this._exprParser.parseBinding(e,r,this._interpolationConfig);return n&&this._reportParserErrors(n.errors,t),this._checkPipes(n,t),n}catch(e){return this._reportError(""+e,t),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},e.prototype._parseTemplateBindings=function(e,t){var r=this,n=t.start.toString();try{var i=this._exprParser.parseTemplateBindings(e,n);return this._reportParserErrors(i.errors,t),i.templateBindings.forEach(function(e){isPresent$1(e.expression)&&r._checkPipes(e.expression,t)}),i.warnings.forEach(function(e){r._reportError(e,t,ParseErrorLevel.WARNING)}),i.templateBindings}catch(e){return this._reportError(""+e,t),[]}},e.prototype._checkPipes=function(e,t){var r=this;if(isPresent$1(e)){var n=new PipeCollector;e.visit(n),n.pipes.forEach(function(e){r.pipesByName.has(e)||r._reportError("The pipe '"+e+"' could not be found",t)})}},e.prototype.visitExpansion=function(e,t){return null},e.prototype.visitExpansionCase=function(e,t){return null},e.prototype.visitText=function(e,t){var r=t.findNgContentIndex(TEXT_CSS_SELECTOR),n=this._parseInterpolation(e.value,e.sourceSpan);return isPresent$1(n)?new BoundTextAst(n,r,e.sourceSpan):new TextAst(e.value,r,e.sourceSpan)},e.prototype.visitAttribute=function(e,t){return new AttrAst(e.name,e.value,e.sourceSpan)},e.prototype.visitComment=function(e,t){return null},e.prototype.visitElement=function(e,t){var r=this,n=e.name,i=preparseElement(e);if(i.type===PreparsedElementType.SCRIPT||i.type===PreparsedElementType.STYLE)return null;if(i.type===PreparsedElementType.STYLESHEET&&isStyleUrlResolvable(i.hrefAttr))return null;var o=[],s=[],a=[],u=[],c=[],l=[],p=[],h=[],f=[],d=!1,m=[],y=splitNsName(n.toLowerCase())[1],v=y==TEMPLATE_ELEMENT;e.attrs.forEach(function(e){var t=r._parseAttr(v,e,o,s,c,l,a,u),n=r._parseInlineTemplateBinding(e,h,p,f);n&&d&&r._reportError("Can't have multiple template bindings on one element. Use only one attribute named 'template' or prefixed with *",e.sourceSpan),t||n||(m.push(r.visitAttribute(e,null)),o.push([e.name,e.value])),n&&(d=!0)});var _=createElementCssSelector(n,o),g=this._parseDirectives(this.selectorMatcher,_),b=g.directives,E=g.matchElement,S=[],w=this._createDirectiveAsts(v,e.name,b,s,a,e.sourceSpan,S),C=this._createElementPropertyAsts(e.name,s,w).concat(c),T=t.isTemplateElement||d,A=new ProviderElementContext(this.providerViewContext,t.providerContext,T,w,m,S,e.sourceSpan),P=visitAll(i.nonBindable?NON_BINDABLE_VISITOR:this,e.children,ElementContext.create(v,w,v?t.providerContext:A));A.afterElement();var O,x=isPresent$1(i.projectAs)?CssSelector.parse(i.projectAs)[0]:_,R=t.findNgContentIndex(x);if(i.type===PreparsedElementType.NG_CONTENT)isPresent$1(e.children)&&e.children.length>0&&this._reportError("<ng-content> element cannot have content. <ng-content> must be immediately followed by </ng-content>",e.sourceSpan),O=new NgContentAst((this.ngContentCount++),d?null:R,e.sourceSpan);else if(v)this._assertAllEventsPublishedByDirectives(w,l),this._assertNoComponentsNorElementBindingsOnTemplate(w,C,e.sourceSpan),O=new EmbeddedTemplateAst(m,l,S,u,A.transformedDirectiveAsts,A.transformProviders,A.transformedHasViewContainer,P,d?null:R,e.sourceSpan);else{this._assertElementExists(E,e),this._assertOnlyOneComponent(w,e.sourceSpan);var I=d?null:t.findNgContentIndex(x);O=new ElementAst(n,m,C,l,S,A.transformedDirectiveAsts,A.transformProviders,A.transformedHasViewContainer,P,d?null:I,e.sourceSpan)}if(d){var N=createElementCssSelector(TEMPLATE_ELEMENT,h),M=this._parseDirectives(this.selectorMatcher,N).directives,$=this._createDirectiveAsts(!0,e.name,M,p,[],e.sourceSpan,[]),D=this._createElementPropertyAsts(e.name,p,$);this._assertNoComponentsNorElementBindingsOnTemplate($,D,e.sourceSpan);var k=new ProviderElementContext(this.providerViewContext,t.providerContext,t.isTemplateElement,$,[],[],e.sourceSpan);k.afterElement(),O=new EmbeddedTemplateAst([],[],[],f,k.transformedDirectiveAsts,k.transformProviders,k.transformedHasViewContainer,[O],R,e.sourceSpan)}return O},e.prototype._parseInlineTemplateBinding=function(e,t,r,n){var i=null;if(this._normalizeAttributeName(e.name)==TEMPLATE_ATTR)i=e.value;else if(e.name.startsWith(TEMPLATE_ATTR_PREFIX)){var o=e.name.substring(TEMPLATE_ATTR_PREFIX.length);i=0==e.value.length?o:o+" "+e.value}if(isPresent$1(i)){for(var s=this._parseTemplateBindings(i,e.sourceSpan),a=0;a<s.length;a++){var u=s[a];u.keyIsVar?n.push(new VariableAst(u.key,u.name,e.sourceSpan)):isPresent$1(u.expression)?this._parsePropertyAst(u.key,u.expression,e.sourceSpan,t,r):(t.push([u.key,""]),this._parseLiteralAttr(u.key,null,e.sourceSpan,r))}return!0}return!1},e.prototype._parseAttr=function(e,t,r,n,i,o,s,a){var u=this._normalizeAttributeName(t.name),c=t.value,l=t.sourceSpan,p=u.match(BIND_NAME_REGEXP),h=!1;if(null!==p)if(h=!0,isPresent$1(p[KW_BIND_IDX]))this._parsePropertyOrAnimation(p[IDENT_KW_IDX],c,l,r,n,i);else if(p[KW_LET_IDX])if(e){var f=p[IDENT_KW_IDX];this._parseVariable(f,c,l,a)}else this._reportError('"let-" is only supported on template elements.',l);else if(p[KW_REF_IDX]){var f=p[IDENT_KW_IDX];this._parseReference(f,c,l,s)}else p[KW_ON_IDX]?this._parseEvent(p[IDENT_KW_IDX],c,l,r,o):p[KW_BINDON_IDX]?(this._parsePropertyOrAnimation(p[IDENT_KW_IDX],c,l,r,n,i),this._parseAssignmentEvent(p[IDENT_KW_IDX],c,l,r,o)):p[KW_AT_IDX]?("@"==u[0]&&isPresent$1(c)&&c.length>0&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',l,ParseErrorLevel.FATAL),this._parseAnimation(p[IDENT_KW_IDX],c,l,r,i)):p[IDENT_BANANA_BOX_IDX]?(this._parsePropertyOrAnimation(p[IDENT_BANANA_BOX_IDX],c,l,r,n,i),this._parseAssignmentEvent(p[IDENT_BANANA_BOX_IDX],c,l,r,o)):p[IDENT_PROPERTY_IDX]?this._parsePropertyOrAnimation(p[IDENT_PROPERTY_IDX],c,l,r,n,i):p[IDENT_EVENT_IDX]&&this._parseEvent(p[IDENT_EVENT_IDX],c,l,r,o);else h=this._parsePropertyInterpolation(u,c,l,r,n);return h||this._parseLiteralAttr(u,c,l,n),h},e.prototype._normalizeAttributeName=function(e){return/^data-/i.test(e)?e.substring(5):e},e.prototype._parseVariable=function(e,t,r,n){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',r),n.push(new VariableAst(e,t,r))},e.prototype._parseReference=function(e,t,r,n){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',r),n.push(new ElementOrDirectiveRef(e,t,r))},e.prototype._parsePropertyOrAnimation=function(e,t,r,n,i,o){var s=ANIMATE_PROP_PREFIX.length,a="@"==e[0],u=1;e.substring(0,s)==ANIMATE_PROP_PREFIX&&(a=!0,u=s),a?this._parseAnimation(e.substr(u),t,r,n,o):this._parsePropertyAst(e,this._parseBinding(t,r),r,n,i)},e.prototype._parseAnimation=function(e,t,r,n,i){isPresent$1(t)&&0!=t.length||(t="null");var o=this._parseBinding(t,r);n.push([e,o.source]),i.push(new BoundElementPropertyAst(e,PropertyBindingType.Animation,SecurityContext.NONE,o,null,r))},e.prototype._parsePropertyInterpolation=function(e,t,r,n,i){var o=this._parseInterpolation(t,r);return!!isPresent$1(o)&&(this._parsePropertyAst(e,o,r,n,i),!0)},e.prototype._parsePropertyAst=function(e,t,r,n,i){n.push([e,t.source]),i.push(new BoundElementOrDirectiveProperty(e,t,(!1),r))},e.prototype._parseAssignmentEvent=function(e,t,r,n,i){this._parseEvent(e+"Change",t+"=$event",r,n,i)},e.prototype._parseEvent=function(e,t,r,n,i){var o=splitAtColon(e,[null,e]),s=o[0],a=o[1],u=this._parseAction(t,r);n.push([e,u.source]),i.push(new BoundEventAst(a,s,u,r))},e.prototype._parseLiteralAttr=function(e,t,r,n){n.push(new BoundElementOrDirectiveProperty(e,this._exprParser.wrapLiteralPrimitive(t,""),(!0),r))},e.prototype._parseDirectives=function(e,t){var r=this,n=new Array(this.directivesIndex.size),i=!1;return e.match(t,function(e,t){n[r.directivesIndex.get(t)]=t,i=i||e.hasElementSelector()}),{directives:n.filter(function(e){return!!e}),matchElement:i}},e.prototype._createDirectiveAsts=function(e,t,r,n,i,o,s){var a=this,u=new Set,c=null,l=r.map(function(e){var r=new ParseSourceSpan(o.start,o.end,"Directive "+e.type.name);e.isComponent&&(c=e);var l=[],p=[],h=[];return a._createDirectiveHostPropertyAsts(t,e.hostProperties,r,l),a._createDirectiveHostEventAsts(e.hostListeners,r,p),a._createDirectivePropertyAsts(e.inputs,n,h),i.forEach(function(t){(0===t.value.length&&e.isComponent||e.exportAs==t.value)&&(s.push(new ReferenceAst(t.name,identifierToken(e.type),t.sourceSpan)),u.add(t.name))}),new DirectiveAst(e,h,l,p,r)});return i.forEach(function(t){if(t.value.length>0)u.has(t.name)||a._reportError('There is no directive with "exportAs" set to "'+t.value+'"',t.sourceSpan);else if(!c){var r=null;e&&(r=resolveIdentifierToken(Identifiers.TemplateRef)),s.push(new ReferenceAst(t.name,r,t.sourceSpan))}}),l},e.prototype._createDirectiveHostPropertyAsts=function(e,t,r,n){var i=this;t&&StringMapWrapper$1.forEach(t,function(t,o){if(isString$1(t)){var s=i._parseBinding(t,r);n.push(i._createElementPropertyAst(e,o,s,r))}else i._reportError('Value of the host property binding "'+o+'" needs to be a string representing an expression but got "'+t+'" ('+typeof t+")",r)})},e.prototype._createDirectiveHostEventAsts=function(e,t,r){var n=this;e&&StringMapWrapper$1.forEach(e,function(e,i){isString$1(e)?n._parseEvent(i,e,t,[],r):n._reportError('Value of the host listener "'+i+'" needs to be a string representing an expression but got "'+e+'" ('+typeof e+")",t)})},e.prototype._createDirectivePropertyAsts=function(e,t,r){if(e){var n=new Map;t.forEach(function(e){var t=n.get(e.name);(isBlank$1(t)||t.isLiteral)&&n.set(e.name,e)}),StringMapWrapper$1.forEach(e,function(e,t){var i=n.get(e);i&&r.push(new BoundDirectivePropertyAst(t,i.name,i.expression,i.sourceSpan))})}},e.prototype._createElementPropertyAsts=function(e,t,r){var n=this,i=[],o=new Map;return r.forEach(function(e){e.inputs.forEach(function(e){o.set(e.templateName,e)})}),t.forEach(function(t){!t.isLiteral&&isBlank$1(o.get(t.name))&&i.push(n._createElementPropertyAst(e,t.name,t.expression,t.sourceSpan))}),i},e.prototype._createElementPropertyAst=function(e,t,r,n){var i,o,s,a=null,u=t.split(PROPERTY_PARTS_SEPARATOR);if(1===u.length){var c=u[0];if("@"==c[0])o=c.substr(1),i=PropertyBindingType.Animation,s=SecurityContext.NONE;else if(o=this._schemaRegistry.getMappedPropName(c),s=this._schemaRegistry.securityContext(e,o),i=PropertyBindingType.Property,this._assertNoEventBinding(o,n),!this._schemaRegistry.hasProperty(e,o,this._schemas)){var l="Can't bind to '"+o+"' since it isn't a known property of '"+e+"'.";e.indexOf("-")>-1&&(l+="\n1. If '"+e+"' is an Angular component and it has '"+o+"' input, then verify that it is part of this module."+("\n2. If '"+e+"' is a Web Component then add \"CUSTOM_ELEMENTS_SCHEMA\" to the '@NgModule.schema' of this component to suppress this message.\n")),this._reportError(l,n)}}else if(u[0]==ATTRIBUTE_PREFIX){o=u[1],this._assertNoEventBinding(o,n);var p=this._schemaRegistry.getMappedPropName(o);s=this._schemaRegistry.securityContext(e,p);var h=o.indexOf(":");if(h>-1){var f=o.substring(0,h),d=o.substring(h+1);o=mergeNsAndName(f,d)}i=PropertyBindingType.Attribute}else u[0]==CLASS_PREFIX?(o=u[1],i=PropertyBindingType.Class,s=SecurityContext.NONE):u[0]==STYLE_PREFIX?(a=u.length>2?u[2]:null,o=u[1],i=PropertyBindingType.Style,s=SecurityContext.STYLE):(this._reportError("Invalid property name '"+t+"'",n),i=null,s=null);return new BoundElementPropertyAst(o,i,s,r,a,n)},e.prototype._assertNoEventBinding=function(e,t){e.toLowerCase().startsWith("on")&&this._reportError("Binding to event attribute '"+e+"' is disallowed "+("for security reasons, please use ("+e.slice(2)+")=..."),t,ParseErrorLevel.FATAL)},e.prototype._findComponentDirectiveNames=function(e){var t=[];return e.forEach(function(e){var r=e.directive.type.name;e.directive.isComponent&&t.push(r)}),t},e.prototype._assertOnlyOneComponent=function(e,t){var r=this._findComponentDirectiveNames(e);r.length>1&&this._reportError("More than one component: "+r.join(","),t)},e.prototype._assertElementExists=function(e,t){var r=t.name.replace(/^:xhtml:/,"");if(!e&&!this._schemaRegistry.hasElement(r,this._schemas)){var n="'"+r+"' is not a known element:\n"+("1. If '"+r+"' is an Angular component, then verify that it is part of this module.\n")+("2. If '"+r+"' is a Web Component then add \"CUSTOM_ELEMENTS_SCHEMA\" to the '@NgModule.schema' of this component to suppress this message.");this._reportError(n,t.sourceSpan)}},e.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(e,t,r){var n=this,i=this._findComponentDirectiveNames(e);i.length>0&&this._reportError("Components on an embedded template: "+i.join(","),r),t.forEach(function(e){n._reportError("Property binding "+e.name+' not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "directives" section.',r)})},e.prototype._assertAllEventsPublishedByDirectives=function(e,t){var r=this,n=new Set;e.forEach(function(e){StringMapWrapper$1.forEach(e.directive.outputs,function(e){n.add(e)})}),t.forEach(function(e){!isPresent$1(e.target)&&n.has(e.name)||r._reportError("Event binding "+e.fullName+' not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "directives" section.',e.sourceSpan)})},e}(),NonBindableVisitor=function(){function e(){}return e.prototype.visitElement=function(e,t){var r=preparseElement(e);if(r.type===PreparsedElementType.SCRIPT||r.type===PreparsedElementType.STYLE||r.type===PreparsedElementType.STYLESHEET)return null;var n=e.attrs.map(function(e){return[e.name,e.value]}),i=createElementCssSelector(e.name,n),o=t.findNgContentIndex(i),s=visitAll(this,e.children,EMPTY_ELEMENT_CONTEXT);return new ElementAst(e.name,visitAll(this,e.attrs),[],[],[],[],[],(!1),s,o,e.sourceSpan)},e.prototype.visitComment=function(e,t){return null},e.prototype.visitAttribute=function(e,t){return new AttrAst(e.name,e.value,e.sourceSpan)},e.prototype.visitText=function(e,t){var r=t.findNgContentIndex(TEXT_CSS_SELECTOR);return new TextAst(e.value,r,e.sourceSpan)},e.prototype.visitExpansion=function(e,t){return e},e.prototype.visitExpansionCase=function(e,t){return e},e}(),BoundElementOrDirectiveProperty=function(){function e(e,t,r,n){this.name=e,this.expression=t,this.isLiteral=r,this.sourceSpan=n}return e}(),ElementOrDirectiveRef=function(){function e(e,t,r){this.name=e,this.value=t,this.sourceSpan=r}return e}(),ElementContext=function(){function e(e,t,r,n){this.isTemplateElement=e,this._ngContentIndexMatcher=t,this._wildcardNgContentIndex=r,this.providerContext=n}return e.create=function(t,r,n){var i=new SelectorMatcher,o=null,s=r.find(function(e){return e.directive.isComponent});if(s)for(var a=s.directive.template.ngContentSelectors,u=0;u<a.length;u++){var c=a[u];"*"===c?o=u:i.addSelectables(CssSelector.parse(a[u]),u)}return new e(t,i,o,n)},e.prototype.findNgContentIndex=function(e){var t=[];return this._ngContentIndexMatcher.match(e,function(e,r){t.push(r)}),t.sort(),isPresent$1(this._wildcardNgContentIndex)&&t.push(this._wildcardNgContentIndex),t.length>0?t[0]:null},e}(),EMPTY_ELEMENT_CONTEXT=new ElementContext((!0),new SelectorMatcher,null,null),NON_BINDABLE_VISITOR=new NonBindableVisitor,PipeCollector=function(e){function t(){e.apply(this,arguments),this.pipes=new Set}return __extends$19(t,e),t.prototype.visitPipe=function(e,t){return this.pipes.add(e.name),e.exp.visit(this),this.visitAll(e.args,t),null},t}(RecursiveAstVisitor),CompilerConfig=function(){function e(e){var t=void 0===e?{}:e,r=t.renderTypes,n=void 0===r?new DefaultRenderTypes:r,i=t.defaultEncapsulation,o=void 0===i?ViewEncapsulation.Emulated:i,s=t.genDebugInfo,a=t.logBindingUpdate,u=t.useJit,c=void 0===u||u;this.renderTypes=n,this.defaultEncapsulation=o,this._genDebugInfo=s,this._logBindingUpdate=a,this.useJit=c}return Object.defineProperty(e.prototype,"genDebugInfo",{get:function(){return void 0===this._genDebugInfo?isDevMode():this._genDebugInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logBindingUpdate",{get:function(){return void 0===this._logBindingUpdate?isDevMode():this._logBindingUpdate},enumerable:!0,configurable:!0}),e}(),RenderTypes=function(){function e(){}return Object.defineProperty(e.prototype,"renderer",{get:function(){return unimplemented$2()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderText",{get:function(){return unimplemented$2()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderElement",{get:function(){return unimplemented$2()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderComment",{get:function(){return unimplemented$2()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderNode",{get:function(){return unimplemented$2()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderEvent",{get:function(){return unimplemented$2()},enumerable:!0,configurable:!0}),e}(),DefaultRenderTypes=function(){function e(){this.renderText=null,this.renderElement=null,this.renderComment=null,this.renderNode=null,this.renderEvent=null}return Object.defineProperty(e.prototype,"renderer",{get:function(){return resolveIdentifier(Identifiers.Renderer)},enumerable:!0,configurable:!0}),e}(),__extends$30=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},AnimationAst=function(){function e(){this.startTime=0,this.playTime=0}return e}(),AnimationStateAst=function(e){function t(){e.apply(this,arguments)}return __extends$30(t,e),t}(AnimationAst),AnimationEntryAst=function(e){function t(t,r,n){e.call(this),this.name=t,this.stateDeclarations=r,this.stateTransitions=n}return __extends$30(t,e),t.prototype.visit=function(e,t){return e.visitAnimationEntry(this,t)},t}(AnimationAst),AnimationStateDeclarationAst=function(e){function t(t,r){e.call(this),this.stateName=t,this.styles=r}return __extends$30(t,e),t.prototype.visit=function(e,t){return e.visitAnimationStateDeclaration(this,t)},t}(AnimationStateAst),AnimationStateTransitionExpression=function(){function e(e,t){this.fromState=e,this.toState=t}return e}(),AnimationStateTransitionAst=function(e){function t(t,r){e.call(this),this.stateChanges=t,this.animation=r}return __extends$30(t,e),t.prototype.visit=function(e,t){return e.visitAnimationStateTransition(this,t)},t}(AnimationStateAst),AnimationStepAst=function(e){function t(t,r,n,i,o){e.call(this),this.startingStyles=t,this.keyframes=r,this.duration=n,this.delay=i,this.easing=o}return __extends$30(t,e),t.prototype.visit=function(e,t){return e.visitAnimationStep(this,t)},t}(AnimationAst),AnimationStylesAst=function(e){function t(t){e.call(this),this.styles=t}return __extends$30(t,e),t.prototype.visit=function(e,t){return e.visitAnimationStyles(this,t)},t}(AnimationAst),AnimationKeyframeAst=function(e){function t(t,r){e.call(this),this.offset=t,this.styles=r}return __extends$30(t,e),t.prototype.visit=function(e,t){return e.visitAnimationKeyframe(this,t)},t}(AnimationAst),AnimationWithStepsAst=function(e){function t(t){e.call(this),this.steps=t}return __extends$30(t,e),t}(AnimationAst),AnimationGroupAst=function(e){function t(t){e.call(this,t)}return __extends$30(t,e),t.prototype.visit=function(e,t){return e.visitAnimationGroup(this,t)},t}(AnimationWithStepsAst),AnimationSequenceAst=function(e){function t(t){e.call(this,t)}return __extends$30(t,e),t.prototype.visit=function(e,t){return e.visitAnimationSequence(this,t)},t}(AnimationWithStepsAst),Math$4=global$2.Math,StylesCollectionEntry=function(){function e(e,t){this.time=e,this.value=t}return e.prototype.matches=function(e,t){return e==this.time&&t==this.value},e}(),StylesCollection=function(){function e(){this.styles={}}return e.prototype.insertAtTime=function(e,t,r){var n=new StylesCollectionEntry(t,r),i=this.styles[e];isPresent$1(i)||(i=this.styles[e]=[]);for(var o=0,s=i.length-1;s>=0;s--)if(i[s].time<=t){o=s+1;break}ListWrapper$1.insert(i,o,n)},e.prototype.getByIndex=function(e,t){var r=this.styles[e];return isPresent$1(r)?t>=r.length?null:r[t]:null},e.prototype.indexOfAtOrBeforeTime=function(e,t){var r=this.styles[e];if(isPresent$1(r))for(var n=r.length-1;n>=0;n--)if(r[n].time<=t)return n;return null},e}(),__extends$31=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},_INITIAL_KEYFRAME=0,_TERMINAL_KEYFRAME=1,_ONE_SECOND=1e3,AnimationParseError=function(e){function t(t){e.call(this,null,t)}return __extends$31(t,e),t.prototype.toString=function(){return""+this.msg},t}(ParseError),ParsedAnimationResult=function(){function e(e,t){this.ast=e,this.errors=t}return e}(),_AnimationTimings=function(){function e(e,t,r){this.duration=e,this.delay=t,this.easing=r}return e}(),animationCompilationCache=new Map,CompiledAnimationTriggerResult=function(){function e(e,t,r,n,i){this.name=e,this.statesMapStatement=t,this.statesVariableName=r,this.fnStatement=n,this.fnVariable=i}return e}(),CompiledComponentAnimationResult=function(){function e(e,t){this.outputs=e,this.triggers=t}return e}(),AnimationCompiler=function(){function e(){}return e.prototype.compileComponent=function(e,t){var r=[],n=[],i={},o=e.type.name;e.template.animations.forEach(function(e){var t=parseAnimationEntry(e),s=e.name;if(t.errors.length>0){var a='Unable to parse the animation sequence for "'+s+'" due to the following errors:';t.errors.forEach(function(e){a+="\n-- "+e.msg}),n.push(a)}if(i[s])n.push('The animation trigger "'+s+'" has already been registered on "'+o+'"');else{var u=o+"_"+e.name,c=new _AnimationBuilder(s,u),l=c.build(t.ast);r.push(l),i[e.name]=l}});var s=_validateAnimationProperties(r,t);if(s.errors.forEach(function(e){n.push(e.msg)}),n.length>0){var a="Animation parsing for "+e.type.name+" has failed due to the following errors:";throw n.forEach(function(e){return a+="\n- "+e}),new Error(a)}return animationCompilationCache.set(e,r),new CompiledComponentAnimationResult(s.outputs,r)},e}(),_ANIMATION_FACTORY_ELEMENT_VAR=variable("element"),_ANIMATION_DEFAULT_STATE_VAR=variable("defaultStateStyles"),_ANIMATION_FACTORY_VIEW_VAR=variable("view"),_ANIMATION_FACTORY_RENDERER_VAR=_ANIMATION_FACTORY_VIEW_VAR.prop("renderer"),_ANIMATION_CURRENT_STATE_VAR=variable("currentState"),_ANIMATION_NEXT_STATE_VAR=variable("nextState"),_ANIMATION_PLAYER_VAR=variable("player"),_ANIMATION_TIME_VAR=variable("totalTime"),_ANIMATION_START_STATE_STYLES_VAR=variable("startStateStyles"),_ANIMATION_END_STATE_STYLES_VAR=variable("endStateStyles"),_ANIMATION_COLLECTED_STYLES=variable("collectedStyles"),EMPTY_MAP$2=literalMap([]),_AnimationBuilder=function(){function e(e,t){this.animationName=e,this._fnVarName=t+"_factory",this._statesMapVarName=t+"_states",this._statesMapVar=variable(this._statesMapVarName)}return e.prototype.visitAnimationStyles=function(e,t){var r=[];return t.isExpectingFirstStyleStep&&(r.push(_ANIMATION_START_STATE_STYLES_VAR),t.isExpectingFirstStyleStep=!1),e.styles.forEach(function(e){r.push(literalMap(StringMapWrapper$1.keys(e).map(function(t){return[t,literal(e[t])]})))}),importExpr(resolveIdentifier(Identifiers.AnimationStyles)).instantiate([importExpr(resolveIdentifier(Identifiers.collectAndResolveStyles)).callFn([_ANIMATION_COLLECTED_STYLES,literalArr(r)])])},e.prototype.visitAnimationKeyframe=function(e,t){return importExpr(resolveIdentifier(Identifiers.AnimationKeyframe)).instantiate([literal(e.offset),e.styles.visit(this,t)])},e.prototype.visitAnimationStep=function(e,t){var r=this;if(t.endStateAnimateStep===e)return this._visitEndStateAnimation(e,t);var n=e.startingStyles.visit(this,t),i=e.keyframes.map(function(e){return e.visit(r,t)});return this._callAnimateMethod(e,n,literalArr(i),t)},e.prototype._visitEndStateAnimation=function(e,t){var r=this,n=e.startingStyles.visit(this,t),i=e.keyframes.map(function(e){return e.visit(r,t)}),o=importExpr(resolveIdentifier(Identifiers.balanceAnimationKeyframes)).callFn([_ANIMATION_COLLECTED_STYLES,_ANIMATION_END_STATE_STYLES_VAR,literalArr(i)]);return this._callAnimateMethod(e,n,o,t)},e.prototype._callAnimateMethod=function(e,t,r,n){return n.totalTransitionTime+=e.duration+e.delay,_ANIMATION_FACTORY_RENDERER_VAR.callMethod("animate",[_ANIMATION_FACTORY_ELEMENT_VAR,t,r,literal(e.duration),literal(e.delay),literal(e.easing)])},e.prototype.visitAnimationSequence=function(e,t){var r=this,n=e.steps.map(function(e){return e.visit(r,t)});return importExpr(resolveIdentifier(Identifiers.AnimationSequencePlayer)).instantiate([literalArr(n)])},e.prototype.visitAnimationGroup=function(e,t){var r=this,n=e.steps.map(function(e){return e.visit(r,t)});return importExpr(resolveIdentifier(Identifiers.AnimationGroupPlayer)).instantiate([literalArr(n)]);
},e.prototype.visitAnimationStateDeclaration=function(e,t){var r={};_getStylesArray(e).forEach(function(e){StringMapWrapper$1.forEach(e,function(e,t){r[t]=e})}),t.stateMap.registerState(e.stateName,r)},e.prototype.visitAnimationStateTransition=function(e,t){var r=e.animation.steps,n=r[r.length-1];_isEndStateAnimateStep(n)&&(t.endStateAnimateStep=n),t.totalTransitionTime=0,t.isExpectingFirstStyleStep=!0;var i=[];e.stateChanges.forEach(function(e){i.push(_compareToAnimationStateExpr(_ANIMATION_CURRENT_STATE_VAR,e.fromState).and(_compareToAnimationStateExpr(_ANIMATION_NEXT_STATE_VAR,e.toState))),e.fromState!=ANY_STATE$1&&t.stateMap.registerState(e.fromState),e.toState!=ANY_STATE$1&&t.stateMap.registerState(e.toState)});var o=e.animation.visit(this,t),s=i.reduce(function(e,t){return e.or(t)}),a=_ANIMATION_PLAYER_VAR.equals(NULL_EXPR).and(s),u=_ANIMATION_PLAYER_VAR.set(o).toStmt(),c=_ANIMATION_TIME_VAR.set(literal(t.totalTransitionTime)).toStmt();return new IfStmt(a,[u,c])},e.prototype.visitAnimationEntry=function(e,t){var r=this;e.stateDeclarations.forEach(function(e){return e.visit(r,t)}),t.stateMap.registerState(DEFAULT_STATE$1,{});var n=[];n.push(_ANIMATION_FACTORY_VIEW_VAR.callMethod("cancelActiveAnimation",[_ANIMATION_FACTORY_ELEMENT_VAR,literal(this.animationName),_ANIMATION_NEXT_STATE_VAR.equals(literal(EMPTY_ANIMATION_STATE))]).toStmt()),n.push(_ANIMATION_COLLECTED_STYLES.set(EMPTY_MAP$2).toDeclStmt()),n.push(_ANIMATION_PLAYER_VAR.set(NULL_EXPR).toDeclStmt()),n.push(_ANIMATION_TIME_VAR.set(literal(0)).toDeclStmt()),n.push(_ANIMATION_DEFAULT_STATE_VAR.set(this._statesMapVar.key(literal(DEFAULT_STATE$1))).toDeclStmt()),n.push(_ANIMATION_START_STATE_STYLES_VAR.set(this._statesMapVar.key(_ANIMATION_CURRENT_STATE_VAR)).toDeclStmt()),n.push(new IfStmt(_ANIMATION_START_STATE_STYLES_VAR.equals(NULL_EXPR),[_ANIMATION_START_STATE_STYLES_VAR.set(_ANIMATION_DEFAULT_STATE_VAR).toStmt()])),n.push(_ANIMATION_END_STATE_STYLES_VAR.set(this._statesMapVar.key(_ANIMATION_NEXT_STATE_VAR)).toDeclStmt()),n.push(new IfStmt(_ANIMATION_END_STATE_STYLES_VAR.equals(NULL_EXPR),[_ANIMATION_END_STATE_STYLES_VAR.set(_ANIMATION_DEFAULT_STATE_VAR).toStmt()]));var i=importExpr(resolveIdentifier(Identifiers.renderStyles));return n.push(i.callFn([_ANIMATION_FACTORY_ELEMENT_VAR,_ANIMATION_FACTORY_RENDERER_VAR,importExpr(resolveIdentifier(Identifiers.clearStyles)).callFn([_ANIMATION_START_STATE_STYLES_VAR])]).toStmt()),e.stateTransitions.forEach(function(e){return n.push(e.visit(r,t))}),n.push(new IfStmt(_ANIMATION_PLAYER_VAR.equals(NULL_EXPR),[_ANIMATION_PLAYER_VAR.set(importExpr(resolveIdentifier(Identifiers.NoOpAnimationPlayer)).instantiate([])).toStmt()])),n.push(_ANIMATION_PLAYER_VAR.callMethod("onDone",[fn([],[i.callFn([_ANIMATION_FACTORY_ELEMENT_VAR,_ANIMATION_FACTORY_RENDERER_VAR,importExpr(resolveIdentifier(Identifiers.prepareFinalAnimationStyles)).callFn([_ANIMATION_START_STATE_STYLES_VAR,_ANIMATION_END_STATE_STYLES_VAR])]).toStmt()])]).toStmt()),n.push(_ANIMATION_FACTORY_VIEW_VAR.callMethod("queueAnimation",[_ANIMATION_FACTORY_ELEMENT_VAR,literal(this.animationName),_ANIMATION_PLAYER_VAR,_ANIMATION_TIME_VAR,_ANIMATION_CURRENT_STATE_VAR,_ANIMATION_NEXT_STATE_VAR]).toStmt()),fn([new FnParam(_ANIMATION_FACTORY_VIEW_VAR.name,importType(resolveIdentifier(Identifiers.AppView),[DYNAMIC_TYPE])),new FnParam(_ANIMATION_FACTORY_ELEMENT_VAR.name,DYNAMIC_TYPE),new FnParam(_ANIMATION_CURRENT_STATE_VAR.name,DYNAMIC_TYPE),new FnParam(_ANIMATION_NEXT_STATE_VAR.name,DYNAMIC_TYPE)],n)},e.prototype.build=function(e){var t=new _AnimationBuilderContext,r=e.visit(this,t).toDeclStmt(this._fnVarName),n=variable(this._fnVarName),i=[];StringMapWrapper$1.forEach(t.stateMap.states,function(e,t){var r=EMPTY_MAP$2;if(isPresent$1(e)){var n=[];StringMapWrapper$1.forEach(e,function(e,t){n.push([t,literal(e)])}),r=literalMap(n)}i.push([t,r])});var o=this._statesMapVar.set(literalMap(i)).toDeclStmt();return new CompiledAnimationTriggerResult(this.animationName,o,this._statesMapVarName,r,n)},e}(),_AnimationBuilderContext=function(){function e(){this.stateMap=new _AnimationBuilderStateMap,this.endStateAnimateStep=null,this.isExpectingFirstStyleStep=!1,this.totalTransitionTime=0}return e}(),_AnimationBuilderStateMap=function(){function e(){this._states={}}return Object.defineProperty(e.prototype,"states",{get:function(){return this._states},enumerable:!0,configurable:!0}),e.prototype.registerState=function(e,t){void 0===t&&(t=null);var r=this._states[e];isBlank$1(r)&&(this._states[e]=t)},e}(),AnimationPropertyValidationOutput=function(){function e(e,t){this.outputs=e,this.errors=t}return e}(),_AnimationTemplatePropertyVisitor=function(){function e(e){this.errors=[],this.outputs=[],this._animationRegistry=this._buildCompileAnimationLookup(e)}return e.prototype._buildCompileAnimationLookup=function(e){var t={};return e.forEach(function(e){t[e.name]=!0}),t},e.prototype._validateAnimationInputOutputPairs=function(e,t,r,n){var i=this,o={};e.forEach(function(e){if(e.type==PropertyBindingType.Animation){var t=e.name;isPresent$1(r[t])?o[t]=!0:i.errors.push(new AnimationParseError("Couldn't find an animation entry for "+t))}}),t.forEach(function(e){if("@"==e.name[0]){var t=parseAnimationOutputName(e.name.substr(1),i.errors),s=t.name,a=t.phase;r[s]?o[s]?i.outputs.push(t):i.errors.push(new AnimationParseError("Unable to listen on (@"+s+"."+a+") because the animation trigger [@"+s+"] isn't being used on the same element")):i.errors.push(new AnimationParseError("Couldn't find the corresponding "+(n?"host-level ":"")+"animation trigger definition for (@"+s+")"))}})},e.prototype.visitElement=function(e,t){this._validateAnimationInputOutputPairs(e.inputs,e.outputs,this._animationRegistry,!1);var r=e.directives.find(function(e){return e.directive.isComponent});if(r){var n=animationCompilationCache.get(r.directive);n&&this._validateAnimationInputOutputPairs(r.hostProperties,r.hostEvents,this._buildCompileAnimationLookup(n),!0)}templateVisitAll(this,e.children)},e.prototype.visitEmbeddedTemplate=function(e,t){templateVisitAll(this,e.children)},e.prototype.visitEvent=function(e,t){},e.prototype.visitBoundText=function(e,t){},e.prototype.visitText=function(e,t){},e.prototype.visitNgContent=function(e,t){},e.prototype.visitAttr=function(e,t){},e.prototype.visitDirective=function(e,t){},e.prototype.visitReference=function(e,t){},e.prototype.visitVariable=function(e,t){},e.prototype.visitDirectiveProperty=function(e,t){},e.prototype.visitElementProperty=function(e,t){},e}(),_ValueOutputAstTransformer=function(){function e(){}return e.prototype.visitArray=function(e,t){var r=this;return literalArr(e.map(function(e){return visitValue(e,r,null)}),t)},e.prototype.visitStringMap=function(e,t){var r=this,n=[];return StringMapWrapper$1.forEach(e,function(e,t){n.push([t,visitValue(e,r,null)])}),literalMap(n,t)},e.prototype.visitPrimitive=function(e,t){return literal(e,t)},e.prototype.visitOther=function(e,t){if(e instanceof CompileIdentifierMetadata)return importExpr(e);if(e instanceof Expression)return e;throw new Error("Illegal state: Don't now how to compile value "+e)},e}(),_DebugState=function(){function e(e,t){this.nodeIndex=e,this.sourceAst=t}return e}(),NULL_DEBUG_STATE=new _DebugState(null,null),CompileMethod=function(){function e(e){this._view=e,this._newState=NULL_DEBUG_STATE,this._currState=NULL_DEBUG_STATE,this._bodyStatements=[],this._debugEnabled=this._view.genConfig.genDebugInfo}return e.prototype._updateDebugContextIfNeeded=function(){if(this._newState.nodeIndex!==this._currState.nodeIndex||this._newState.sourceAst!==this._currState.sourceAst){var e=this._updateDebugContext(this._newState);isPresent$1(e)&&this._bodyStatements.push(e.toStmt())}},e.prototype._updateDebugContext=function(e){if(this._currState=this._newState=e,this._debugEnabled){var t=isPresent$1(e.sourceAst)?e.sourceAst.sourceSpan.start:null;return THIS_EXPR.callMethod("debug",[literal(e.nodeIndex),isPresent$1(t)?literal(t.line):NULL_EXPR,isPresent$1(t)?literal(t.col):NULL_EXPR])}return null},e.prototype.resetDebugInfoExpr=function(e,t){var r=this._updateDebugContext(new _DebugState(e,t));return isPresent$1(r)?r:NULL_EXPR},e.prototype.resetDebugInfo=function(e,t){this._newState=new _DebugState(e,t)},e.prototype.addStmt=function(e){this._updateDebugContextIfNeeded(),this._bodyStatements.push(e)},e.prototype.addStmts=function(e){this._updateDebugContextIfNeeded(),ListWrapper$1.addAll(this._bodyStatements,e)},e.prototype.finish=function(){return this._bodyStatements},e.prototype.isEmpty=function(){return 0===this._bodyStatements.length},e}(),ViewQueryValues=function(){function e(e,t){this.view=e,this.values=t}return e}(),CompileQuery=function(){function e(e,t,r,n){this.meta=e,this.queryList=t,this.ownerDirectiveExpression=r,this.view=n,this._values=new ViewQueryValues(n,[])}return e.prototype.addValue=function(e,t){for(var r=t,n=[];isPresent$1(r)&&r!==this.view;){var i=r.declarationElement;n.unshift(i),r=i.view}var o=getPropertyInView(this.queryList,t,this.view),s=this._values;n.forEach(function(e){var t=s.values.length>0?s.values[s.values.length-1]:null;if(t instanceof ViewQueryValues&&t.view===e.embeddedView)s=t;else{var r=new ViewQueryValues(e.embeddedView,[]);s.values.push(r),s=r}}),s.values.push(e),n.length>0&&t.dirtyParentQueriesMethod.addStmt(o.callMethod("setDirty",[]).toStmt())},e.prototype._isStatic=function(){return!this._values.values.some(function(e){return e instanceof ViewQueryValues})},e.prototype.afterChildren=function(e,t){var r=createQueryValues(this._values),n=[this.queryList.callMethod("reset",[literalArr(r)]).toStmt()];if(isPresent$1(this.ownerDirectiveExpression)){var i=this.meta.first?this.queryList.prop("first"):this.queryList;n.push(this.ownerDirectiveExpression.prop(this.meta.propertyName).set(i).toStmt())}this.meta.first||n.push(this.queryList.callMethod("notifyOnChanges",[]).toStmt()),this.meta.first&&this._isStatic()?e.addStmts(n):t.addStmt(new IfStmt(this.queryList.prop("dirty"),n))},e}(),ViewTypeEnum=function(){function e(){}return e.fromValue=function(e){var t=resolveIdentifier(Identifiers.ViewType);switch(e){case ViewType$1.HOST:return _enumExpression(t,"HOST");case ViewType$1.COMPONENT:return _enumExpression(t,"COMPONENT");case ViewType$1.EMBEDDED:return _enumExpression(t,"EMBEDDED");default:throw Error("Inavlid ViewType value: "+e)}},e}(),ViewEncapsulationEnum=function(){function e(){}return e.fromValue=function(e){var t=resolveIdentifier(Identifiers.ViewEncapsulation);switch(e){case ViewEncapsulation.Emulated:return _enumExpression(t,"Emulated");case ViewEncapsulation.Native:return _enumExpression(t,"Native");case ViewEncapsulation.None:return _enumExpression(t,"None");default:throw Error("Inavlid ViewEncapsulation value: "+e)}},e}(),ChangeDetectorStatusEnum=function(){function e(){}return e.fromValue=function(e){var t=resolveIdentifier(Identifiers.ChangeDetectorStatus);switch(e){case ChangeDetectorStatus$1.CheckOnce:return _enumExpression(t,"CheckOnce");case ChangeDetectorStatus$1.Checked:return _enumExpression(t,"Checked");case ChangeDetectorStatus$1.CheckAlways:return _enumExpression(t,"CheckAlways");case ChangeDetectorStatus$1.Detached:return _enumExpression(t,"Detached");case ChangeDetectorStatus$1.Errored:return _enumExpression(t,"Errored");case ChangeDetectorStatus$1.Destroyed:return _enumExpression(t,"Destroyed");default:throw Error("Inavlid ChangeDetectorStatus value: "+e)}},e}(),ViewConstructorVars=function(){function e(){}return e.viewUtils=variable("viewUtils"),e.parentInjector=variable("parentInjector"),e.declarationEl=variable("declarationEl"),e}(),ViewProperties=function(){function e(){}return e.renderer=THIS_EXPR.prop("renderer"),e.projectableNodes=THIS_EXPR.prop("projectableNodes"),e.viewUtils=THIS_EXPR.prop("viewUtils"),e}(),EventHandlerVars=function(){function e(){}return e.event=variable("$event"),e}(),InjectMethodVars=function(){function e(){}return e.token=variable("token"),e.requestNodeIndex=variable("requestNodeIndex"),e.notFoundResult=variable("notFoundResult"),e}(),DetectChangesVars=function(){function e(){}return e.throwOnChange=variable("throwOnChange"),e.changes=variable("changes"),e.changed=variable("changed"),e.valUnwrapper=variable("valUnwrapper"),e}(),__extends$32=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},CompileNode=function(){function e(e,t,r,n,i){this.parent=e,this.view=t,this.nodeIndex=r,this.renderNode=n,this.sourceAst=i}return e.prototype.isNull=function(){return isBlank$1(this.renderNode)},e.prototype.isRootElement=function(){return this.view!=this.parent.view},e}(),CompileElement=function(e){function t(t,r,n,i,o,s,a,u,c,l,p){var h=this;e.call(this,t,r,n,i,o),this.component=s,this._directives=a,this._resolvedProvidersArray=u,this.hasViewContainer=c,this.hasEmbeddedView=l,this._compViewExpr=null,this.instances=new Map,this._queryCount=0,this._queries=new Map,this._componentConstructorViewQueryLists=[],this.contentNodesByNgContentIndex=null,this.referenceTokens={},p.forEach(function(e){return h.referenceTokens[e.name]=e.value}),this.elementRef=importExpr(resolveIdentifier(Identifiers.ElementRef)).instantiate([this.renderNode]),this.instances.set(resolveIdentifierToken(Identifiers.ElementRef).reference,this.elementRef),this.injector=THIS_EXPR.callMethod("injector",[literal(this.nodeIndex)]),this.instances.set(resolveIdentifierToken(Identifiers.Injector).reference,this.injector),this.instances.set(resolveIdentifierToken(Identifiers.Renderer).reference,THIS_EXPR.prop("renderer")),(this.hasViewContainer||this.hasEmbeddedView||isPresent$1(this.component))&&this._createAppElement()}return __extends$32(t,e),t.createNull=function(){return new t(null,null,null,null,null,null,[],[],(!1),(!1),[])},t.prototype._createAppElement=function(){var e="_appEl_"+this.nodeIndex,t=this.isRootElement()?null:this.parent.nodeIndex;this.view.fields.push(new ClassField(e,importType(resolveIdentifier(Identifiers.AppElement)),[StmtModifier.Private]));var r=THIS_EXPR.prop(e).set(importExpr(resolveIdentifier(Identifiers.AppElement)).instantiate([literal(this.nodeIndex),literal(t),THIS_EXPR,this.renderNode])).toStmt();this.view.createMethod.addStmt(r),this.appElement=THIS_EXPR.prop(e),this.instances.set(resolveIdentifierToken(Identifiers.AppElement).reference,this.appElement)},t.prototype.createComponentFactoryResolver=function(e){if(e&&0!==e.length){var t=importExpr(resolveIdentifier(Identifiers.CodegenComponentFactoryResolver)).instantiate([literalArr(e.map(function(e){return importExpr(e)})),injectFromViewParentInjector(resolveIdentifierToken(Identifiers.ComponentFactoryResolver),!1)]),r=new CompileProviderMetadata({token:resolveIdentifierToken(Identifiers.ComponentFactoryResolver),useValue:t});this._resolvedProvidersArray.unshift(new ProviderAst(r.token,(!1),(!0),[r],ProviderAstType.PrivateService,[],this.sourceAst.sourceSpan))}},t.prototype.setComponentView=function(e){this._compViewExpr=e,this.contentNodesByNgContentIndex=ListWrapper$1.createFixedSize(this.component.template.ngContentSelectors.length);for(var t=0;t<this.contentNodesByNgContentIndex.length;t++)this.contentNodesByNgContentIndex[t]=[]},t.prototype.setEmbeddedView=function(e){if(this.embeddedView=e,isPresent$1(e)){var t=importExpr(resolveIdentifier(Identifiers.TemplateRef_)).instantiate([this.appElement,this.embeddedView.viewFactory]),r=new CompileProviderMetadata({token:resolveIdentifierToken(Identifiers.TemplateRef),useValue:t});this._resolvedProvidersArray.unshift(new ProviderAst(r.token,(!1),(!0),[r],ProviderAstType.Builtin,[],this.sourceAst.sourceSpan))}},t.prototype.beforeChildren=function(){var e=this;this.hasViewContainer&&this.instances.set(resolveIdentifierToken(Identifiers.ViewContainerRef).reference,this.appElement.prop("vcRef")),this._resolvedProviders=new Map,this._resolvedProvidersArray.forEach(function(t){return e._resolvedProviders.set(t.token.reference,t)}),MapWrapper$1.values(this._resolvedProviders).forEach(function(t){var r=t.providers.map(function(r){if(isPresent$1(r.useExisting))return e._getDependency(t.providerType,new CompileDiDependencyMetadata({token:r.useExisting}));if(isPresent$1(r.useFactory)){var n=isPresent$1(r.deps)?r.deps:r.useFactory.diDeps,i=n.map(function(r){return e._getDependency(t.providerType,r)});return importExpr(r.useFactory).callFn(i)}if(isPresent$1(r.useClass)){var n=isPresent$1(r.deps)?r.deps:r.useClass.diDeps,i=n.map(function(r){return e._getDependency(t.providerType,r)});return importExpr(r.useClass).instantiate(i,importType(r.useClass))}return convertValueToOutputAst(r.useValue)}),n="_"+t.token.name+"_"+e.nodeIndex+"_"+e.instances.size,i=createProviderProperty(n,t,r,t.multiProvider,t.eager,e);e.instances.set(t.token.reference,i)});for(var t=0;t<this._directives.length;t++){var r=this._directives[t],n=this.instances.get(identifierToken(r.type).reference);r.queries.forEach(function(t){e._addQuery(t,n)})}var i=[];if(MapWrapper$1.values(this._resolvedProviders).forEach(function(t){var r=e._getQueriesFor(t.token);ListWrapper$1.addAll(i,r.map(function(e){return new _QueryWithRead(e,t.token)}))}),StringMapWrapper$1.forEach(this.referenceTokens,function(t,r){var n,o=e.referenceTokens[r];n=isPresent$1(o)?e.instances.get(o.reference):e.renderNode,e.view.locals.set(r,n);var s=new CompileTokenMetadata({value:r});ListWrapper$1.addAll(i,e._getQueriesFor(s).map(function(e){return new _QueryWithRead(e,s)}))}),i.forEach(function(t){var r;if(isPresent$1(t.read.identifier))r=e.instances.get(t.read.reference);else{var n=e.referenceTokens[t.read.value];r=isPresent$1(n)?e.instances.get(n.reference):e.elementRef}isPresent$1(r)&&t.query.addValue(r,e.view)}),isPresent$1(this.component)){var o=isPresent$1(this.component)?literalArr(this._componentConstructorViewQueryLists):NULL_EXPR,s=isPresent$1(this.getComponent())?this.getComponent():NULL_EXPR;this.view.createMethod.addStmt(this.appElement.callMethod("initComponent",[s,o,this._compViewExpr]).toStmt())}},t.prototype.afterChildren=function(e){var t=this;MapWrapper$1.values(this._resolvedProviders).forEach(function(r){var n=t.instances.get(r.token.reference),i=r.providerType===ProviderAstType.PrivateService?0:e;t.view.injectorGetMethod.addStmt(createInjectInternalCondition(t.nodeIndex,i,r,n))}),MapWrapper$1.values(this._queries).forEach(function(e){return e.forEach(function(e){return e.afterChildren(t.view.createMethod,t.view.updateContentQueriesMethod)})})},t.prototype.addContentNode=function(e,t){this.contentNodesByNgContentIndex[e].push(t)},t.prototype.getComponent=function(){return isPresent$1(this.component)?this.instances.get(identifierToken(this.component.type).reference):null},t.prototype.getProviderTokens=function(){return MapWrapper$1.values(this._resolvedProviders).map(function(e){return createDiTokenExpression(e.token)})},t.prototype._getQueriesFor=function(e){for(var t,r=[],n=this,i=0;!n.isNull();)t=n._queries.get(e.reference),isPresent$1(t)&&ListWrapper$1.addAll(r,t.filter(function(e){return e.meta.descendants||i<=1})),n._directives.length>0&&i++,n=n.parent;return t=this.view.componentView.viewQueries.get(e.reference),isPresent$1(t)&&ListWrapper$1.addAll(r,t),r},t.prototype._addQuery=function(e,t){var r="_query_"+e.selectors[0].name+"_"+this.nodeIndex+"_"+this._queryCount++,n=createQueryList(e,t,r,this.view),i=new CompileQuery(e,n,t,this.view);return addQueryToTokenMap(this._queries,i),i},t.prototype._getLocalDependency=function(e,t){var r=null;if(isBlank$1(r)&&isPresent$1(t.query)&&(r=this._addQuery(t.query,null).queryList),isBlank$1(r)&&isPresent$1(t.viewQuery)&&(r=createQueryList(t.viewQuery,null,"_viewQuery_"+t.viewQuery.selectors[0].name+"_"+this.nodeIndex+"_"+this._componentConstructorViewQueryLists.length,this.view),this._componentConstructorViewQueryLists.push(r)),isPresent$1(t.token)){if(isBlank$1(r)&&t.token.reference===resolveIdentifierToken(Identifiers.ChangeDetectorRef).reference)return e===ProviderAstType.Component?this._compViewExpr.prop("ref"):getPropertyInView(THIS_EXPR.prop("ref"),this.view,this.view.componentView);if(isBlank$1(r)){var n=this._resolvedProviders.get(t.token.reference);if(n&&(e===ProviderAstType.Directive||e===ProviderAstType.PublicService)&&n.providerType===ProviderAstType.PrivateService)return null;r=this.instances.get(t.token.reference)}}return r},t.prototype._getDependency=function(e,t){var r=this,n=null;for(t.isValue&&(n=literal(t.value)),isBlank$1(n)&&!t.isSkipSelf&&(n=this._getLocalDependency(e,t));isBlank$1(n)&&!r.parent.isNull();)r=r.parent,n=r._getLocalDependency(ProviderAstType.PublicService,new CompileDiDependencyMetadata({token:t.token}));return isBlank$1(n)&&(n=injectFromViewParentInjector(t.token,t.isOptional)),isBlank$1(n)&&(n=NULL_EXPR),getPropertyInView(n,this.view,r.view)},t}(CompileNode),_QueryWithRead=function(){function e(e,t){this.query=e,this.read=isPresent$1(e.meta.read)?e.meta.read:t}return e}(),CompilePipe=function(){function e(e,t){var r=this;this.view=e,this.meta=t,this._purePipeProxyCount=0,this.instance=THIS_EXPR.prop("_pipe_"+t.name+"_"+e.pipeCount++);var n=this.meta.type.diDeps.map(function(e){return e.token.reference===resolveIdentifierToken(Identifiers.ChangeDetectorRef).reference?getPropertyInView(THIS_EXPR.prop("ref"),r.view,r.view.componentView):injectFromViewParentInjector(e.token,!1)});this.view.fields.push(new ClassField(this.instance.name,importType(this.meta.type))),this.view.createMethod.resetDebugInfo(null,null),this.view.createMethod.addStmt(THIS_EXPR.prop(this.instance.name).set(importExpr(this.meta.type).instantiate(n)).toStmt())}return e.call=function(t,r,n){var i,o=t.componentView,s=_findPipeMeta(o,r);return s.pure?(i=o.purePipes.get(r),isBlank$1(i)&&(i=new e(o,s),o.purePipes.set(r,i),o.pipes.push(i))):(i=new e(t,s),t.pipes.push(i)),i._call(t,n)},Object.defineProperty(e.prototype,"pure",{get:function(){return this.meta.pure},enumerable:!0,configurable:!0}),e.prototype._call=function(e,t){if(this.meta.pure){var r=THIS_EXPR.prop(this.instance.name+"_"+this._purePipeProxyCount++),n=getPropertyInView(this.instance,e,this.view);return createPureProxy(n.prop("transform").callMethod(BuiltinMethod.Bind,[n]),t.length,r,e),importExpr(resolveIdentifier(Identifiers.castByValue)).callFn([r,n.prop("transform")]).callFn(t)}return getPropertyInView(this.instance,e,this.view).callMethod("transform",t)},e}(),CompileView=function(){function e(e,t,r,n,i,o,s,a){var u=this;this.component=e,this.genConfig=t,this.pipeMetas=r,this.styles=n,this.animations=i,this.viewIndex=o,this.declarationElement=s,this.templateVariableBindings=a,this.nodes=[],this.rootNodesOrAppElements=[],this.bindings=[],this.classStatements=[],this.eventHandlerMethods=[],this.fields=[],this.getters=[],this.disposables=[],this.subscriptions=[],this.purePipes=new Map,this.pipes=[],this.locals=new Map,this.literalArrayCount=0,this.literalMapCount=0,this.pipeCount=0,this.createMethod=new CompileMethod(this),this.injectorGetMethod=new CompileMethod(this),this.updateContentQueriesMethod=new CompileMethod(this),this.dirtyParentQueriesMethod=new CompileMethod(this),this.updateViewQueriesMethod=new CompileMethod(this),this.detectChangesInInputsMethod=new CompileMethod(this),this.detectChangesRenderPropertiesMethod=new CompileMethod(this),this.afterContentLifecycleCallbacksMethod=new CompileMethod(this),this.afterViewLifecycleCallbacksMethod=new CompileMethod(this),this.destroyMethod=new CompileMethod(this),this.detachMethod=new CompileMethod(this),this.viewType=getViewType(e,o),this.className="_View_"+e.type.name+o,this.classType=importType(new CompileIdentifierMetadata({name:this.className})),this.viewFactory=variable(getViewFactoryName(e,o)),this.viewType===ViewType$1.COMPONENT||this.viewType===ViewType$1.HOST?this.componentView=this:this.componentView=this.declarationElement.view.componentView,this.componentContext=getPropertyInView(THIS_EXPR.prop("context"),this,this.componentView);var c=new Map;if(this.viewType===ViewType$1.COMPONENT){var l=THIS_EXPR.prop("context");ListWrapper$1.forEachWithIndex(this.component.viewQueries,function(e,t){var r="_viewQuery_"+e.selectors[0].name+"_"+t,n=createQueryList(e,l,r,u),i=new CompileQuery(e,n,l,u);addQueryToTokenMap(c,i)});var p=0;this.component.type.diDeps.forEach(function(e){if(isPresent$1(e.viewQuery)){var t=THIS_EXPR.prop("declarationAppElement").prop("componentConstructorViewQueries").key(literal(p++)),r=new CompileQuery(e.viewQuery,t,null,u);addQueryToTokenMap(c,r)}})}this.viewQueries=c,a.forEach(function(e){u.locals.set(e[1],THIS_EXPR.prop("context").prop(e[0]))}),this.declarationElement.isNull()||this.declarationElement.setEmbeddedView(this)}return e.prototype.callPipe=function(e,t,r){return CompilePipe.call(this,e,[t].concat(r))},e.prototype.getLocal=function(e){if(e==EventHandlerVars.event.name)return EventHandlerVars.event;for(var t=this,r=t.locals.get(e);isBlank$1(r)&&isPresent$1(t.declarationElement.view);)t=t.declarationElement.view,r=t.locals.get(e);return isPresent$1(r)?getPropertyInView(r,this,t):null},e.prototype.createLiteralArray=function(e){if(0===e.length)return importExpr(resolveIdentifier(Identifiers.EMPTY_ARRAY));for(var t=THIS_EXPR.prop("_arr_"+this.literalArrayCount++),r=[],n=[],i=0;i<e.length;i++){var o="p"+i;r.push(new FnParam(o)),n.push(variable(o))}return createPureProxy(fn(r,[new ReturnStatement(literalArr(n))],new ArrayType(DYNAMIC_TYPE)),e.length,t,this),t.callFn(e)},e.prototype.createLiteralMap=function(e){if(0===e.length)return importExpr(resolveIdentifier(Identifiers.EMPTY_MAP));for(var t=THIS_EXPR.prop("_map_"+this.literalMapCount++),r=[],n=[],i=[],o=0;o<e.length;o++){var s="p"+o;r.push(new FnParam(s)),n.push([e[o][0],variable(s)]),i.push(e[o][1])}return createPureProxy(fn(r,[new ReturnStatement(literalMap(n))],new MapType(DYNAMIC_TYPE)),e.length,t,this),t.callFn(i)},e.prototype.afterNodes=function(){var e=this;MapWrapper$1.values(this.viewQueries).forEach(function(t){return t.forEach(function(t){return t.afterChildren(e.createMethod,e.updateViewQueriesMethod)})})},e}(),CompileBinding=function(){function e(e,t){this.node=e,this.sourceAst=t}return e}(),ExpressionWithWrappedValueInfo=function(){function e(e,t,r){this.expression=e,this.needsValueUnwrapper=t,this.temporaryCount=r}return e}(),_Mode;!function(e){e[e.Statement=0]="Statement",e[e.Expression=1]="Expression"}(_Mode||(_Mode={}));var _AstToIrVisitor=function(){function e(e,t,r,n){this._nameResolver=e,this._implicitReceiver=t,this._valueUnwrapper=r,this.bindingIndex=n,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.needsValueUnwrapper=!1,this.temporaryCount=0}return e.prototype.visitBinary=function(e,t){var r;switch(e.operation){case"+":r=BinaryOperator.Plus;break;case"-":r=BinaryOperator.Minus;break;case"*":r=BinaryOperator.Multiply;break;case"/":r=BinaryOperator.Divide;break;case"%":r=BinaryOperator.Modulo;break;case"&&":r=BinaryOperator.And;break;case"||":r=BinaryOperator.Or;break;case"==":r=BinaryOperator.Equals;break;case"!=":r=BinaryOperator.NotEquals;break;case"===":r=BinaryOperator.Identical;break;case"!==":r=BinaryOperator.NotIdentical;break;case"<":r=BinaryOperator.Lower;break;case">":r=BinaryOperator.Bigger;break;case"<=":r=BinaryOperator.LowerEquals;break;case">=":r=BinaryOperator.BiggerEquals;break;default:throw new Error("Unsupported operation "+e.operation)}return convertToStatementIfNeeded(t,new BinaryOperatorExpr(r,this.visit(e.left,_Mode.Expression),this.visit(e.right,_Mode.Expression)))},e.prototype.visitChain=function(e,t){return ensureStatementMode(t,e),this.visitAll(e.expressions,t)},e.prototype.visitConditional=function(e,t){var r=this.visit(e.condition,_Mode.Expression);return convertToStatementIfNeeded(t,r.conditional(this.visit(e.trueExp,_Mode.Expression),this.visit(e.falseExp,_Mode.Expression)))},e.prototype.visitPipe=function(e,t){var r=this.visit(e.exp,_Mode.Expression),n=this.visitAll(e.args,_Mode.Expression),i=this._nameResolver.callPipe(e.name,r,n);return this.needsValueUnwrapper=!0,convertToStatementIfNeeded(t,this._valueUnwrapper.callMethod("unwrap",[i]))},e.prototype.visitFunctionCall=function(e,t){return convertToStatementIfNeeded(t,this.visit(e.target,_Mode.Expression).callFn(this.visitAll(e.args,_Mode.Expression)))},e.prototype.visitImplicitReceiver=function(e,t){return ensureExpressionMode(t,e),this._implicitReceiver},e.prototype.visitInterpolation=function(e,t){ensureExpressionMode(t,e);for(var r=[literal(e.expressions.length)],n=0;n<e.strings.length-1;n++)r.push(literal(e.strings[n])),r.push(this.visit(e.expressions[n],_Mode.Expression));return r.push(literal(e.strings[e.strings.length-1])),importExpr(resolveIdentifier(Identifiers.interpolate)).callFn(r)},e.prototype.visitKeyedRead=function(e,t){return convertToStatementIfNeeded(t,this.visit(e.obj,_Mode.Expression).key(this.visit(e.key,_Mode.Expression)))},e.prototype.visitKeyedWrite=function(e,t){var r=this.visit(e.obj,_Mode.Expression),n=this.visit(e.key,_Mode.Expression),i=this.visit(e.value,_Mode.Expression);return convertToStatementIfNeeded(t,r.key(n).set(i))},e.prototype.visitLiteralArray=function(e,t){return convertToStatementIfNeeded(t,this._nameResolver.createLiteralArray(this.visitAll(e.expressions,t)))},e.prototype.visitLiteralMap=function(e,t){for(var r=[],n=0;n<e.keys.length;n++)r.push([e.keys[n],this.visit(e.values[n],_Mode.Expression)]);return convertToStatementIfNeeded(t,this._nameResolver.createLiteralMap(r))},e.prototype.visitLiteralPrimitive=function(e,t){return convertToStatementIfNeeded(t,literal(e.value))},e.prototype.visitMethodCall=function(e,t){var r=this.leftMostSafeNode(e);if(r)return this.convertSafeAccess(e,r,t);var n=this.visitAll(e.args,_Mode.Expression),i=null,o=this.visit(e.receiver,_Mode.Expression);if(o===this._implicitReceiver){var s=this._nameResolver.getLocal(e.name);isPresent$1(s)&&(i=s.callFn(n))}return isBlank$1(i)&&(i=o.callMethod(e.name,n)),convertToStatementIfNeeded(t,i)},e.prototype.visitPrefixNot=function(e,t){return convertToStatementIfNeeded(t,not(this.visit(e.expression,_Mode.Expression)))},e.prototype.visitPropertyRead=function(e,t){var r=this.leftMostSafeNode(e);if(r)return this.convertSafeAccess(e,r,t);var n=null,i=this.visit(e.receiver,_Mode.Expression);return i===this._implicitReceiver&&(n=this._nameResolver.getLocal(e.name)),isBlank$1(n)&&(n=i.prop(e.name)),convertToStatementIfNeeded(t,n)},e.prototype.visitPropertyWrite=function(e,t){var r=this.visit(e.receiver,_Mode.Expression);if(r===this._implicitReceiver){var n=this._nameResolver.getLocal(e.name);if(isPresent$1(n))throw new Error("Cannot assign to a reference or variable!")}return convertToStatementIfNeeded(t,r.prop(e.name).set(this.visit(e.value,_Mode.Expression)))},e.prototype.visitSafePropertyRead=function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)},e.prototype.visitSafeMethodCall=function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)},e.prototype.visitAll=function(e,t){var r=this;return e.map(function(e){return r.visit(e,t)})},e.prototype.visitQuote=function(e,t){throw new Error("Quotes are not supported for evaluation!")},e.prototype.visit=function(e,t){var r=this._resultMap.get(e);return r?r:(this._nodeMap.get(e)||e).visit(this,t)},e.prototype.convertSafeAccess=function(e,t,r){var n,i=this.visit(t.receiver,r);this.needsTemporary(t.receiver)&&(n=this.allocateTemporary(),i=n.set(i),this._resultMap.set(t.receiver,n));var o=i.isBlank();t instanceof SafeMethodCall?this._nodeMap.set(t,new MethodCall(t.span,t.receiver,t.name,t.args)):this._nodeMap.set(t,new PropertyRead(t.span,t.receiver,t.name));var s=this.visit(e,r);return this._nodeMap.delete(t),n&&this.releaseTemporary(n),o.conditional(literal(null),s)},e.prototype.leftMostSafeNode=function(e){var t=this,r=function(e,r){return(t._nodeMap.get(r)||r).visit(e)};return e.visit({visitBinary:function(e){return null},visitChain:function(e){return null},visitConditional:function(e){return null;
},visitFunctionCall:function(e){return null},visitImplicitReceiver:function(e){return null},visitInterpolation:function(e){return null},visitKeyedRead:function(e){return r(this,e.obj)},visitKeyedWrite:function(e){return null},visitLiteralArray:function(e){return null},visitLiteralMap:function(e){return null},visitLiteralPrimitive:function(e){return null},visitMethodCall:function(e){return r(this,e.receiver)},visitPipe:function(e){return null},visitPrefixNot:function(e){return null},visitPropertyRead:function(e){return r(this,e.receiver)},visitPropertyWrite:function(e){return null},visitQuote:function(e){return null},visitSafeMethodCall:function(e){return r(this,e.receiver)||e},visitSafePropertyRead:function(e){return r(this,e.receiver)||e}})},e.prototype.needsTemporary=function(e){var t=this,r=function(e,r){return r&&(t._nodeMap.get(r)||r).visit(e)},n=function(e,t){return t.some(function(t){return r(e,t)})};return e.visit({visitBinary:function(e){return r(this,e.left)||r(this,e.right)},visitChain:function(e){return!1},visitConditional:function(e){return r(this,e.condition)||r(this,e.trueExp)||r(this,e.falseExp)},visitFunctionCall:function(e){return!0},visitImplicitReceiver:function(e){return!1},visitInterpolation:function(e){return n(this,e.expressions)},visitKeyedRead:function(e){return!1},visitKeyedWrite:function(e){return!1},visitLiteralArray:function(e){return!0},visitLiteralMap:function(e){return!0},visitLiteralPrimitive:function(e){return!1},visitMethodCall:function(e){return!0},visitPipe:function(e){return!0},visitPrefixNot:function(e){return r(this,e.expression)},visitPropertyRead:function(e){return!1},visitPropertyWrite:function(e){return!1},visitQuote:function(e){return!1},visitSafeMethodCall:function(e){return!0},visitSafePropertyRead:function(e){return!1}})},e.prototype.allocateTemporary=function(){var e=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new ReadVarExpr(temporaryName(this.bindingIndex,e))},e.prototype.releaseTemporary=function(e){if(this._currentTemporary--,e.name!=temporaryName(this.bindingIndex,this._currentTemporary))throw new Error("Temporary "+e.name+" released out of order")},e}(),CompileElementAnimationOutput=function(){function e(e,t){this.listener=e,this.output=t}return e}(),CompileEventListener=function(){function e(e,t,r,n){this.compileElement=e,this.eventTarget=t,this.eventName=r,this._hasComponentHostListener=!1,this._actionResultExprs=[],this._method=new CompileMethod(e.view),this._methodName="_handle_"+santitizeEventName(r)+"_"+e.nodeIndex+"_"+n,this._eventParam=new FnParam(EventHandlerVars.event.name,importType(this.compileElement.view.genConfig.renderTypes.renderEvent))}return e.getOrCreate=function(t,r,n,i){var o=i.find(function(e){return e.eventTarget==r&&e.eventName==n});return isBlank$1(o)&&(o=new e(t,r,n,i.length),i.push(o)),o},Object.defineProperty(e.prototype,"methodName",{get:function(){return this._methodName},enumerable:!0,configurable:!0}),e.prototype.addAction=function(e,t,r){isPresent$1(t)&&t.isComponent&&(this._hasComponentHostListener=!0),this._method.resetDebugInfo(this.compileElement.nodeIndex,e);var n=isPresent$1(r)?r:this.compileElement.view.componentContext,i=convertCdStatementToIr(this.compileElement.view,n,e.handler,this.compileElement.nodeIndex),o=i.length-1;if(o>=0){var s=i[o],a=convertStmtIntoExpression(s),u=variable("pd_"+this._actionResultExprs.length);this._actionResultExprs.push(u),isPresent$1(a)&&(i[o]=u.set(a.cast(DYNAMIC_TYPE).notIdentical(literal(!1))).toDeclStmt(null,[StmtModifier.Final]))}this._method.addStmts(i)},e.prototype.finishMethod=function(){var e=this._hasComponentHostListener?this.compileElement.appElement.prop("componentView"):THIS_EXPR,t=literal(!0);this._actionResultExprs.forEach(function(e){t=t.and(e)});var r=[e.callMethod("markPathToRootAsCheckOnce",[]).toStmt()].concat(this._method.finish()).concat([new ReturnStatement(t)]);this.compileElement.view.eventHandlerMethods.push(new ClassMethod(this._methodName,[this._eventParam],r,BOOL_TYPE,[StmtModifier.Private]))},e.prototype.listenToRenderer=function(){var e,t=THIS_EXPR.callMethod("eventHandler",[THIS_EXPR.prop(this._methodName).callMethod(BuiltinMethod.Bind,[THIS_EXPR])]);e=isPresent$1(this.eventTarget)?ViewProperties.renderer.callMethod("listenGlobal",[literal(this.eventTarget),literal(this.eventName),t]):ViewProperties.renderer.callMethod("listen",[this.compileElement.renderNode,literal(this.eventName),t]);var r=variable("disposable_"+this.compileElement.view.disposables.length);this.compileElement.view.disposables.push(r),this.compileElement.view.createMethod.addStmt(r.set(e).toDeclStmt(FUNCTION_TYPE,[StmtModifier.Private]))},e.prototype.listenToAnimation=function(e){var t=THIS_EXPR.callMethod("eventHandler",[THIS_EXPR.prop(this._methodName).callMethod(BuiltinMethod.Bind,[THIS_EXPR])]),r=THIS_EXPR.callMethod("registerAnimationOutput",[this.compileElement.renderNode,importExpr(resolveIdentifier(Identifiers.AnimationOutput)).instantiate([literal(e.name),literal(e.phase)]),t]).toStmt();this.compileElement.view.createMethod.addStmt(r)},e.prototype.listenToDirective=function(e,t){var r=variable("subscription_"+this.compileElement.view.subscriptions.length);this.compileElement.view.subscriptions.push(r);var n=THIS_EXPR.callMethod("eventHandler",[THIS_EXPR.prop(this._methodName).callMethod(BuiltinMethod.Bind,[THIS_EXPR])]);this.compileElement.view.createMethod.addStmt(r.set(e.prop(t).callMethod(BuiltinMethod.SubscribeObservable,[n])).toDeclStmt(null,[StmtModifier.Final]))},e}(),STATE_IS_NEVER_CHECKED=THIS_EXPR.prop("numberOfChecks").identical(new LiteralExpr(0)),NOT_THROW_ON_CHANGES=not(DetectChangesVars.throwOnChange),_animationViewCheckedFlagMap=new Map,ViewBinderVisitor=function(){function e(e,t){var r=this;this.view=e,this.animationOutputs=t,this._nodeIndex=0,this._animationOutputsMap={},t.forEach(function(e){r._animationOutputsMap[e.fullPropertyName]=e})}return e.prototype.visitBoundText=function(e,t){var r=this.view.nodes[this._nodeIndex++];return bindRenderText(e,r,this.view),null},e.prototype.visitText=function(e,t){return this._nodeIndex++,null},e.prototype.visitNgContent=function(e,t){return null},e.prototype.visitElement=function(e,t){var r=this,n=this.view.nodes[this._nodeIndex++],i=[],o=[];return collectEventListeners(e.outputs,e.directives,n).forEach(function(e){if("@"==e.eventName[0]){var t=e.eventName.substr(1),n=r._animationOutputsMap[t];n&&o.push(new CompileElementAnimationOutput(e,n))}else i.push(e)}),bindAnimationOutputs(o),bindRenderInputs(e.inputs,n),bindRenderOutputs(i),e.directives.forEach(function(e){var t=n.instances.get(e.directive.type.reference);bindDirectiveInputs(e,t,n),bindDirectiveDetectChangesLifecycleCallbacks(e,t,n),bindDirectiveHostProps(e,t,n),bindDirectiveOutputs(e,t,i)}),templateVisitAll(this,e.children,n),e.directives.forEach(function(e){var t=n.instances.get(e.directive.type.reference);bindDirectiveAfterContentLifecycleCallbacks(e.directive,t,n),bindDirectiveAfterViewLifecycleCallbacks(e.directive,t,n)}),e.providers.forEach(function(e){var t=n.instances.get(e.token.reference);bindInjectableDestroyLifecycleCallbacks(e,t,n)}),null},e.prototype.visitEmbeddedTemplate=function(e,t){var r=this.view.nodes[this._nodeIndex++],n=collectEventListeners(e.outputs,e.directives,r);return e.directives.forEach(function(e){var t=r.instances.get(e.directive.type.reference);bindDirectiveInputs(e,t,r),bindDirectiveDetectChangesLifecycleCallbacks(e,t,r),bindDirectiveOutputs(e,t,n),bindDirectiveAfterContentLifecycleCallbacks(e.directive,t,r),bindDirectiveAfterViewLifecycleCallbacks(e.directive,t,r)}),e.providers.forEach(function(e){var t=r.instances.get(e.token.reference);bindInjectableDestroyLifecycleCallbacks(e,t,r)}),bindView(r.embeddedView,e.children,this.animationOutputs),null},e.prototype.visitAttr=function(e,t){return null},e.prototype.visitDirective=function(e,t){return null},e.prototype.visitEvent=function(e,t){return null},e.prototype.visitReference=function(e,t){return null},e.prototype.visitVariable=function(e,t){return null},e.prototype.visitDirectiveProperty=function(e,t){return null},e.prototype.visitElementProperty=function(e,t){return null},e}(),IMPLICIT_TEMPLATE_VAR="$implicit",CLASS_ATTR$1="class",STYLE_ATTR="style",NG_CONTAINER_TAG="ng-container",parentRenderNodeVar=variable("parentRenderNode"),rootSelectorVar=variable("rootSelector"),ViewFactoryDependency=function(){function e(e,t){this.comp=e,this.placeholder=t}return e}(),ComponentFactoryDependency=function(){function e(e,t){this.comp=e,this.placeholder=t}return e}(),ViewBuilderVisitor=function(){function e(e,t){this.view=e,this.targetDependencies=t,this.nestedViewCount=0,this._animationCompiler=new AnimationCompiler}return e.prototype._isRootNode=function(e){return e.view!==this.view},e.prototype._addRootNodeAndProject=function(e){var t=_getOuterContainerOrSelf(e),r=t.parent,n=t.sourceAst.ngContentIndex,i=e instanceof CompileElement&&e.hasViewContainer?e.appElement:null;this._isRootNode(r)?this.view.viewType!==ViewType$1.COMPONENT&&this.view.rootNodesOrAppElements.push(isPresent$1(i)?i:e.renderNode):isPresent$1(r.component)&&isPresent$1(n)&&r.addContentNode(n,isPresent$1(i)?i:e.renderNode)},e.prototype._getParentRenderNode=function(e){return e=_getOuterContainerParentOrSelf(e),this._isRootNode(e)?this.view.viewType===ViewType$1.COMPONENT?parentRenderNodeVar:NULL_EXPR:isPresent$1(e.component)&&e.component.template.encapsulation!==ViewEncapsulation.Native?NULL_EXPR:e.renderNode},e.prototype.visitBoundText=function(e,t){return this._visitText(e,"",t)},e.prototype.visitText=function(e,t){return this._visitText(e,e.value,t)},e.prototype._visitText=function(e,t,r){var n="_text_"+this.view.nodes.length;this.view.fields.push(new ClassField(n,importType(this.view.genConfig.renderTypes.renderText)));var i=THIS_EXPR.prop(n),o=new CompileNode(r,this.view,this.view.nodes.length,i,e),s=THIS_EXPR.prop(n).set(ViewProperties.renderer.callMethod("createText",[this._getParentRenderNode(r),literal(t),this.view.createMethod.resetDebugInfoExpr(this.view.nodes.length,e)])).toStmt();return this.view.nodes.push(o),this.view.createMethod.addStmt(s),this._addRootNodeAndProject(o),i},e.prototype.visitNgContent=function(e,t){this.view.createMethod.resetDebugInfo(null,e);var r=this._getParentRenderNode(t),n=ViewProperties.projectableNodes.key(literal(e.index),new ArrayType(importType(this.view.genConfig.renderTypes.renderNode)));return r!==NULL_EXPR?this.view.createMethod.addStmt(ViewProperties.renderer.callMethod("projectNodes",[r,importExpr(resolveIdentifier(Identifiers.flattenNestedViewRenderNodes)).callFn([n])]).toStmt()):this._isRootNode(t)?this.view.viewType!==ViewType$1.COMPONENT&&this.view.rootNodesOrAppElements.push(n):isPresent$1(t.component)&&isPresent$1(e.ngContentIndex)&&t.addContentNode(e.ngContentIndex,n),null},e.prototype.visitElement=function(e,t){var r,n=this,i=this.view.nodes.length,o=this.view.createMethod.resetDebugInfoExpr(i,e);r=0===i&&this.view.viewType===ViewType$1.HOST?THIS_EXPR.callMethod("selectOrCreateHostElement",[literal(e.name),rootSelectorVar,o]):e.name===NG_CONTAINER_TAG?ViewProperties.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(t),o]):ViewProperties.renderer.callMethod("createElement",[this._getParentRenderNode(t),literal(e.name),o]);var s="_el_"+i;this.view.fields.push(new ClassField(s,importType(this.view.genConfig.renderTypes.renderElement))),this.view.createMethod.addStmt(THIS_EXPR.prop(s).set(r).toStmt());for(var a=THIS_EXPR.prop(s),u=e.directives.map(function(e){return e.directive}),c=u.find(function(e){return e.isComponent}),l=_readHtmlAttrs(e.attrs),p=_mergeHtmlAndDirectiveAttrs(l,u),h=0;h<p.length;h++){var f=p[h][0];if(e.name!==NG_CONTAINER_TAG){var d=p[h][1];this.view.createMethod.addStmt(ViewProperties.renderer.callMethod("setElementAttribute",[a,literal(f),literal(d)]).toStmt())}}var m=new CompileElement(t,this.view,i,a,e,c,u,e.providers,e.hasViewContainer,(!1),e.references);this.view.nodes.push(m);var y=null;if(isPresent$1(c)){var v=new CompileIdentifierMetadata({name:getViewFactoryName(c,0)});this.targetDependencies.push(new ViewFactoryDependency(c.type,v));var _=c.entryComponents.map(function(e){var t=new CompileIdentifierMetadata({name:e.name});return n.targetDependencies.push(new ComponentFactoryDependency(e,t)),t});m.createComponentFactoryResolver(_),y=variable("compView_"+i),m.setComponentView(y),this.view.createMethod.addStmt(y.set(importExpr(v).callFn([ViewProperties.viewUtils,m.injector,m.appElement])).toDeclStmt())}if(m.beforeChildren(),this._addRootNodeAndProject(m),templateVisitAll(this,e.children,m),m.afterChildren(this.view.nodes.length-i-1),isPresent$1(y)){var g;g=this.view.component.type.isHost?ViewProperties.projectableNodes:literalArr(m.contentNodesByNgContentIndex.map(function(e){return createFlatArray(e)})),this.view.createMethod.addStmt(y.callMethod("create",[m.getComponent(),g,NULL_EXPR]).toStmt())}return null},e.prototype.visitEmbeddedTemplate=function(e,t){var r=this.view.nodes.length,n="_anchor_"+r;this.view.fields.push(new ClassField(n,importType(this.view.genConfig.renderTypes.renderComment))),this.view.createMethod.addStmt(THIS_EXPR.prop(n).set(ViewProperties.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(t),this.view.createMethod.resetDebugInfoExpr(r,e)])).toStmt());var i=THIS_EXPR.prop(n),o=e.variables.map(function(e){return[e.value.length>0?e.value:IMPLICIT_TEMPLATE_VAR,e.name]}),s=e.directives.map(function(e){return e.directive}),a=new CompileElement(t,this.view,r,i,e,null,s,e.providers,e.hasViewContainer,(!0),e.references);this.view.nodes.push(a);var u=this._animationCompiler.compileComponent(this.view.component,[e]);this.nestedViewCount++;var c=new CompileView(this.view.component,this.view.genConfig,this.view.pipeMetas,NULL_EXPR,u.triggers,this.view.viewIndex+this.nestedViewCount,a,o);return this.nestedViewCount+=buildView(c,e.children,this.targetDependencies),a.beforeChildren(),this._addRootNodeAndProject(a),a.afterChildren(0),null},e.prototype.visitAttr=function(e,t){return null},e.prototype.visitDirective=function(e,t){return null},e.prototype.visitEvent=function(e,t){return null},e.prototype.visitReference=function(e,t){return null},e.prototype.visitVariable=function(e,t){return null},e.prototype.visitDirectiveProperty=function(e,t){return null},e.prototype.visitElementProperty=function(e,t){return null},e}(),ViewCompileResult=function(){function e(e,t,r){this.statements=e,this.viewFactoryVar=t,this.dependencies=r}return e}(),ViewCompiler=function(){function e(e){this._genConfig=e,this._animationCompiler=new AnimationCompiler}return e.prototype.compileComponent=function(e,t,r,n){var i=[],o=this._animationCompiler.compileComponent(e,t),s=[],a=o.triggers;a.forEach(function(e){s.push(e.statesMapStatement),s.push(e.fnStatement)});var u=new CompileView(e,this._genConfig,n,r,a,0,CompileElement.createNull(),[]);return buildView(u,t,i),bindView(u,t,o.outputs),finishView(u,s),new ViewCompileResult(s,u.viewFactory.name,i)},e.decorators=[{type:Injectable}],e.ctorParameters=[{type:CompilerConfig}],e}(),ResourceLoader=function(){function e(){}return e.prototype.get=function(e){return null},e}(),_ASSET_SCHEME="asset:",DEFAULT_PACKAGE_URL_PROVIDER={provide:PACKAGE_ROOT_URL,useValue:"/"},UrlResolver=function(){function e(e){void 0===e&&(e=null),this._packagePrefix=e}return e.prototype.resolve=function(e,t){var r=t;isPresent$1(e)&&e.length>0&&(r=_resolveUrl(e,r));var n=_split(r),i=this._packagePrefix;if(isPresent$1(i)&&isPresent$1(n)&&"package"==n[_ComponentIndex.Scheme]){var o=n[_ComponentIndex.Path];if(this._packagePrefix!==_ASSET_SCHEME)return i=StringWrapper$1.stripRight(i,"/"),o=StringWrapper$1.stripLeft(o,"/"),i+"/"+o;var s=o.split(/\//);r="asset:"+s[0]+"/lib/"+s.slice(1).join("/")}return r},e.decorators=[{type:Injectable}],e.ctorParameters=[{type:void 0,decorators:[{type:Inject,args:[PACKAGE_ROOT_URL]}]}],e}(),_splitRe=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),_ComponentIndex;!function(e){e[e.Scheme=1]="Scheme",e[e.UserInfo=2]="UserInfo",e[e.Domain=3]="Domain",e[e.Port=4]="Port",e[e.Path=5]="Path",e[e.QueryData=6]="QueryData",e[e.Fragment=7]="Fragment"}(_ComponentIndex||(_ComponentIndex={}));var DirectiveNormalizer=function(){function e(e,t,r,n){this._resourceLoader=e,this._urlResolver=t,this._htmlParser=r,this._config=n,this._resourceLoaderCache=new Map}return e.prototype.clearCache=function(){this._resourceLoaderCache.clear()},e.prototype.clearCacheFor=function(e){var t=this;e.isComponent&&(this._resourceLoaderCache.delete(e.template.templateUrl),e.template.externalStylesheets.forEach(function(e){t._resourceLoaderCache.delete(e.moduleUrl)}))},e.prototype._fetch=function(e){var t=this._resourceLoaderCache.get(e);return t||(t=this._resourceLoader.get(e),this._resourceLoaderCache.set(e,t)),t},e.prototype.normalizeDirective=function(e){var t=this;if(!e.isComponent)return new SyncAsyncResult(e,Promise.resolve(e));var r,n=null;if(isPresent$1(e.template.template))n=this.normalizeTemplateSync(e.type,e.template),r=Promise.resolve(n);else{if(!e.template.templateUrl)throw new Error("No template specified for component "+e.type.name);r=this.normalizeTemplateAsync(e.type,e.template)}if(n&&0===n.styleUrls.length){var i=_cloneDirectiveWithTemplate(e,n);return new SyncAsyncResult(i,Promise.resolve(i))}return new SyncAsyncResult(null,r.then(function(e){return t.normalizeExternalStylesheets(e)}).then(function(t){return _cloneDirectiveWithTemplate(e,t)}))},e.prototype.normalizeTemplateSync=function(e,t){return this.normalizeLoadedTemplate(e,t,t.template,e.moduleUrl)},e.prototype.normalizeTemplateAsync=function(e,t){var r=this,n=this._urlResolver.resolve(e.moduleUrl,t.templateUrl);return this._fetch(n).then(function(i){return r.normalizeLoadedTemplate(e,t,i,n)})},e.prototype.normalizeLoadedTemplate=function(e,t,r,n){var i=InterpolationConfig.fromArray(t.interpolation),o=this._htmlParser.parse(r,e.name,!1,i);if(o.errors.length>0){var s=o.errors.join("\n");throw new Error("Template parse errors:\n"+s)}var a=this.normalizeStylesheet(new CompileStylesheetMetadata({styles:t.styles,styleUrls:t.styleUrls,moduleUrl:e.moduleUrl})),u=new TemplatePreparseVisitor;visitAll(u,o.rootNodes);var c=this.normalizeStylesheet(new CompileStylesheetMetadata({styles:u.styles,styleUrls:u.styleUrls,moduleUrl:n})),l=a.styles.concat(c.styles),p=a.styleUrls.concat(c.styleUrls),h=t.encapsulation;return isBlank$1(h)&&(h=this._config.defaultEncapsulation),h===ViewEncapsulation.Emulated&&0===l.length&&0===p.length&&(h=ViewEncapsulation.None),new CompileTemplateMetadata({encapsulation:h,template:r,templateUrl:n,styles:l,styleUrls:p,externalStylesheets:t.externalStylesheets,ngContentSelectors:u.ngContentSelectors,animations:t.animations,interpolation:t.interpolation})},e.prototype.normalizeExternalStylesheets=function(e){return this._loadMissingExternalStylesheets(e.styleUrls).then(function(t){return new CompileTemplateMetadata({encapsulation:e.encapsulation,template:e.template,templateUrl:e.templateUrl,styles:e.styles,styleUrls:e.styleUrls,externalStylesheets:t,ngContentSelectors:e.ngContentSelectors,animations:e.animations,interpolation:e.interpolation})})},e.prototype._loadMissingExternalStylesheets=function(e,t){var r=this;return void 0===t&&(t=new Map),Promise.all(e.filter(function(e){return!t.has(e)}).map(function(e){return r._fetch(e).then(function(n){var i=r.normalizeStylesheet(new CompileStylesheetMetadata({styles:[n],moduleUrl:e}));return t.set(e,i),r._loadMissingExternalStylesheets(i.styleUrls,t)})})).then(function(e){return MapWrapper$1.values(t)})},e.prototype.normalizeStylesheet=function(e){var t=this,r=e.styleUrls.filter(isStyleUrlResolvable).map(function(r){return t._urlResolver.resolve(e.moduleUrl,r)}),n=e.styles.map(function(n){var i=extractStyleUrls(t._urlResolver,e.moduleUrl,n);return r.push.apply(r,i.styleUrls),i.style});return new CompileStylesheetMetadata({styles:n,styleUrls:r,moduleUrl:e.moduleUrl})},e.decorators=[{type:Injectable}],e.ctorParameters=[{type:ResourceLoader},{type:UrlResolver},{type:HtmlParser},{type:CompilerConfig}],e}(),TemplatePreparseVisitor=function(){function e(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return e.prototype.visitElement=function(e,t){var r=preparseElement(e);switch(r.type){case PreparsedElementType.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(r.selectAttr);break;case PreparsedElementType.STYLE:var n="";e.children.forEach(function(e){e instanceof Text&&(n+=e.value)}),this.styles.push(n);break;case PreparsedElementType.STYLESHEET:this.styleUrls.push(r.hrefAttr)}return r.nonBindable&&this.ngNonBindableStackCount++,visitAll(this,e.children),r.nonBindable&&this.ngNonBindableStackCount--,null},e.prototype.visitComment=function(e,t){return null},e.prototype.visitAttribute=function(e,t){return null},e.prototype.visitText=function(e,t){return null},e.prototype.visitExpansion=function(e,t){return null},e.prototype.visitExpansionCase=function(e,t){return null},e}(),DirectiveResolver=function(){function e(e){void 0===e&&(e=reflector$1),this._reflector=e}return e.prototype.resolve=function(e,t){void 0===t&&(t=!0);var r=this._reflector.annotations(resolveForwardRef(e));if(isPresent$1(r)){var n=r.find(_isDirectiveMetadata);if(isPresent$1(n)){var i=this._reflector.propMetadata(e);return this._mergeWithPropertyMetadata(n,i,e)}}if(t)throw new Error("No Directive annotation found on "+stringify$1(e));return null},e.prototype._mergeWithPropertyMetadata=function(e,t,r){var n=[],i=[],o={},s={};return StringMapWrapper$1.forEach(t,function(e,t){e.forEach(function(e){if(e instanceof InputMetadata)isPresent$1(e.bindingPropertyName)?n.push(t+": "+e.bindingPropertyName):n.push(t);else if(e instanceof OutputMetadata)isPresent$1(e.bindingPropertyName)?i.push(t+": "+e.bindingPropertyName):i.push(t);else if(e instanceof HostBindingMetadata)isPresent$1(e.hostPropertyName)?o["["+e.hostPropertyName+"]"]=t:o["["+t+"]"]=t;else if(e instanceof HostListenerMetadata){var r=isPresent$1(e.args)?e.args.join(", "):"";o["("+e.eventName+")"]=t+"("+r+")"}else e instanceof QueryMetadata&&(s[t]=e)})}),this._merge(e,n,i,o,s,r)},e.prototype._extractPublicName=function(e){return splitAtColon(e,[null,e])[1].trim()},e.prototype._merge=function(e,t,r,n,i,o){var s,a=this;if(isPresent$1(e.inputs)){var u=e.inputs.map(function(e){return a._extractPublicName(e)});t.forEach(function(e){var t=a._extractPublicName(e);if(u.indexOf(t)>-1)throw new Error("Input '"+t+"' defined multiple times in '"+stringify$1(o)+"'")}),s=e.inputs.concat(t)}else s=t;var c;if(isPresent$1(e.outputs)){var l=e.outputs.map(function(e){return a._extractPublicName(e)});r.forEach(function(e){var t=a._extractPublicName(e);if(l.indexOf(t)>-1)throw new Error("Output event '"+t+"' defined multiple times in '"+stringify$1(o)+"'")}),c=e.outputs.concat(r)}else c=r;var p=isPresent$1(e.host)?StringMapWrapper$1.merge(e.host,n):n,h=isPresent$1(e.queries)?StringMapWrapper$1.merge(e.queries,i):i;return e instanceof ComponentMetadata?new ComponentMetadata({selector:e.selector,inputs:s,outputs:c,host:p,exportAs:e.exportAs,moduleId:e.moduleId,queries:h,changeDetection:e.changeDetection,providers:e.providers,viewProviders:e.viewProviders,entryComponents:e.entryComponents,template:e.template,templateUrl:e.templateUrl,styles:e.styles,styleUrls:e.styleUrls,encapsulation:e.encapsulation,animations:e.animations,interpolation:e.interpolation}):new DirectiveMetadata({selector:e.selector,inputs:s,outputs:c,host:p,exportAs:e.exportAs,queries:h,providers:e.providers})},e.decorators=[{type:Injectable}],e.ctorParameters=[{type:ReflectorReader$1}],e}(),LIFECYCLE_INTERFACES=MapWrapper$1.createFromPairs([[LifecycleHooks$1.OnInit,OnInit],[LifecycleHooks$1.OnDestroy,OnDestroy],[LifecycleHooks$1.DoCheck,DoCheck],[LifecycleHooks$1.OnChanges,OnChanges],[LifecycleHooks$1.AfterContentInit,AfterContentInit],[LifecycleHooks$1.AfterContentChecked,AfterContentChecked],[LifecycleHooks$1.AfterViewInit,AfterViewInit],[LifecycleHooks$1.AfterViewChecked,AfterViewChecked]]),LIFECYCLE_PROPS=MapWrapper$1.createFromPairs([[LifecycleHooks$1.OnInit,"ngOnInit"],[LifecycleHooks$1.OnDestroy,"ngOnDestroy"],[LifecycleHooks$1.DoCheck,"ngDoCheck"],[LifecycleHooks$1.OnChanges,"ngOnChanges"],[LifecycleHooks$1.AfterContentInit,"ngAfterContentInit"],[LifecycleHooks$1.AfterContentChecked,"ngAfterContentChecked"],[LifecycleHooks$1.AfterViewInit,"ngAfterViewInit"],[LifecycleHooks$1.AfterViewChecked,"ngAfterViewChecked"]]),NgModuleResolver=function(){function e(e){void 0===e&&(e=reflector$1),this._reflector=e}return e.prototype.resolve=function(e,t){void 0===t&&(t=!0);var r=this._reflector.annotations(e).find(_isNgModuleMetadata);if(isPresent$1(r))return r;if(t)throw new Error("No NgModule metadata found for '"+stringify$1(e)+"'.");return null},e.decorators=[{type:Injectable}],e.ctorParameters=[{type:ReflectorReader$1}],e}(),PipeResolver=function(){function e(e){void 0===e&&(e=reflector$1),this._reflector=e}return e.prototype.resolve=function(e,t){void 0===t&&(t=!0);var r=this._reflector.annotations(resolveForwardRef(e));if(isPresent$1(r)){var n=r.find(_isPipeMetadata);if(isPresent$1(n))return n}if(t)throw new Error("No Pipe decorator found on "+stringify$1(e));return null},e.decorators=[{type:Injectable}],e.ctorParameters=[{type:ReflectorReader$1}],e}(),__extends$33=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},CompileMetadataResolver=function(){function e(e,t,r,n,i){void 0===i&&(i=reflector$1),this._ngModuleResolver=e,this._directiveResolver=t,this._pipeResolver=r,this._schemaRegistry=n,this._reflector=i,this._directiveCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map,this._anonymousTypes=new Map,this._anonymousTypeIndex=0}return e.prototype.sanitizeTokenName=function(e){var t=stringify$1(e);if(t.indexOf("(")>=0){var r=this._anonymousTypes.get(e);isBlank$1(r)&&(this._anonymousTypes.set(e,this._anonymousTypeIndex++),r=this._anonymousTypes.get(e)),t="anonymous_token_"+r+"_"}return sanitizeIdentifier(t)},e.prototype.clearCacheFor=function(e){this._directiveCache.delete(e),this._pipeCache.delete(e),this._ngModuleOfTypes.delete(e),this._ngModuleCache.clear()},e.prototype.clearCache=function(){this._directiveCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear()},e.prototype.getAnimationEntryMetadata=function(e){var t=this,r=e.definitions.map(function(e){return t.getAnimationStateMetadata(e)});return new CompileAnimationEntryMetadata(e.name,r)},e.prototype.getAnimationStateMetadata=function(e){if(e instanceof AnimationStateDeclarationMetadata){var t=this.getAnimationStyleMetadata(e.styles);return new CompileAnimationStateDeclarationMetadata(e.stateNameExpr,t)}return e instanceof AnimationStateTransitionMetadata?new CompileAnimationStateTransitionMetadata(e.stateChangeExpr,this.getAnimationMetadata(e.steps)):null},e.prototype.getAnimationStyleMetadata=function(e){return new CompileAnimationStyleMetadata(e.offset,e.styles)},e.prototype.getAnimationMetadata=function(e){var t=this;if(e instanceof AnimationStyleMetadata)return this.getAnimationStyleMetadata(e);if(e instanceof AnimationKeyframesSequenceMetadata)return new CompileAnimationKeyframesSequenceMetadata(e.steps.map(function(e){return t.getAnimationStyleMetadata(e)}));if(e instanceof AnimationAnimateMetadata){var r=this.getAnimationMetadata(e.styles);return new CompileAnimationAnimateMetadata(e.timings,r)}if(e instanceof AnimationWithStepsMetadata){var n=e.steps.map(function(e){return t.getAnimationMetadata(e)});return e instanceof AnimationGroupMetadata?new CompileAnimationGroupMetadata(n):new CompileAnimationSequenceMetadata(n)}return null},e.prototype.getDirectiveMetadata=function(e,t){var r=this;void 0===t&&(t=!0),e=resolveForwardRef(e);var n=this._directiveCache.get(e);if(isBlank$1(n)){var i=this._directiveResolver.resolve(e,t);if(!i)return null;var o=null,s=null,a=[],u=staticTypeModuleUrl(e),c=[],l=i.selector;if(i instanceof ComponentMetadata){var p=i;assertArrayOfStrings("styles",p.styles),assertInterpolationSymbols("interpolation",p.interpolation);var h=isPresent$1(p.animations)?p.animations.map(function(e){return r.getAnimationEntryMetadata(e)}):null;assertArrayOfStrings("styles",p.styles),assertArrayOfStrings("styleUrls",p.styleUrls),o=new CompileTemplateMetadata({encapsulation:p.encapsulation,template:p.template,templateUrl:p.templateUrl,styles:p.styles,styleUrls:p.styleUrls,animations:h,interpolation:p.interpolation}),s=p.changeDetection,isPresent$1(i.viewProviders)&&(a=this.getProvidersMetadata(i.viewProviders,c,'viewProviders for "'+stringify$1(e)+'"')),u=componentModuleUrl(this._reflector,e,p),p.entryComponents&&(c=flattenArray(p.entryComponents).map(function(e){return r.getTypeMetadata(e,staticTypeModuleUrl(e))}).concat(c)),l||(l=this._schemaRegistry.getDefaultComponentElementName())}else if(!l)throw new Error("Directive "+stringify$1(e)+" has no selector, please add it!");var f=[];isPresent$1(i.providers)&&(f=this.getProvidersMetadata(i.providers,c,'providers for "'+stringify$1(e)+'"'));var d=[],m=[];isPresent$1(i.queries)&&(d=this.getQueriesMetadata(i.queries,!1,e),m=this.getQueriesMetadata(i.queries,!0,e)),n=CompileDirectiveMetadata.create({selector:l,exportAs:i.exportAs,isComponent:isPresent$1(o),type:this.getTypeMetadata(e,u),template:o,changeDetection:s,inputs:i.inputs,outputs:i.outputs,host:i.host,providers:f,viewProviders:a,queries:d,viewQueries:m,entryComponents:c}),this._directiveCache.set(e,n)}return n},e.prototype.getNgModuleMetadata=function(e,t){var r=this;void 0===t&&(t=!0),e=resolveForwardRef(e);var n=this._ngModuleCache.get(e);if(!n){var i=this._ngModuleResolver.resolve(e,t);if(!i)return null;var o=[],s=[],a=[],u=[],c=[],l=[],p=[],h=[],f=[],d=[];i.imports&&flattenArray(i.imports).forEach(function(t){var n;if(isValidType(t))n=t;else if(t&&t.ngModule){var i=t;n=i.ngModule,i.providers&&p.push.apply(p,r.getProvidersMetadata(i.providers,h,"provider for the NgModule '"+stringify$1(n)+"'"))}if(!n)throw new Error("Unexpected value '"+stringify$1(t)+"' imported by the module '"+stringify$1(e)+"'");var o=r.getNgModuleMetadata(n,!1);if(null===o)throw new Error("Unexpected "+r._getTypeDescriptor(t)+" '"+stringify$1(t)+"' imported by the module '"+stringify$1(e)+"'");c.push(o)}),i.exports&&flattenArray(i.exports).forEach(function(t){if(!isValidType(t))throw new Error("Unexpected value '"+stringify$1(t)+"' exported by the module '"+stringify$1(e)+"'");var n,i,o;if(n=r.getDirectiveMetadata(t,!1))s.push(n);else if(i=r.getPipeMetadata(t,!1))u.push(i);else{if(!(o=r.getNgModuleMetadata(t,!1)))throw new Error("Unexpected "+r._getTypeDescriptor(t)+" '"+stringify$1(t)+"' exported by the module '"+stringify$1(e)+"'");l.push(o)}});var m=this._getTransitiveNgModuleMetadata(c,l);i.declarations&&flattenArray(i.declarations).forEach(function(t){if(!isValidType(t))throw new Error("Unexpected value '"+stringify$1(t)+"' declared by the module '"+stringify$1(e)+"'");var n,i;if(n=r.getDirectiveMetadata(t,!1))r._addDirectiveToModule(n,e,m,o,!0);else{if(!(i=r.getPipeMetadata(t,!1)))throw new Error("Unexpected "+r._getTypeDescriptor(t)+" '"+stringify$1(t)+"' declared by the module '"+stringify$1(e)+"'");r._addPipeToModule(i,e,m,a,!0)}}),i.providers&&p.push.apply(p,this.getProvidersMetadata(i.providers,h,"provider for the NgModule '"+stringify$1(e)+"'")),i.entryComponents&&h.push.apply(h,flattenArray(i.entryComponents).map(function(e){return r.getTypeMetadata(e,staticTypeModuleUrl(e))})),i.bootstrap&&f.push.apply(f,flattenArray(i.bootstrap).map(function(e){return r.getTypeMetadata(e,staticTypeModuleUrl(e))})),h.push.apply(h,f),
i.schemas&&d.push.apply(d,flattenArray(i.schemas)),(y=m.entryComponents).push.apply(y,h),(v=m.providers).push.apply(v,p),n=new CompileNgModuleMetadata({type:this.getTypeMetadata(e,staticTypeModuleUrl(e)),providers:p,entryComponents:h,bootstrapComponents:f,schemas:d,declaredDirectives:o,exportedDirectives:s,declaredPipes:a,exportedPipes:u,importedModules:c,exportedModules:l,transitiveModule:m}),m.modules.push(n),this._verifyModule(n),this._ngModuleCache.set(e,n)}return n;var y,v},e.prototype._verifyModule=function(e){e.exportedDirectives.forEach(function(t){if(!e.transitiveModule.directivesSet.has(t.type.reference))throw new Error("Can't export directive "+stringify$1(t.type.reference)+" from "+stringify$1(e.type.reference)+" as it was neither declared nor imported!")}),e.exportedPipes.forEach(function(t){if(!e.transitiveModule.pipesSet.has(t.type.reference))throw new Error("Can't export pipe "+stringify$1(t.type.reference)+" from "+stringify$1(e.type.reference)+" as it was neither declared nor imported!")})},e.prototype._getTypeDescriptor=function(e){return null!==this._directiveResolver.resolve(e,!1)?"directive":null!==this._pipeResolver.resolve(e,!1)?"pipe":null!==this._ngModuleResolver.resolve(e,!1)?"module":e.provide?"provider":"value"},e.prototype._addTypeToModule=function(e,t){var r=this._ngModuleOfTypes.get(e);if(r&&r!==t)throw new Error("Type "+stringify$1(e)+" is part of the declarations of 2 modules: "+stringify$1(r)+" and "+stringify$1(t)+"!");this._ngModuleOfTypes.set(e,t)},e.prototype._getTransitiveNgModuleMetadata=function(e,t){var r=getTransitiveModules(e.concat(t),!0),n=flattenArray(r.map(function(e){return e.providers})),i=flattenArray(r.map(function(e){return e.entryComponents})),o=getTransitiveModules(e,!1),s=flattenArray(o.map(function(e){return e.exportedDirectives})),a=flattenArray(o.map(function(e){return e.exportedPipes}));return new TransitiveCompileNgModuleMetadata(r,n,i,s,a)},e.prototype._addDirectiveToModule=function(e,t,r,n,i){return void 0===i&&(i=!1),!(!i&&r.directivesSet.has(e.type.reference))&&(r.directivesSet.add(e.type.reference),r.directives.push(e),n.push(e),this._addTypeToModule(e.type.reference,t),!0)},e.prototype._addPipeToModule=function(e,t,r,n,i){return void 0===i&&(i=!1),!(!i&&r.pipesSet.has(e.type.reference))&&(r.pipesSet.add(e.type.reference),r.pipes.push(e),n.push(e),this._addTypeToModule(e.type.reference,t),!0)},e.prototype.getTypeMetadata=function(e,t,r){return void 0===r&&(r=null),e=resolveForwardRef(e),new CompileTypeMetadata({name:this.sanitizeTokenName(e),moduleUrl:t,reference:e,diDeps:this.getDependenciesMetadata(e,r),lifecycleHooks:LIFECYCLE_HOOKS_VALUES$1.filter(function(t){return hasLifecycleHook(t,e)})})},e.prototype.getFactoryMetadata=function(e,t,r){return void 0===r&&(r=null),e=resolveForwardRef(e),new CompileFactoryMetadata({name:this.sanitizeTokenName(e),moduleUrl:t,reference:e,diDeps:this.getDependenciesMetadata(e,r)})},e.prototype.getPipeMetadata=function(e,t){void 0===t&&(t=!0),e=resolveForwardRef(e);var r=this._pipeCache.get(e);if(isBlank$1(r)){var n=this._pipeResolver.resolve(e,t);if(!n)return null;r=new CompilePipeMetadata({type:this.getTypeMetadata(e,staticTypeModuleUrl(e)),name:n.name,pure:n.pure}),this._pipeCache.set(e,r)}return r},e.prototype.getDependenciesMetadata=function(e,t){var r=this,n=!1,i=isPresent$1(t)?t:this._reflector.parameters(e);isBlank$1(i)&&(i=[]);var o=i.map(function(t){var i=!1,o=!1,s=!1,a=!1,u=!1,c=null,l=null,p=null;return isArray$2(t)?t.forEach(function(e){e instanceof HostMetadata?o=!0:e instanceof SelfMetadata?s=!0:e instanceof SkipSelfMetadata?a=!0:e instanceof OptionalMetadata?u=!0:e instanceof AttributeMetadata?(i=!0,p=e.attributeName):e instanceof QueryMetadata?e.isViewQuery?l=e:c=e:e instanceof InjectMetadata?p=e.token:isValidType(e)&&isBlank$1(p)&&(p=e)}):p=t,isBlank$1(p)?(n=!0,null):new CompileDiDependencyMetadata({isAttribute:i,isHost:o,isSelf:s,isSkipSelf:a,isOptional:u,query:isPresent$1(c)?r.getQueryMetadata(c,null,e):null,viewQuery:isPresent$1(l)?r.getQueryMetadata(l,null,e):null,token:r.getTokenMetadata(p)})});if(n){var s=o.map(function(e){return e?stringify$1(e.token):"?"}).join(", ");throw new Error("Can't resolve all parameters for "+stringify$1(e)+": ("+s+").")}return o},e.prototype.getTokenMetadata=function(e){e=resolveForwardRef(e);var t;return t=new CompileTokenMetadata(isString$1(e)?{value:e}:{identifier:new CompileIdentifierMetadata({reference:e,name:this.sanitizeTokenName(e),moduleUrl:staticTypeModuleUrl(e)})})},e.prototype.getProvidersMetadata=function(e,t,r){var n=this,i=[];return e.forEach(function(o,s){o=resolveForwardRef(o),o&&"object"==typeof o&&o.hasOwnProperty("provide")&&(o=new ProviderMeta(o.provide,o));var a;if(isArray$2(o))a=n.getProvidersMetadata(o,t,r);else if(o instanceof ProviderMeta){var u=n.getTokenMetadata(o.token);u.reference===resolveIdentifierToken(Identifiers.ANALYZE_FOR_ENTRY_COMPONENTS).reference?t.push.apply(t,n._getEntryComponentsFromProvider(o)):a=n.getProviderMetadata(o)}else{if(!isValidType(o)){var c=e.reduce(function(e,t,r){return r<s?e.push(""+stringify$1(t)):r==s?e.push("?"+stringify$1(t)+"?"):r==s+1&&e.push("..."),e},[]).join(", ");throw new Error("Invalid "+(r?r:"provider")+" - only instances of Provider and Type are allowed, got: ["+c+"]")}a=n.getTypeMetadata(o,staticTypeModuleUrl(o))}a&&i.push(a)}),i},e.prototype._getEntryComponentsFromProvider=function(e){var t=this,r=[],n=[];if(e.useFactory||e.useExisting||e.useClass)throw new Error("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!");if(!e.multi)throw new Error("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!");return convertToCompileValue(e.useValue,n),n.forEach(function(e){var n=t.getDirectiveMetadata(e.reference,!1);n&&r.push(n.type)}),r},e.prototype.getProviderMetadata=function(e){var t,r=null,n=null;return isPresent$1(e.useClass)?(r=this.getTypeMetadata(e.useClass,staticTypeModuleUrl(e.useClass),e.dependencies),t=r.diDeps):isPresent$1(e.useFactory)&&(n=this.getFactoryMetadata(e.useFactory,staticTypeModuleUrl(e.useFactory),e.dependencies),t=n.diDeps),new CompileProviderMetadata({token:this.getTokenMetadata(e.token),useClass:r,useValue:convertToCompileValue(e.useValue,[]),useFactory:n,useExisting:isPresent$1(e.useExisting)?this.getTokenMetadata(e.useExisting):null,deps:t,multi:e.multi})},e.prototype.getQueriesMetadata=function(e,t,r){var n=this,i=[];return StringMapWrapper$1.forEach(e,function(e,o){e.isViewQuery===t&&i.push(n.getQueryMetadata(e,o,r))}),i},e.prototype.getQueryMetadata=function(e,t,r){var n,i=this;if(e.isVarBindingQuery)n=e.varBindings.map(function(e){return i.getTokenMetadata(e)});else{if(!isPresent$1(e.selector))throw new Error("Can't construct a query for the property \""+t+'" of "'+stringify$1(r)+"\" since the query selector wasn't defined.");n=[this.getTokenMetadata(e.selector)]}return new CompileQueryMetadata({selectors:n,first:e.first,descendants:e.descendants,propertyName:t,read:isPresent$1(e.read)?this.getTokenMetadata(e.read):null})},e.decorators=[{type:Injectable}],e.ctorParameters=[{type:NgModuleResolver},{type:DirectiveResolver},{type:PipeResolver},{type:ElementSchemaRegistry},{type:ReflectorReader$1}],e}(),_CompileValueConverter=function(e){function t(){e.apply(this,arguments)}return __extends$33(t,e),t.prototype.visitOther=function(e,t){var r;return r=new CompileIdentifierMetadata(isStaticSymbol(e)?{name:e.name,moduleUrl:e.filePath,reference:e}:{reference:e}),t.push(r),r},t}(ValueTransformer),ComponentFactoryDependency$1=function(){function e(e,t){this.comp=e,this.placeholder=t}return e}(),NgModuleCompileResult=function(){function e(e,t,r){this.statements=e,this.ngModuleFactoryVar=t,this.dependencies=r}return e}(),NgModuleCompiler=function(){function e(){}return e.prototype.compile=function(e,t){var r=isPresent$1(e.type.moduleUrl)?"in NgModule "+e.type.name+" in "+e.type.moduleUrl:"in NgModule "+e.type.name,n=new ParseSourceFile("",r),i=new ParseSourceSpan(new ParseLocation(n,null,null,null),new ParseLocation(n,null,null,null)),o=[],s=[],a=e.transitiveModule.entryComponents.map(function(t){var r=new CompileIdentifierMetadata({name:t.name});return e.bootstrapComponents.indexOf(t)>-1&&s.push(r),o.push(new ComponentFactoryDependency$1(t,r)),r}),u=new _InjectorBuilder(e,a,s,i),c=new NgModuleProviderAnalyzer(e,t,i);c.parse().forEach(function(e){return u.addProvider(e)});var l=u.build(),p=e.type.name+"NgFactory",h=variable(p).set(importExpr(resolveIdentifier(Identifiers.NgModuleFactory)).instantiate([variable(l.name),importExpr(e.type)],importType(resolveIdentifier(Identifiers.NgModuleFactory),[importType(e.type)],[TypeModifier.Const]))).toDeclStmt(null,[StmtModifier.Final]);return new NgModuleCompileResult([l,h],p,o)},e.decorators=[{type:Injectable}],e.ctorParameters=[],e}(),_InjectorBuilder=function(){function e(e,t,r,n){this._ngModuleMeta=e,this._entryComponentFactories=t,this._bootstrapComponentFactories=r,this._sourceSpan=n,this._tokens=[],this._instances=new Map,this._fields=[],this._createStmts=[],this._destroyStmts=[],this._getters=[]}return e.prototype.addProvider=function(e){var t=this,r=e.providers.map(function(e){return t._getProviderValue(e)}),n="_"+e.token.name+"_"+this._instances.size,i=this._createProviderProperty(n,e,r,e.multiProvider,e.eager);e.lifecycleHooks.indexOf(LifecycleHooks$1.OnDestroy)!==-1&&this._destroyStmts.push(i.callMethod("ngOnDestroy",[]).toStmt()),this._tokens.push(e.token),this._instances.set(e.token.reference,i)},e.prototype.build=function(){var e=this,t=this._tokens.map(function(t){var r=e._instances.get(t.reference);return new IfStmt(InjectMethodVars$1.token.identical(createDiTokenExpression(t)),[new ReturnStatement(r)])}),r=[new ClassMethod("createInternal",[],this._createStmts.concat(new ReturnStatement(this._instances.get(this._ngModuleMeta.type.reference))),importType(this._ngModuleMeta.type)),new ClassMethod("getInternal",[new FnParam(InjectMethodVars$1.token.name,DYNAMIC_TYPE),new FnParam(InjectMethodVars$1.notFoundResult.name,DYNAMIC_TYPE)],t.concat([new ReturnStatement(InjectMethodVars$1.notFoundResult)]),DYNAMIC_TYPE),new ClassMethod("destroyInternal",[],this._destroyStmts)],n=new ClassMethod(null,[new FnParam(InjectorProps.parent.name,importType(resolveIdentifier(Identifiers.Injector)))],[SUPER_EXPR.callFn([variable(InjectorProps.parent.name),literalArr(this._entryComponentFactories.map(function(e){return importExpr(e)})),literalArr(this._bootstrapComponentFactories.map(function(e){return importExpr(e)}))]).toStmt()]),i=this._ngModuleMeta.type.name+"Injector";return new ClassStmt(i,importExpr(resolveIdentifier(Identifiers.NgModuleInjector),[importType(this._ngModuleMeta.type)]),this._fields,this._getters,n,r)},e.prototype._getProviderValue=function(e){var t,r=this;if(isPresent$1(e.useExisting))t=this._getDependency(new CompileDiDependencyMetadata({token:e.useExisting}));else if(isPresent$1(e.useFactory)){var n=isPresent$1(e.deps)?e.deps:e.useFactory.diDeps,i=n.map(function(e){return r._getDependency(e)});t=importExpr(e.useFactory).callFn(i)}else if(isPresent$1(e.useClass)){var n=isPresent$1(e.deps)?e.deps:e.useClass.diDeps,i=n.map(function(e){return r._getDependency(e)});t=importExpr(e.useClass).instantiate(i,importType(e.useClass))}else t=convertValueToOutputAst(e.useValue);return t},e.prototype._createProviderProperty=function(e,t,r,n,i){var o,s;if(n?(o=literalArr(r),s=new ArrayType(DYNAMIC_TYPE)):(o=r[0],s=r[0].type),isBlank$1(s)&&(s=DYNAMIC_TYPE),i)this._fields.push(new ClassField(e,s)),this._createStmts.push(THIS_EXPR.prop(e).set(o).toStmt());else{var a="_"+e;this._fields.push(new ClassField(a,s));var u=[new IfStmt(THIS_EXPR.prop(a).isBlank(),[THIS_EXPR.prop(a).set(o).toStmt()]),new ReturnStatement(THIS_EXPR.prop(a))];this._getters.push(new ClassGetter(e,u,s))}return THIS_EXPR.prop(e)},e.prototype._getDependency=function(e){var t=null;if(e.isValue&&(t=literal(e.value)),e.isSkipSelf||(!e.token||e.token.reference!==resolveIdentifierToken(Identifiers.Injector).reference&&e.token.reference!==resolveIdentifierToken(Identifiers.ComponentFactoryResolver).reference||(t=THIS_EXPR),isBlank$1(t)&&(t=this._instances.get(e.token.reference))),isBlank$1(t)){var r=[createDiTokenExpression(e.token)];e.isOptional&&r.push(NULL_EXPR),t=InjectorProps.parent.callMethod("get",r)}return t},e}(),InjectorProps=function(){function e(){}return e.parent=THIS_EXPR.prop("parent"),e}(),InjectMethodVars$1=function(){function e(){}return e.token=variable("token"),e.notFoundResult=variable("notFoundResult"),e}(),_SINGLE_QUOTE_ESCAPE_STRING_RE=/'|\\|\n|\r|\$/g,_LEGAL_IDENTIFIER_RE=/^[$A-Z_][0-9A-Z_$]*$/i,CATCH_ERROR_VAR$2=variable("error"),CATCH_STACK_VAR$2=variable("stack"),_EmittedLine=function(){function e(e){this.indent=e,this.parts=[]}return e}(),EmitterVisitorContext=function(){function e(e,t){this._exportedVars=e,this._indent=t,this._classes=[],this._lines=[new _EmittedLine(t)]}return e.createRoot=function(t){return new e(t,0)},Object.defineProperty(e.prototype,"_currentLine",{get:function(){return this._lines[this._lines.length-1]},enumerable:!0,configurable:!0}),e.prototype.isExportedVar=function(e){return this._exportedVars.indexOf(e)!==-1},e.prototype.println=function(e){void 0===e&&(e=""),this.print(e,!0)},e.prototype.lineIsEmpty=function(){return 0===this._currentLine.parts.length},e.prototype.print=function(e,t){void 0===t&&(t=!1),e.length>0&&this._currentLine.parts.push(e),t&&this._lines.push(new _EmittedLine(this._indent))},e.prototype.removeEmptyLastLine=function(){this.lineIsEmpty()&&this._lines.pop()},e.prototype.incIndent=function(){this._indent++,this._currentLine.indent=this._indent},e.prototype.decIndent=function(){this._indent--,this._currentLine.indent=this._indent},e.prototype.pushClass=function(e){this._classes.push(e)},e.prototype.popClass=function(){return this._classes.pop()},Object.defineProperty(e.prototype,"currentClass",{get:function(){return this._classes.length>0?this._classes[this._classes.length-1]:null},enumerable:!0,configurable:!0}),e.prototype.toSource=function(){var e=this._lines;return 0===e[e.length-1].parts.length&&(e=e.slice(0,e.length-1)),e.map(function(e){return e.parts.length>0?_createIndent(e.indent)+e.parts.join(""):""}).join("\n")},e}(),AbstractEmitterVisitor=function(){function e(e){this._escapeDollarInStrings=e}return e.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t),t.println(";"),null},e.prototype.visitReturnStmt=function(e,t){return t.print("return "),e.value.visitExpression(this,t),t.println(";"),null},e.prototype.visitIfStmt=function(e,t){t.print("if ("),e.condition.visitExpression(this,t),t.print(") {");var r=isPresent$1(e.falseCase)&&e.falseCase.length>0;return e.trueCase.length<=1&&!r?(t.print(" "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(" ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),r&&(t.println("} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println("}"),null},e.prototype.visitThrowStmt=function(e,t){return t.print("throw "),e.error.visitExpression(this,t),t.println(";"),null},e.prototype.visitCommentStmt=function(e,t){var r=e.comment.split("\n");return r.forEach(function(e){t.println("// "+e)}),null},e.prototype.visitWriteVarExpr=function(e,t){var r=t.lineIsEmpty();return r||t.print("("),t.print(e.name+" = "),e.value.visitExpression(this,t),r||t.print(")"),null},e.prototype.visitWriteKeyExpr=function(e,t){var r=t.lineIsEmpty();return r||t.print("("),e.receiver.visitExpression(this,t),t.print("["),e.index.visitExpression(this,t),t.print("] = "),e.value.visitExpression(this,t),r||t.print(")"),null},e.prototype.visitWritePropExpr=function(e,t){var r=t.lineIsEmpty();return r||t.print("("),e.receiver.visitExpression(this,t),t.print("."+e.name+" = "),e.value.visitExpression(this,t),r||t.print(")"),null},e.prototype.visitInvokeMethodExpr=function(e,t){e.receiver.visitExpression(this,t);var r=e.name;return isPresent$1(e.builtin)&&(r=this.getBuiltinMethodName(e.builtin),isBlank$1(r))?null:(t.print("."+r+"("),this.visitAllExpressions(e.args,t,","),t.print(")"),null)},e.prototype.visitInvokeFunctionExpr=function(e,t){return e.fn.visitExpression(this,t),t.print("("),this.visitAllExpressions(e.args,t,","),t.print(")"),null},e.prototype.visitReadVarExpr=function(e,t){var r=e.name;if(isPresent$1(e.builtin))switch(e.builtin){case BuiltinVar.Super:r="super";break;case BuiltinVar.This:r="this";break;case BuiltinVar.CatchError:r=CATCH_ERROR_VAR$2.name;break;case BuiltinVar.CatchStack:r=CATCH_STACK_VAR$2.name;break;default:throw new Error("Unknown builtin variable "+e.builtin)}return t.print(r),null},e.prototype.visitInstantiateExpr=function(e,t){return t.print("new "),e.classExpr.visitExpression(this,t),t.print("("),this.visitAllExpressions(e.args,t,","),t.print(")"),null},e.prototype.visitLiteralExpr=function(e,t,r){void 0===r&&(r="null");var n=e.value;return isString$1(n)?t.print(escapeIdentifier(n,this._escapeDollarInStrings)):isBlank$1(n)?t.print(r):t.print(""+n),null},e.prototype.visitConditionalExpr=function(e,t){return t.print("("),e.condition.visitExpression(this,t),t.print("? "),e.trueCase.visitExpression(this,t),t.print(": "),e.falseCase.visitExpression(this,t),t.print(")"),null},e.prototype.visitNotExpr=function(e,t){return t.print("!"),e.condition.visitExpression(this,t),null},e.prototype.visitBinaryOperatorExpr=function(e,t){var r;switch(e.operator){case BinaryOperator.Equals:r="==";break;case BinaryOperator.Identical:r="===";break;case BinaryOperator.NotEquals:r="!=";break;case BinaryOperator.NotIdentical:r="!==";break;case BinaryOperator.And:r="&&";break;case BinaryOperator.Or:r="||";break;case BinaryOperator.Plus:r="+";break;case BinaryOperator.Minus:r="-";break;case BinaryOperator.Divide:r="/";break;case BinaryOperator.Multiply:r="*";break;case BinaryOperator.Modulo:r="%";break;case BinaryOperator.Lower:r="<";break;case BinaryOperator.LowerEquals:r="<=";break;case BinaryOperator.Bigger:r=">";break;case BinaryOperator.BiggerEquals:r=">=";break;default:throw new Error("Unknown operator "+e.operator)}return t.print("("),e.lhs.visitExpression(this,t),t.print(" "+r+" "),e.rhs.visitExpression(this,t),t.print(")"),null},e.prototype.visitReadPropExpr=function(e,t){return e.receiver.visitExpression(this,t),t.print("."),t.print(e.name),null},e.prototype.visitReadKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),t.print("["),e.index.visitExpression(this,t),t.print("]"),null},e.prototype.visitLiteralArrayExpr=function(e,t){var r=e.entries.length>1;return t.print("[",r),t.incIndent(),this.visitAllExpressions(e.entries,t,",",r),t.decIndent(),t.print("]",r),null},e.prototype.visitLiteralMapExpr=function(e,t){var r=this,n=e.entries.length>1;return t.print("{",n),t.incIndent(),this.visitAllObjects(function(e){t.print(escapeIdentifier(e[0],r._escapeDollarInStrings,!1)+": "),e[1].visitExpression(r,t)},e.entries,t,",",n),t.decIndent(),t.print("}",n),null},e.prototype.visitAllExpressions=function(e,t,r,n){var i=this;void 0===n&&(n=!1),this.visitAllObjects(function(e){return e.visitExpression(i,t)},e,t,r,n)},e.prototype.visitAllObjects=function(e,t,r,n,i){void 0===i&&(i=!1);for(var o=0;o<t.length;o++)o>0&&r.print(n,i),e(t[o]);i&&r.println()},e.prototype.visitAllStatements=function(e,t){var r=this;e.forEach(function(e){return e.visitStatement(r,t)})},e}(),__extends$34=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},_debugModuleUrl="asset://debug/lib",_TsEmitterVisitor=function(e){function t(t){e.call(this,!1),this._moduleUrl=t,this.importsWithPrefixes=new Map}return __extends$34(t,e),t.prototype.visitType=function(e,t,r){void 0===r&&(r="any"),isPresent$1(e)?e.visitType(this,t):t.print(r)},t.prototype.visitLiteralExpr=function(t,r){e.prototype.visitLiteralExpr.call(this,t,r,"(null as any)")},t.prototype.visitExternalExpr=function(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null},t.prototype.visitDeclareVarStmt=function(e,t){return t.isExportedVar(e.name)&&t.print("export "),e.hasModifier(StmtModifier.Final)?t.print("const"):t.print("var"),t.print(" "+e.name+":"),this.visitType(e.type,t),t.print(" = "),e.value.visitExpression(this,t),t.println(";"),null},t.prototype.visitCastExpr=function(e,t){return t.print("(<"),e.type.visitType(this,t),t.print(">"),e.value.visitExpression(this,t),t.print(")"),null},t.prototype.visitDeclareClassStmt=function(e,t){var r=this;return t.pushClass(e),t.isExportedVar(e.name)&&t.print("export "),t.print("class "+e.name),isPresent$1(e.parent)&&(t.print(" extends "),e.parent.visitExpression(this,t)),t.println(" {"),t.incIndent(),e.fields.forEach(function(e){return r._visitClassField(e,t)}),isPresent$1(e.constructorMethod)&&this._visitClassConstructor(e,t),e.getters.forEach(function(e){return r._visitClassGetter(e,t)}),e.methods.forEach(function(e){return r._visitClassMethod(e,t)}),t.decIndent(),t.println("}"),t.popClass(),null},t.prototype._visitClassField=function(e,t){e.hasModifier(StmtModifier.Private)&&t.print("/*private*/ "),t.print(e.name),t.print(":"),this.visitType(e.type,t),t.println(";")},t.prototype._visitClassGetter=function(e,t){e.hasModifier(StmtModifier.Private)&&t.print("private "),t.print("get "+e.name+"()"),t.print(":"),this.visitType(e.type,t),t.println(" {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println("}")},t.prototype._visitClassConstructor=function(e,t){t.print("constructor("),this._visitParams(e.constructorMethod.params,t),t.println(") {"),t.incIndent(),this.visitAllStatements(e.constructorMethod.body,t),t.decIndent(),t.println("}")},t.prototype._visitClassMethod=function(e,t){e.hasModifier(StmtModifier.Private)&&t.print("private "),t.print(e.name+"("),this._visitParams(e.params,t),t.print("):"),this.visitType(e.type,t,"void"),t.println(" {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println("}")},t.prototype.visitFunctionExpr=function(e,t){return t.print("("),this._visitParams(e.params,t),t.print("):"),this.visitType(e.type,t,"void"),t.println(" => {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print("}"),null},t.prototype.visitDeclareFunctionStmt=function(e,t){return t.isExportedVar(e.name)&&t.print("export "),t.print("function "+e.name+"("),this._visitParams(e.params,t),t.print("):"),this.visitType(e.type,t,"void"),t.println(" {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println("}"),null},t.prototype.visitTryCatchStmt=function(e,t){t.println("try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println("} catch ("+CATCH_ERROR_VAR$2.name+") {"),t.incIndent();var r=[CATCH_STACK_VAR$2.set(CATCH_ERROR_VAR$2.prop("stack")).toDeclStmt(null,[StmtModifier.Final])].concat(e.catchStmts);return this.visitAllStatements(r,t),t.decIndent(),t.println("}"),null},t.prototype.visitBuiltintType=function(e,t){var r;switch(e.name){case BuiltinTypeName.Bool:r="boolean";break;case BuiltinTypeName.Dynamic:r="any";break;case BuiltinTypeName.Function:r="Function";break;case BuiltinTypeName.Number:r="number";break;case BuiltinTypeName.Int:r="number";break;case BuiltinTypeName.String:r="string";break;default:throw new Error("Unsupported builtin type "+e.name)}return t.print(r),null},t.prototype.visitExternalType=function(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null},t.prototype.visitArrayType=function(e,t){return this.visitType(e.of,t),t.print("[]"),null},t.prototype.visitMapType=function(e,t){return t.print("{[key: string]:"),this.visitType(e.valueType,t),t.print("}"),null},t.prototype.getBuiltinMethodName=function(e){var t;switch(e){case BuiltinMethod.ConcatArray:t="concat";break;case BuiltinMethod.SubscribeObservable:t="subscribe";break;case BuiltinMethod.Bind:t="bind";break;default:throw new Error("Unknown builtin method: "+e)}return t},t.prototype._visitParams=function(e,t){var r=this;this.visitAllObjects(function(e){t.print(e.name),t.print(":"),r.visitType(e.type,t)},e,t,",")},t.prototype._visitIdentifier=function(e,t,r){var n=this;if(isBlank$1(e.name))throw new Error("Internal error: unknown identifier "+e);if(isPresent$1(e.moduleUrl)&&e.moduleUrl!=this._moduleUrl){var i=this.importsWithPrefixes.get(e.moduleUrl);isBlank$1(i)&&(i="import"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(e.moduleUrl,i)),r.print(i+".")}e.reference&&e.reference.members?(r.print(e.reference.name),r.print("."),r.print(e.reference.members.join("."))):r.print(e.name),isPresent$1(t)&&t.length>0&&(r.print("<"),this.visitAllObjects(function(e){return e.visitType(n,r)},t,r,","),r.print(">"))},t}(AbstractEmitterVisitor),_ExecutionContext=function(){function e(e,t,r,n){this.parent=e,this.instance=t,this.className=r,this.vars=n}return e.prototype.createChildWihtLocalVars=function(){return new e(this,this.instance,this.className,new Map)},e}(),ReturnValue=function(){function e(e){this.value=e}return e}(),StatementInterpreter=function(){function e(){}return e.prototype.debugAst=function(e){return debugOutputAstAsTypeScript(e)},e.prototype.visitDeclareVarStmt=function(e,t){return t.vars.set(e.name,e.value.visitExpression(this,t)),null},e.prototype.visitWriteVarExpr=function(e,t){for(var r=e.value.visitExpression(this,t),n=t;null!=n;){if(n.vars.has(e.name))return n.vars.set(e.name,r),r;n=n.parent}throw new Error("Not declared variable "+e.name)},e.prototype.visitReadVarExpr=function(e,t){var r=e.name;if(isPresent$1(e.builtin))switch(e.builtin){case BuiltinVar.Super:return t.instance.__proto__;case BuiltinVar.This:return t.instance;case BuiltinVar.CatchError:r=CATCH_ERROR_VAR$1;break;case BuiltinVar.CatchStack:r=CATCH_STACK_VAR$1;break;default:throw new Error("Unknown builtin variable "+e.builtin)}for(var n=t;null!=n;){if(n.vars.has(r))return n.vars.get(r);n=n.parent}throw new Error("Not declared variable "+r)},e.prototype.visitWriteKeyExpr=function(e,t){var r=e.receiver.visitExpression(this,t),n=e.index.visitExpression(this,t),i=e.value.visitExpression(this,t);return r[n]=i,i},e.prototype.visitWritePropExpr=function(e,t){var r=e.receiver.visitExpression(this,t),n=e.value.visitExpression(this,t);return r[e.name]=n,n},e.prototype.visitInvokeMethodExpr=function(e,t){var r,n=e.receiver.visitExpression(this,t),i=this.visitAllExpressions(e.args,t);if(isPresent$1(e.builtin))switch(e.builtin){case BuiltinMethod.ConcatArray:r=ListWrapper$1.concat(n,i[0]);break;case BuiltinMethod.SubscribeObservable:r=n.subscribe({next:i[0]});break;case BuiltinMethod.Bind:r=n.bind(i[0]);break;default:throw new Error("Unknown builtin method "+e.builtin)}else r=n[e.name].apply(n,i);return r},e.prototype.visitInvokeFunctionExpr=function(e,t){var r=this.visitAllExpressions(e.args,t),n=e.fn;if(n instanceof ReadVarExpr&&n.builtin===BuiltinVar.Super)return t.instance.constructor.prototype.constructor.apply(t.instance,r),null;var i=e.fn.visitExpression(this,t);return i.apply(null,r)},e.prototype.visitReturnStmt=function(e,t){return new ReturnValue(e.value.visitExpression(this,t))},e.prototype.visitDeclareClassStmt=function(e,t){var r=createDynamicClass(e,t,this);return t.vars.set(e.name,r),null},e.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t)},e.prototype.visitIfStmt=function(e,t){var r=e.condition.visitExpression(this,t);return r?this.visitAllStatements(e.trueCase,t):isPresent$1(e.falseCase)?this.visitAllStatements(e.falseCase,t):null},e.prototype.visitTryCatchStmt=function(e,t){try{return this.visitAllStatements(e.bodyStmts,t)}catch(n){var r=t.createChildWihtLocalVars();return r.vars.set(CATCH_ERROR_VAR$1,n),r.vars.set(CATCH_STACK_VAR$1,n.stack),this.visitAllStatements(e.catchStmts,r)}},e.prototype.visitThrowStmt=function(e,t){throw e.error.visitExpression(this,t)},e.prototype.visitCommentStmt=function(e,t){return null},e.prototype.visitInstantiateExpr=function(e,t){var r=this.visitAllExpressions(e.args,t),n=e.classExpr.visitExpression(this,t);return new(n.bind.apply(n,[void 0].concat(r)))},e.prototype.visitLiteralExpr=function(e,t){return e.value},e.prototype.visitExternalExpr=function(e,t){return e.value.reference},e.prototype.visitConditionalExpr=function(e,t){return e.condition.visitExpression(this,t)?e.trueCase.visitExpression(this,t):isPresent$1(e.falseCase)?e.falseCase.visitExpression(this,t):null},e.prototype.visitNotExpr=function(e,t){return!e.condition.visitExpression(this,t)},e.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t)},e.prototype.visitFunctionExpr=function(e,t){var r=e.params.map(function(e){return e.name});return _declareFn(r,e.statements,t,this)},e.prototype.visitDeclareFunctionStmt=function(e,t){var r=e.params.map(function(e){return e.name});return t.vars.set(e.name,_declareFn(r,e.statements,t,this)),null},e.prototype.visitBinaryOperatorExpr=function(e,t){var r=this,n=function(){return e.lhs.visitExpression(r,t)},i=function(){return e.rhs.visitExpression(r,t)};switch(e.operator){case BinaryOperator.Equals:return n()==i();case BinaryOperator.Identical:return n()===i();case BinaryOperator.NotEquals:return n()!=i();case BinaryOperator.NotIdentical:return n()!==i();case BinaryOperator.And:return n()&&i();case BinaryOperator.Or:return n()||i();case BinaryOperator.Plus:return n()+i();case BinaryOperator.Minus:return n()-i();case BinaryOperator.Divide:return n()/i();case BinaryOperator.Multiply:return n()*i();case BinaryOperator.Modulo:return n()%i();case BinaryOperator.Lower:return n()<i();case BinaryOperator.LowerEquals:return n()<=i();case BinaryOperator.Bigger:return n()>i();case BinaryOperator.BiggerEquals:return n()>=i();default:throw new Error("Unknown operator "+e.operator)}},e.prototype.visitReadPropExpr=function(e,t){var r,n=e.receiver.visitExpression(this,t);return r=n[e.name]},e.prototype.visitReadKeyExpr=function(e,t){var r=e.receiver.visitExpression(this,t),n=e.index.visitExpression(this,t);return r[n]},e.prototype.visitLiteralArrayExpr=function(e,t){return this.visitAllExpressions(e.entries,t)},e.prototype.visitLiteralMapExpr=function(e,t){var r=this,n={};return e.entries.forEach(function(e){return n[e[0]]=e[1].visitExpression(r,t)}),n},e.prototype.visitAllExpressions=function(e,t){var r=this;return e.map(function(e){return e.visitExpression(r,t)})},e.prototype.visitAllStatements=function(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=n.visitStatement(this,t);if(i instanceof ReturnValue)return i}return null},e}(),CATCH_ERROR_VAR$1="error",CATCH_STACK_VAR$1="stack",__extends$36=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},AbstractJsEmitterVisitor=function(e){function t(){e.call(this,!1)}return __extends$36(t,e),t.prototype.visitDeclareClassStmt=function(e,t){var r=this;return t.pushClass(e),this._visitClassConstructor(e,t),isPresent$1(e.parent)&&(t.print(e.name+".prototype = Object.create("),e.parent.visitExpression(this,t),t.println(".prototype);")),e.getters.forEach(function(n){return r._visitClassGetter(e,n,t)}),e.methods.forEach(function(n){return r._visitClassMethod(e,n,t)}),t.popClass(),null},t.prototype._visitClassConstructor=function(e,t){t.print("function "+e.name+"("),isPresent$1(e.constructorMethod)&&this._visitParams(e.constructorMethod.params,t),t.println(") {"),t.incIndent(),isPresent$1(e.constructorMethod)&&e.constructorMethod.body.length>0&&(t.println("var self = this;"),this.visitAllStatements(e.constructorMethod.body,t)),t.decIndent(),t.println("}")},t.prototype._visitClassGetter=function(e,t,r){r.println("Object.defineProperty("+e.name+".prototype, '"+t.name+"', { get: function() {"),r.incIndent(),t.body.length>0&&(r.println("var self = this;"),this.visitAllStatements(t.body,r)),r.decIndent(),r.println("}});")},t.prototype._visitClassMethod=function(e,t,r){r.print(e.name+".prototype."+t.name+" = function("),
this._visitParams(t.params,r),r.println(") {"),r.incIndent(),t.body.length>0&&(r.println("var self = this;"),this.visitAllStatements(t.body,r)),r.decIndent(),r.println("};")},t.prototype.visitReadVarExpr=function(t,r){if(t.builtin===BuiltinVar.This)r.print("self");else{if(t.builtin===BuiltinVar.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");e.prototype.visitReadVarExpr.call(this,t,r)}return null},t.prototype.visitDeclareVarStmt=function(e,t){return t.print("var "+e.name+" = "),e.value.visitExpression(this,t),t.println(";"),null},t.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t),null},t.prototype.visitInvokeFunctionExpr=function(t,r){var n=t.fn;return n instanceof ReadVarExpr&&n.builtin===BuiltinVar.Super?(r.currentClass.parent.visitExpression(this,r),r.print(".call(this"),t.args.length>0&&(r.print(", "),this.visitAllExpressions(t.args,r,",")),r.print(")")):e.prototype.visitInvokeFunctionExpr.call(this,t,r),null},t.prototype.visitFunctionExpr=function(e,t){return t.print("function("),this._visitParams(e.params,t),t.println(") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print("}"),null},t.prototype.visitDeclareFunctionStmt=function(e,t){return t.print("function "+e.name+"("),this._visitParams(e.params,t),t.println(") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println("}"),null},t.prototype.visitTryCatchStmt=function(e,t){t.println("try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println("} catch ("+CATCH_ERROR_VAR$2.name+") {"),t.incIndent();var r=[CATCH_STACK_VAR$2.set(CATCH_ERROR_VAR$2.prop("stack")).toDeclStmt(null,[StmtModifier.Final])].concat(e.catchStmts);return this.visitAllStatements(r,t),t.decIndent(),t.println("}"),null},t.prototype._visitParams=function(e,t){this.visitAllObjects(function(e){return t.print(e.name)},e,t,",")},t.prototype.getBuiltinMethodName=function(e){var t;switch(e){case BuiltinMethod.ConcatArray:t="concat";break;case BuiltinMethod.SubscribeObservable:t="subscribe";break;case BuiltinMethod.Bind:t="bind";break;default:throw new Error("Unknown builtin method: "+e)}return t},t}(AbstractEmitterVisitor),__extends$35=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},JitEmitterVisitor=function(e){function t(){e.apply(this,arguments),this._evalArgNames=[],this._evalArgValues=[]}return __extends$35(t,e),t.prototype.getArgs=function(){for(var e={},t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e},t.prototype.visitExternalExpr=function(e,t){var r=e.value.reference,n=this._evalArgValues.indexOf(r);if(n===-1){n=this._evalArgValues.length,this._evalArgValues.push(r);var i=isPresent$1(e.value.name)?sanitizeIdentifier(e.value.name):"val";this._evalArgNames.push(sanitizeIdentifier("jit_"+i+n))}return t.print(this._evalArgNames[n]),null},t}(AbstractJsEmitterVisitor),ShadowCss=function(){function e(){this.strictStyling=!0}return e.prototype.shimCssText=function(e,t,r){void 0===r&&(r="");var n=extractSourceMappingUrl(e);return e=stripComments(e),e=this._insertDirectives(e),this._scopeCssText(e,t,r)+n},e.prototype._insertDirectives=function(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)},e.prototype._insertPolyfillDirectivesInCssText=function(e){return StringWrapper$1.replaceAllMapped(e,_cssContentNextSelectorRe,function(e){return e[1]+"{"})},e.prototype._insertPolyfillRulesInCssText=function(e){return StringWrapper$1.replaceAllMapped(e,_cssContentRuleRe,function(e){var t=e[0];return t=StringWrapper$1.replace(t,e[1],""),t=StringWrapper$1.replace(t,e[2],""),e[3]+t})},e.prototype._scopeCssText=function(e,t,r){var n=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),isPresent$1(t)&&(e=this._scopeSelectors(e,t,r)),e=e+"\n"+n,e.trim()},e.prototype._extractUnscopedRulesFromCssText=function(e){var t,r="";for(_cssContentUnscopedRuleRe.lastIndex=0;null!==(t=_cssContentUnscopedRuleRe.exec(e));){var n=t[0];n=StringWrapper$1.replace(n,t[2],""),n=StringWrapper$1.replace(n,t[1],t[3]),r+=n+"\n\n"}return r},e.prototype._convertColonHost=function(e){return this._convertColonRule(e,_cssColonHostRe,this._colonHostPartReplacer)},e.prototype._convertColonHostContext=function(e){return this._convertColonRule(e,_cssColonHostContextRe,this._colonHostContextPartReplacer)},e.prototype._convertColonRule=function(e,t,r){return StringWrapper$1.replaceAllMapped(e,t,function(e){if(isPresent$1(e[2])){for(var t=e[2].split(","),n=[],i=0;i<t.length;i++){var o=t[i];if(isBlank$1(o))break;o=o.trim(),n.push(r(_polyfillHostNoCombinator,o,e[3]))}return n.join(",")}return _polyfillHostNoCombinator+e[3]})},e.prototype._colonHostContextPartReplacer=function(e,t,r){return StringWrapper$1.contains(t,_polyfillHost)?this._colonHostPartReplacer(e,t,r):e+t+r+", "+t+" "+e+r},e.prototype._colonHostPartReplacer=function(e,t,r){return e+StringWrapper$1.replace(t,_polyfillHost,"")+r},e.prototype._convertShadowDOMSelectors=function(e){return _shadowDOMSelectorsRe.reduce(function(e,t){return StringWrapper$1.replaceAll(e,t," ")},e)},e.prototype._scopeSelectors=function(e,t,r){var n=this;return processRules(e,function(e){var i=e.selector,o=e.content;return"@"!=e.selector[0]||e.selector.startsWith("@page")?i=n._scopeSelector(e.selector,t,r,n.strictStyling):(e.selector.startsWith("@media")||e.selector.startsWith("@supports"))&&(o=n._scopeSelectors(e.content,t,r)),new CssRule(i,o)})},e.prototype._scopeSelector=function(e,t,r,n){var i=this;return e.split(",").map(function(e){return e.trim().split(_shadowDeepSelectors)}).map(function(e){var o=e[0],s=e.slice(1),a=function(e){return i._selectorNeedsScoping(e,t)?n?i._applyStrictSelectorScope(e,t,r):i._applySelectorScope(e,t,r):e};return[a(o)].concat(s).join(" ")}).join(", ")},e.prototype._selectorNeedsScoping=function(e,t){var r=this._makeScopeMatcher(t);return!r.test(e)},e.prototype._makeScopeMatcher=function(e){var t=/\[/g,r=/\]/g;return e=StringWrapper$1.replaceAll(e,t,"\\["),e=StringWrapper$1.replaceAll(e,r,"\\]"),new RegExp("^("+e+")"+_selectorReSuffix,"m")},e.prototype._applySelectorScope=function(e,t,r){return this._applySimpleSelectorScope(e,t,r)},e.prototype._applySimpleSelectorScope=function(e,t,r){if(_polyfillHostRe.lastIndex=0,_polyfillHostRe.test(e)){var n=this.strictStyling?"["+r+"]":t;return e=StringWrapper$1.replace(e,_polyfillHostNoCombinator,n),StringWrapper$1.replaceAll(e,_polyfillHostRe,n+" ")}return t+" "+e},e.prototype._applyStrictSelectorScope=function(e,t,r){var n=this,i=/\[is=([^\]]*)\]/g;t=t.replace(i,function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t[0]});for(var o,s="["+t+"]",a=function(e){var i=e.trim();if(0==i.length)return"";if(e.indexOf(_polyfillHostNoCombinator)>-1)i=n._applySimpleSelectorScope(e,t,r);else{var o=e.replace(_polyfillHostRe,"");if(o.length>0){var a=o.match(/([^:]*)(:*)(.*)/);null!==a&&(i=a[1]+s+a[2]+a[3])}}return i},u=/( |>|\+|~)\s*/g,c=e.indexOf(_polyfillHostNoCombinator),l="",p=0;null!==(o=u.exec(e));){var h=o[1],f=e.slice(p,o.index).trim(),d=p>=c?a(f):f;l+=d+" "+h+" ",p=u.lastIndex}return l+a(e.substring(p))},e.prototype._insertPolyfillHostInCssText=function(e){return e.replace(_colonHostContextRe,_polyfillHostContext).replace(_colonHostRe,_polyfillHost)},e}(),_cssContentNextSelectorRe=/polyfill-next-selector[^}]*content:[\s]*?['"](.*?)['"][;\s]*}([^{]*?){/gim,_cssContentRuleRe=/(polyfill-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,_cssContentUnscopedRuleRe=/(polyfill-unscoped-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,_polyfillHost="-shadowcsshost",_polyfillHostContext="-shadowcsscontext",_parenSuffix=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",_cssColonHostRe=new RegExp("("+_polyfillHost+_parenSuffix,"gim"),_cssColonHostContextRe=new RegExp("("+_polyfillHostContext+_parenSuffix,"gim"),_polyfillHostNoCombinator=_polyfillHost+"-no-combinator",_shadowDOMSelectorsRe=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],_shadowDeepSelectors=/(?:>>>)|(?:\/deep\/)/g,_selectorReSuffix="([>\\s~+[.,{:][\\s\\S]*)?$",_polyfillHostRe=/-shadowcsshost/gim,_colonHostRe=/:host/gim,_colonHostContextRe=/:host-context/gim,_commentRe=/\/\*\s*[\s\S]*?\*\//g,_sourceMappingUrlRe=/[\s\S]*(\/\*\s*#\s*sourceMappingURL=[\s\S]+?\*\/)\s*$/,_ruleRe=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,_curlyRe=/([{}])/g,OPEN_CURLY="{",CLOSE_CURLY="}",BLOCK_PLACEHOLDER="%BLOCK%",CssRule=function(){function e(e,t){this.selector=e,this.content=t}return e}(),StringWithEscapedBlocks=function(){function e(e,t){this.escapedString=e,this.blocks=t}return e}(),COMPONENT_VARIABLE="%COMP%",HOST_ATTR="_nghost-"+COMPONENT_VARIABLE,CONTENT_ATTR="_ngcontent-"+COMPONENT_VARIABLE,StylesCompileDependency=function(){function e(e,t,r){this.moduleUrl=e,this.isShimmed=t,this.valuePlaceholder=r}return e}(),StylesCompileResult=function(){function e(e,t){this.componentStylesheet=e,this.externalStylesheets=t}return e}(),CompiledStylesheet=function(){function e(e,t,r,n,i){this.statements=e,this.stylesVar=t,this.dependencies=r,this.isShimmed=n,this.meta=i}return e}(),StyleCompiler=function(){function e(e){this._urlResolver=e,this._shadowCss=new ShadowCss}return e.prototype.compileComponent=function(e){var t=this,r=[],n=this._compileStyles(e,new CompileStylesheetMetadata({styles:e.template.styles,styleUrls:e.template.styleUrls,moduleUrl:e.type.moduleUrl}),!0);return e.template.externalStylesheets.forEach(function(n){var i=t._compileStyles(e,n,!1);r.push(i)}),new StylesCompileResult(n,r)},e.prototype._compileStyles=function(e,t,r){for(var n=this,i=e.template.encapsulation===ViewEncapsulation.Emulated,o=t.styles.map(function(e){return literal(n._shimIfNeeded(e,i))}),s=[],a=0;a<t.styleUrls.length;a++){var u=new CompileIdentifierMetadata({name:getStylesVarName(null)});s.push(new StylesCompileDependency(t.styleUrls[a],i,u)),o.push(new ExternalExpr(u))}var c=getStylesVarName(r?e:null),l=variable(c).set(literalArr(o,new ArrayType(DYNAMIC_TYPE,[TypeModifier.Const]))).toDeclStmt(null,[StmtModifier.Final]);return new CompiledStylesheet([l],c,s,i,t)},e.prototype._shimIfNeeded=function(e,t){return t?this._shadowCss.shimCssText(e,CONTENT_ATTR,HOST_ATTR):e},e.decorators=[{type:Injectable}],e.ctorParameters=[{type:UrlResolver}],e}(),RuntimeCompiler=function(){function e(e,t,r,n,i,o,s,a){this._injector=e,this._metadataResolver=t,this._templateNormalizer=r,this._templateParser=n,this._styleCompiler=i,this._viewCompiler=o,this._ngModuleCompiler=s,this._compilerConfig=a,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledNgModuleCache=new Map}return Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),e.prototype.compileModuleSync=function(e){return this._compileModuleAndComponents(e,!0).syncResult},e.prototype.compileModuleAsync=function(e){return this._compileModuleAndComponents(e,!1).asyncResult},e.prototype.compileModuleAndAllComponentsSync=function(e){return this._compileModuleAndAllComponents(e,!0).syncResult},e.prototype.compileModuleAndAllComponentsAsync=function(e){return this._compileModuleAndAllComponents(e,!1).asyncResult},e.prototype._compileModuleAndComponents=function(e,t){var r=this._compileComponents(e,t),n=this._compileModule(e);return new SyncAsyncResult(n,r.then(function(){return n}))},e.prototype._compileModuleAndAllComponents=function(e,t){var r=this,n=this._compileComponents(e,t),i=this._compileModule(e),o=this._metadataResolver.getNgModuleMetadata(e),s=[],a=new Set;o.transitiveModule.modules.forEach(function(e){e.declaredDirectives.forEach(function(e){if(e.isComponent){var t=r._createCompiledHostTemplate(e.type.reference);a.add(t),s.push(t.proxyComponentFactory)}})});var u=new ModuleWithComponentFactories(i,s),c=function(){return a.forEach(function(e){r._compileTemplate(e)}),u},l=t?Promise.resolve(c()):n.then(c);return new SyncAsyncResult(u,l)},e.prototype._compileModule=function(e){var t=this,r=this._compiledNgModuleCache.get(e);if(!r){var n=this._metadataResolver.getNgModuleMetadata(e),i=[this._metadataResolver.getProviderMetadata(new ProviderMeta(Compiler,{useFactory:function(){return new ModuleBoundCompiler(t,n.type.reference)}}))],o=this._ngModuleCompiler.compile(n,i);o.dependencies.forEach(function(e){e.placeholder.reference=t._assertComponentKnown(e.comp.reference,!0).proxyComponentFactory,e.placeholder.name="compFactory_"+e.comp.name}),r=this._compilerConfig.useJit?jitStatements(n.type.name+".ngfactory.js",o.statements,o.ngModuleFactoryVar):interpretStatements(o.statements,o.ngModuleFactoryVar),this._compiledNgModuleCache.set(n.type.reference,r)}return r},e.prototype._compileComponents=function(e,t){var r=this,n=new Set,i=[],o=this._metadataResolver.getNgModuleMetadata(e);o.transitiveModule.modules.forEach(function(e){e.declaredDirectives.forEach(function(t){t.isComponent&&(n.add(r._createCompiledTemplate(t,e)),t.entryComponents.forEach(function(e){n.add(r._createCompiledHostTemplate(e.reference))}))}),e.entryComponents.forEach(function(e){n.add(r._createCompiledHostTemplate(e.reference))})}),n.forEach(function(e){if(e.loading){if(t)throw new ComponentStillLoadingError$1(e.compType.reference);i.push(e.loading)}});var s=function(){n.forEach(function(e){r._compileTemplate(e)})};return t?(s(),Promise.resolve(null)):Promise.all(i).then(s)},e.prototype.clearCacheFor=function(e){this._compiledNgModuleCache.delete(e),this._metadataResolver.clearCacheFor(e),this._compiledHostTemplateCache.delete(e);var t=this._compiledTemplateCache.get(e);t&&(this._templateNormalizer.clearCacheFor(t.normalizedCompMeta),this._compiledTemplateCache.delete(e))},e.prototype.clearCache=function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._templateNormalizer.clearCache(),this._compiledNgModuleCache.clear()},e.prototype._createCompiledHostTemplate=function(e){var t=this._compiledHostTemplateCache.get(e);if(isBlank$1(t)){var r=this._metadataResolver.getDirectiveMetadata(e);assertComponent(r);var n=createHostComponentMeta(r);t=new CompiledTemplate((!0),r.selector,r.type,[r],[],[],this._templateNormalizer.normalizeDirective(n)),this._compiledHostTemplateCache.set(e,t)}return t},e.prototype._createCompiledTemplate=function(e,t){var r=this._compiledTemplateCache.get(e.type.reference);return isBlank$1(r)&&(assertComponent(e),r=new CompiledTemplate((!1),e.selector,e.type,t.transitiveModule.directives,t.transitiveModule.pipes,t.schemas,this._templateNormalizer.normalizeDirective(e)),this._compiledTemplateCache.set(e.type.reference,r)),r},e.prototype._assertComponentKnown=function(e,t){var r=t?this._compiledHostTemplateCache.get(e):this._compiledTemplateCache.get(e);if(!r)throw t?new Error("Illegal state: Compiled view for component "+stringify$1(e)+" does not exist!"):new Error("Component "+stringify$1(e)+" is not part of any NgModule or the module has not been imported into your module.");return r},e.prototype._assertComponentLoaded=function(e,t){var r=this._assertComponentKnown(e,t);if(r.loading)throw new Error("Illegal state: CompiledTemplate for "+stringify$1(e)+" (isHost: "+t+") is still loading!");return r},e.prototype._compileTemplate=function(e){var t=this;if(!e.isCompiled){var r=e.normalizedCompMeta,n=new Map,i=this._styleCompiler.compileComponent(r);i.externalStylesheets.forEach(function(e){n.set(e.meta.moduleUrl,e)}),this._resolveStylesCompileResult(i.componentStylesheet,n);var o=e.viewComponentTypes.map(function(e){return t._assertComponentLoaded(e,!1).normalizedCompMeta}),s=this._templateParser.parse(r,r.template.template,e.viewDirectives.concat(o),e.viewPipes,e.schemas,r.type.name),a=this._viewCompiler.compileComponent(r,s,variable(i.componentStylesheet.stylesVar),e.viewPipes);a.dependencies.forEach(function(e){var r;if(e instanceof ViewFactoryDependency){var n=e;r=t._assertComponentLoaded(n.comp.reference,!1),n.placeholder.reference=r.proxyViewFactory,n.placeholder.name="viewFactory_"+n.comp.name}else if(e instanceof ComponentFactoryDependency){var i=e;r=t._assertComponentLoaded(i.comp.reference,!0),i.placeholder.reference=r.proxyComponentFactory,i.placeholder.name="compFactory_"+i.comp.name}});var u,c=i.componentStylesheet.statements.concat(a.statements);u=this._compilerConfig.useJit?jitStatements(""+e.compType.name+(e.isHost?"_Host":"")+".ngfactory.js",c,a.viewFactoryVar):interpretStatements(c,a.viewFactoryVar),e.compiled(u)}},e.prototype._resolveStylesCompileResult=function(e,t){var r=this;e.dependencies.forEach(function(e,n){var i=t.get(e.moduleUrl),o=r._resolveAndEvalStylesCompileResult(i,t);e.valuePlaceholder.reference=o,e.valuePlaceholder.name="importedStyles"+n})},e.prototype._resolveAndEvalStylesCompileResult=function(e,t){return this._resolveStylesCompileResult(e,t),this._compilerConfig.useJit?jitStatements(e.meta.moduleUrl+".css.js",e.statements,e.stylesVar):interpretStatements(e.statements,e.stylesVar)},e.decorators=[{type:Injectable}],e.ctorParameters=[{type:Injector},{type:CompileMetadataResolver},{type:DirectiveNormalizer},{type:TemplateParser},{type:StyleCompiler},{type:ViewCompiler},{type:NgModuleCompiler},{type:CompilerConfig}],e}(),CompiledTemplate=function(){function e(e,t,r,n,i,o,s){var a=this;this.isHost=e,this.compType=r,this.viewPipes=i,this.schemas=o,this._viewFactory=null,this.loading=null,this._normalizedCompMeta=null,this.isCompiled=!1,this.isCompiledWithDeps=!1,this.viewComponentTypes=[],this.viewDirectives=[],n.forEach(function(e){e.isComponent?a.viewComponentTypes.push(e.type.reference):a.viewDirectives.push(e)}),this.proxyViewFactory=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(!a._viewFactory)throw new Error("Illegal state: CompiledTemplate for "+stringify$1(a.compType)+" is not compiled yet!");return a._viewFactory.apply(null,e)},this.proxyComponentFactory=e?new ComponentFactory(t,this.proxyViewFactory,r.reference):null,s.syncResult?this._normalizedCompMeta=s.syncResult:this.loading=s.asyncResult.then(function(e){a._normalizedCompMeta=e,a.loading=null})}return Object.defineProperty(e.prototype,"normalizedCompMeta",{get:function(){if(this.loading)throw new Error("Template is still loading for "+this.compType.name+"!");return this._normalizedCompMeta},enumerable:!0,configurable:!0}),e.prototype.compiled=function(e){this._viewFactory=e,this.isCompiled=!0},e.prototype.depsCompiled=function(){this.isCompiledWithDeps=!0},e}(),ModuleBoundCompiler=function(){function e(e,t){this._delegate=e,this._ngModule=t}return Object.defineProperty(e.prototype,"_injector",{get:function(){return this._delegate.injector},enumerable:!0,configurable:!0}),e.prototype.compileModuleSync=function(e){return this._delegate.compileModuleSync(e)},e.prototype.compileModuleAsync=function(e){return this._delegate.compileModuleAsync(e)},e.prototype.compileModuleAndAllComponentsSync=function(e){return this._delegate.compileModuleAndAllComponentsSync(e)},e.prototype.compileModuleAndAllComponentsAsync=function(e){return this._delegate.compileModuleAndAllComponentsAsync(e)},e.prototype.clearCache=function(){this._delegate.clearCache()},e.prototype.clearCacheFor=function(e){this._delegate.clearCacheFor(e)},e}(),SECURITY_SCHEMA={};registerContext(SecurityContext.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),registerContext(SecurityContext.STYLE,["*|style"]),registerContext(SecurityContext.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),registerContext(SecurityContext.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"]);var __extends$37=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},BOOLEAN="boolean",NUMBER="number",STRING="string",OBJECT="object",SCHEMA=["*|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^*|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^abbr|!autoplay,!controls,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,#playbackRate,preload,src,%srcObject,#volume",":svg:^abbr|*abort,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","abbr^*|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","a^abbr|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^abbr|alt,coords,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,search,shape,target,username","audio^media|","br^abbr|clear","base^abbr|href,target","body^abbr|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^abbr|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^abbr|#height,#width","content^abbr|select","dl^abbr|!compact","datalist^abbr|","details^abbr|!open","dialog^abbr|!open,returnValue","dir^abbr|!compact","div^abbr|align","embed^abbr|align,height,name,src,type,width","fieldset^abbr|!disabled,name","font^abbr|color,face,size","form^abbr|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^abbr|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^abbr|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^abbr|align,color,!noShade,size,width","head^abbr|","h1,h2,h3,h4,h5,h6^abbr|align","html^abbr|version","iframe^abbr|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^abbr|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^abbr|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","keygen^abbr|!autofocus,challenge,!disabled,keytype,name","li^abbr|type,#value","label^abbr|htmlFor","legend^abbr|align","link^abbr|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,rel,%relList,rev,%sizes,target,type","map^abbr|name","marquee^abbr|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^abbr|!compact","meta^abbr|content,httpEquiv,name,scheme","meter^abbr|#high,#low,#max,#min,#optimum,#value","ins,del^abbr|cite,dateTime","ol^abbr|!compact,!reversed,#start,type","object^abbr|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^abbr|!disabled,label","option^abbr|!defaultSelected,!disabled,label,!selected,text,value","output^abbr|defaultValue,%htmlFor,name,value","p^abbr|align","param^abbr|name,type,value,valueType","picture^abbr|","pre^abbr|#width","progress^abbr|#max,#value","q,blockquote,cite^abbr|","script^abbr|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^abbr|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^abbr|","source^abbr|media,sizes,src,srcset,type","span^abbr|","style^abbr|!disabled,media,type","caption^abbr|align","th,td^abbr|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^abbr|align,ch,chOff,#span,vAlign,width","table^abbr|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^abbr|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^abbr|align,ch,chOff,vAlign","template^abbr|","textarea^abbr|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^abbr|text","track^abbr|!default,kind,label,src,srclang","ul^abbr|!compact,type","unknown^abbr|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:cursor^:svg:|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan"],_ATTR_TO_PROP={class:"className",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},DomElementSchemaRegistry=function(e){function t(){var t=this;e.call(this),this._schema={},SCHEMA.forEach(function(e){var r=e.split("|"),n=r[0],i=r[1],o=i.split(","),s=n.split("^"),a=s[0],u=s[1],c={};a.split(",").forEach(function(e){return t._schema[e.toLowerCase()]=c});var l=t._schema[u];l&&Object.keys(l).forEach(function(e){c[e]=l[e]}),o.forEach(function(e){if(e.length>0)switch(e[0]){case"*":break;case"!":c[e.substring(1)]=BOOLEAN;break;case"#":c[e.substring(1)]=NUMBER;break;case"%":c[e.substring(1)]=OBJECT;break;default:c[e]=STRING}})})}return __extends$37(t,e),t.prototype.hasProperty=function(e,t,r){if(r.some(function(e){return e.name===NO_ERRORS_SCHEMA.name}))return!0;if(e.indexOf("-")>-1){if("ng-container"===e||"ng-content"===e)return!1;if(r.some(function(e){return e.name===CUSTOM_ELEMENTS_SCHEMA.name}))return!0}var n=this._schema[e.toLowerCase()]||this._schema.unknown;return!!n[t]},t.prototype.hasElement=function(e,t){if(t.some(function(e){return e.name===NO_ERRORS_SCHEMA.name}))return!0;if(e.indexOf("-")>-1){if("ng-container"===e||"ng-content"===e)return!0;if(t.some(function(e){return e.name===CUSTOM_ELEMENTS_SCHEMA.name}))return!0}return!!this._schema[e.toLowerCase()]},t.prototype.securityContext=function(e,t){e=e.toLowerCase(),t=t.toLowerCase();var r=SECURITY_SCHEMA[e+"|"+t];return r?r:(r=SECURITY_SCHEMA["*|"+t],r?r:SecurityContext.NONE)},t.prototype.getMappedPropName=function(e){return _ATTR_TO_PROP[e]||e},t.prototype.getDefaultComponentElementName=function(){return"ng-component"},t.decorators=[{type:Injectable}],t.ctorParameters=[],t}(ElementSchemaRegistry),_NO_RESOURCE_LOADER={get:function(e){throw new Error("No ResourceLoader implementation has been provided. Can't read the url \""+e+'"')}},COMPILER_PROVIDERS=[{provide:Reflector$1,useValue:reflector$1},{provide:ReflectorReader$1,useExisting:Reflector$1},{provide:ResourceLoader,useValue:_NO_RESOURCE_LOADER},Console$1,Lexer,Parser,HtmlParser,{provide:I18NHtmlParser,
useFactory:function(e,t,r){return new I18NHtmlParser(e,t,r)},deps:[HtmlParser,[new OptionalMetadata,new Inject(TRANSLATIONS)],[new OptionalMetadata,new Inject(TRANSLATIONS_FORMAT_)]]},TemplateParser,DirectiveNormalizer,CompileMetadataResolver,DEFAULT_PACKAGE_URL_PROVIDER,StyleCompiler,ViewCompiler,NgModuleCompiler,{provide:CompilerConfig,useValue:new CompilerConfig},RuntimeCompiler,{provide:Compiler,useExisting:RuntimeCompiler},DomElementSchemaRegistry,{provide:ElementSchemaRegistry,useExisting:DomElementSchemaRegistry},UrlResolver,DirectiveResolver,PipeResolver,NgModuleResolver],RuntimeCompilerFactory=function(){function e(e){this._defaultOptions=[{useDebug:isDevMode(),useJit:!0,defaultEncapsulation:ViewEncapsulation.Emulated}].concat(e)}return e.prototype.createCompiler=function(e){void 0===e&&(e=[]);var t=_mergeOptions(this._defaultOptions.concat(e)),r=ReflectiveInjector.resolveAndCreate([COMPILER_PROVIDERS,{provide:CompilerConfig,useFactory:function(){return new CompilerConfig({genDebugInfo:t.useDebug,useJit:t.useJit,defaultEncapsulation:t.defaultEncapsulation,logBindingUpdate:t.useDebug})},deps:[]},t.providers]);return r.get(Compiler)},e.decorators=[{type:Injectable}],e.ctorParameters=[{type:Array,decorators:[{type:Inject,args:[COMPILER_OPTIONS]}]}],e}(),platformCoreDynamic=createPlatformFactory(platformCore,"coreDynamic",[{provide:COMPILER_OPTIONS,useValue:{},multi:!0},{provide:CompilerFactory,useClass:RuntimeCompilerFactory},{provide:PLATFORM_INITIALIZER,useValue:_initReflector,multi:!0}]),globalScope$2;globalScope$2="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var global$3=globalScope$2,Date$3=global$3.Date;global$3.assert=function(e){};var StringWrapper$2=function(){function e(){}return e.fromCharCode=function(e){return String.fromCharCode(e)},e.charCodeAt=function(e,t){return e.charCodeAt(t)},e.split=function(e,t){return e.split(t)},e.equals=function(e,t){return e===t},e.stripLeft=function(e,t){if(e&&e.length){for(var r=0,n=0;n<e.length&&e[n]==t;n++)r++;e=e.substring(r)}return e},e.stripRight=function(e,t){if(e&&e.length){for(var r=e.length,n=e.length-1;n>=0&&e[n]==t;n--)r--;e=e.substring(0,r)}return e},e.replace=function(e,t,r){return e.replace(t,r)},e.replaceAll=function(e,t,r){return e.replace(t,r)},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.replaceAllMapped=function(e,t,r){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.splice(-2,2),r(e)})},e.contains=function(e,t){return e.indexOf(t)!=-1},e.compare=function(e,t){return e<t?-1:e>t?1:0},e}(),NumberWrapper$2=function(){function e(){}return e.toFixed=function(e,t){return e.toFixed(t)},e.equal=function(e,t){return e===t},e.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t},e.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t)}else if(16==t){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t)}else{var r=parseInt(e,t);if(!isNaN(r))return r}throw new Error("Invalid integer literal when parsing "+e+" in base "+t)},e.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNumeric=function(e){return!isNaN(e-parseFloat(e))},e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}(),Json$2=function(){function e(){}return e.parse=function(e){return global$3.JSON.parse(e)},e.stringify=function(e){return global$3.JSON.stringify(e,null,2)},e}(),DateWrapper$2=function(){function e(){}return e.create=function(e,t,r,n,i,o,s){return void 0===t&&(t=1),void 0===r&&(r=1),void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===s&&(s=0),new Date$3(e,t-1,r,n,i,o,s)},e.fromISOString=function(e){return new Date$3(e)},e.fromMillis=function(e){return new Date$3(e)},e.toMillis=function(e){return e.getTime()},e.now=function(){return new Date$3},e.toJson=function(e){return e.toJSON()},e}(),_symbolIterator$2=null,__extends$39=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},BaseError$1=function(e){function t(t){var r=e.call(this,t);this._nativeError=r}return __extends$39(t,e),Object.defineProperty(t.prototype,"message",{get:function(){return this._nativeError.message},set:function(e){this._nativeError.message=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._nativeError.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stack",{get:function(){return this._nativeError.stack},set:function(e){this._nativeError.stack=e},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this._nativeError.toString()},t}(Error),WrappedError$1=function(e){function t(t,r){e.call(this,t+" caused by: "+(r instanceof Error?r.message:r)),this.originalError=r}return __extends$39(t,e),Object.defineProperty(t.prototype,"stack",{get:function(){return(this.originalError instanceof Error?this.originalError:this._nativeError).stack},enumerable:!0,configurable:!0}),t}(BaseError$1),__extends$38=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},InvalidPipeArgumentError=function(e){function t(t,r){e.call(this,"Invalid argument '"+r+"' for pipe '"+stringify$2(t)+"'")}return __extends$38(t,e),t}(BaseError$1),ObservableStrategy=function(){function e(){}return e.prototype.createSubscription=function(e,t){return e.subscribe({next:t,error:function(e){throw e}})},e.prototype.dispose=function(e){e.unsubscribe()},e.prototype.onDestroy=function(e){e.unsubscribe()},e}(),PromiseStrategy=function(){function e(){}return e.prototype.createSubscription=function(e,t){return e.then(t,function(e){throw e})},e.prototype.dispose=function(e){},e.prototype.onDestroy=function(e){},e}(),_promiseStrategy=new PromiseStrategy,_observableStrategy=new ObservableStrategy,AsyncPipe=function(){function e(e){this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}return e.prototype.ngOnDestroy=function(){isPresent$2(this._subscription)&&this._dispose()},e.prototype.transform=function(e){return isBlank$2(this._obj)?(isPresent$2(e)&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue):e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,WrappedValue.wrap(this._latestValue))},e.prototype._subscribe=function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(r){return t._updateLatestValue(e,r)})},e.prototype._selectStrategy=function(t){if(isPromise$2(t))return _promiseStrategy;if(t.subscribe)return _observableStrategy;throw new InvalidPipeArgumentError(e,t)},e.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},e.prototype._updateLatestValue=function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())},e.decorators=[{type:Pipe,args:[{name:"async",pure:!1}]}],e.ctorParameters=[{type:ChangeDetectorRef}],e}(),Map$3=global$3.Map,Set$3=global$3.Set,createMapFromPairs$2=function(){try{if(1===new Map$3([[1,2]]).size)return function(e){return new Map$3(e)}}catch(e){}return function(e){for(var t=new Map$3,r=0;r<e.length;r++){var n=e[r];t.set(n[0],n[1])}return t}}(),createMapFromMap$2=function(){try{if(new Map$3(new Map$3))return function(e){return new Map$3(e)}}catch(e){}return function(e){var t=new Map$3;return e.forEach(function(e,r){t.set(r,e)}),t}}(),_clearValues$2=function(){return(new Map$3).keys().next?function(e){for(var t,r=e.keys();!(t=r.next()).done;)e.set(t.value,null)}:function(e){e.forEach(function(t,r){e.set(r,null)})}}(),_arrayFromMap$2=function(){try{if((new Map$3).values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(e){}return function(e,t){var r=ListWrapper$2.createFixedSize(e.size),n=0;return e.forEach(function(e,i){r[n]=t?e:i,n++}),r}}(),StringMapWrapper$2=function(){function e(){}return e.create=function(){return{}},e.contains=function(e,t){return e.hasOwnProperty(t)},e.get=function(e,t){return e.hasOwnProperty(t)?e[t]:void 0},e.set=function(e,t,r){e[t]=r},e.keys=function(e){return Object.keys(e)},e.values=function(e){return Object.keys(e).map(function(t){return e[t]})},e.isEmpty=function(e){for(var t in e)return!1;return!0},e.delete=function(e,t){delete e[t]},e.forEach=function(e,t){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];t(e[i],i)}},e.merge=function(e,t){for(var r={},n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];r[o]=e[o]}for(var s=0,a=Object.keys(t);s<a.length;s++){var o=a[s];r[o]=t[o]}return r},e.equals=function(e,t){var r=Object.keys(e),n=Object.keys(t);if(r.length!=n.length)return!1;for(var i,o=0;o<r.length;o++)if(i=r[o],e[i]!==t[i])return!1;return!0},e}(),ListWrapper$2=function(){function e(){}return e.createFixedSize=function(e){return new Array(e)},e.createGrowableSize=function(e){return new Array(e)},e.clone=function(e){return e.slice(0)},e.forEachWithIndex=function(e,t){for(var r=0;r<e.length;r++)t(e[r],r)},e.first=function(e){return e?e[0]:null},e.last=function(e){return e&&0!=e.length?e[e.length-1]:null},e.indexOf=function(e,t,r){return void 0===r&&(r=0),e.indexOf(t,r)},e.contains=function(e,t){return e.indexOf(t)!==-1},e.reversed=function(t){var r=e.clone(t);return r.reverse()},e.concat=function(e,t){return e.concat(t)},e.insert=function(e,t,r){e.splice(t,0,r)},e.removeAt=function(e,t){var r=e[t];return e.splice(t,1),r},e.removeAll=function(e,t){for(var r=0;r<t.length;++r){var n=e.indexOf(t[r]);e.splice(n,1)}},e.remove=function(e,t){var r=e.indexOf(t);return r>-1&&(e.splice(r,1),!0)},e.clear=function(e){e.length=0},e.isEmpty=function(e){return 0==e.length},e.fill=function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=null),e.fill(t,r,null===n?e.length:n)},e.equals=function(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.splice=function(e,t,r){return e.splice(t,r)},e.sort=function(e,t){isPresent$2(t)?e.sort(t):e.sort()},e.toString=function(e){return e.toString()},e.toJSON=function(e){return JSON.stringify(e)},e.maximum=function(e,t){if(0==e.length)return null;for(var r=null,n=-(1/0),i=0;i<e.length;i++){var o=e[i];if(!isBlank$2(o)){var s=t(o);s>n&&(r=o,n=s)}}return r},e.flatten=function(e){var t=[];return _flattenArray$2(e,t),t},e.addAll=function(e,t){for(var r=0;r<t.length;r++)e.push(t[r])},e}(),createSetFromList$2=function(){var e=new Set$3([1,2,3]);return 3===e.size?function(e){return new Set$3(e)}:function(e){var t=new Set$3(e);if(t.size!==e.length)for(var r=0;r<e.length;r++)t.add(e[r]);return t}}(),NumberFormatStyle;!function(e){e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency"}(NumberFormatStyle||(NumberFormatStyle={}));var NumberFormatter=function(){function e(){}return e.format=function(e,t,r,n){var i=void 0===n?{}:n,o=i.minimumIntegerDigits,s=i.minimumFractionDigits,a=i.maximumFractionDigits,u=i.currency,c=i.currencyAsSymbol,l=void 0!==c&&c,p={minimumIntegerDigits:o,minimumFractionDigits:s,maximumFractionDigits:a,style:NumberFormatStyle[r].toLowerCase()};return r==NumberFormatStyle.Currency&&(p.currency=u,p.currencyDisplay=l?"symbol":"code"),new Intl.NumberFormat(t,p).format(e)},e}(),DATE_FORMATS_SPLIT=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,PATTERN_ALIASES={yMMMdjms:datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",3),digitCondition("day",1),digitCondition("hour",1),digitCondition("minute",1),digitCondition("second",1)])),yMdjm:datePartGetterFactory(combine([digitCondition("year",1),digitCondition("month",1),digitCondition("day",1),digitCondition("hour",1),digitCondition("minute",1)])),yMMMMEEEEd:datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",4),nameCondition("weekday",4),digitCondition("day",1)])),yMMMMd:datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",4),digitCondition("day",1)])),yMMMd:datePartGetterFactory(combine([digitCondition("year",1),nameCondition("month",3),digitCondition("day",1)])),yMd:datePartGetterFactory(combine([digitCondition("year",1),digitCondition("month",1),digitCondition("day",1)])),jms:datePartGetterFactory(combine([digitCondition("hour",1),digitCondition("second",1),digitCondition("minute",1)])),jm:datePartGetterFactory(combine([digitCondition("hour",1),digitCondition("minute",1)]))},DATE_FORMATS={yyyy:datePartGetterFactory(digitCondition("year",4)),yy:datePartGetterFactory(digitCondition("year",2)),y:datePartGetterFactory(digitCondition("year",1)),MMMM:datePartGetterFactory(nameCondition("month",4)),MMM:datePartGetterFactory(nameCondition("month",3)),MM:datePartGetterFactory(digitCondition("month",2)),M:datePartGetterFactory(digitCondition("month",1)),LLLL:datePartGetterFactory(nameCondition("month",4)),dd:datePartGetterFactory(digitCondition("day",2)),d:datePartGetterFactory(digitCondition("day",1)),HH:digitModifier(hourExtracter(datePartGetterFactory(hour12Modify(digitCondition("hour",2),!1)))),H:hourExtracter(datePartGetterFactory(hour12Modify(digitCondition("hour",1),!1))),hh:digitModifier(hourExtracter(datePartGetterFactory(hour12Modify(digitCondition("hour",2),!0)))),h:hourExtracter(datePartGetterFactory(hour12Modify(digitCondition("hour",1),!0))),jj:datePartGetterFactory(digitCondition("hour",2)),j:datePartGetterFactory(digitCondition("hour",1)),mm:digitModifier(datePartGetterFactory(digitCondition("minute",2))),m:datePartGetterFactory(digitCondition("minute",1)),ss:digitModifier(datePartGetterFactory(digitCondition("second",2))),s:datePartGetterFactory(digitCondition("second",1)),sss:datePartGetterFactory(digitCondition("second",3)),EEEE:datePartGetterFactory(nameCondition("weekday",4)),EEE:datePartGetterFactory(nameCondition("weekday",3)),EE:datePartGetterFactory(nameCondition("weekday",2)),E:datePartGetterFactory(nameCondition("weekday",1)),a:hourClockExtracter(datePartGetterFactory(hour12Modify(digitCondition("hour",1),!0))),Z:timeZoneGetter("short"),z:timeZoneGetter("long"),ww:datePartGetterFactory({}),w:datePartGetterFactory({}),G:datePartGetterFactory(nameCondition("era",1)),GG:datePartGetterFactory(nameCondition("era",2)),GGG:datePartGetterFactory(nameCondition("era",3)),GGGG:datePartGetterFactory(nameCondition("era",4))},datePartsFormatterCache=new Map,slice=[].slice,DateFormatter=function(){function e(){}return e.format=function(e,t,r){return dateFormatter(r,e,t)},e}(),DatePipe=function(){function e(e){this._locale=e}return e.prototype.transform=function(t,r){if(void 0===r&&(r="mediumDate"),isBlank$2(t))return null;if(!this.supports(t))throw new InvalidPipeArgumentError(e,t);return NumberWrapper$2.isNumeric(t)?t=DateWrapper$2.fromMillis(parseFloat(t)):isString$2(t)&&(t=DateWrapper$2.fromISOString(t)),StringMapWrapper$2.contains(e._ALIASES,r)&&(r=StringMapWrapper$2.get(e._ALIASES,r)),DateFormatter.format(t,this._locale,r)},e.prototype.supports=function(e){return!(!isDate$2(e)&&!NumberWrapper$2.isNumeric(e))||!(!isString$2(e)||!isDate$2(DateWrapper$2.fromISOString(e)))},e._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},e.decorators=[{type:Pipe,args:[{name:"date",pure:!0}]}],e.ctorParameters=[{type:void 0,decorators:[{type:Inject,args:[LOCALE_ID]}]}],e}(),__extends$40=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},NgLocalization=function(){function e(){}return e}(),NgLocaleLocalization=function(e){function t(t){e.call(this),this._locale=t}return __extends$40(t,e),t.prototype.getPluralCategory=function(e){var t=getPluralCase(this._locale,e);switch(t){case Plural.Zero:return"zero";case Plural.One:return"one";case Plural.Two:return"two";case Plural.Few:return"few";case Plural.Many:return"many";default:return"other"}},t.decorators=[{type:Injectable}],t.ctorParameters=[{type:void 0,decorators:[{type:Inject,args:[LOCALE_ID]}]}],t}(NgLocalization),Plural;!function(e){e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other"}(Plural||(Plural={}));var _INTERPOLATION_REGEXP=/#/g,I18nPluralPipe=function(){function e(e){this._localization=e}return e.prototype.transform=function(t,r){if(isBlank$2(t))return"";if(!isStringMap$2(r))throw new InvalidPipeArgumentError(e,r);var n=getPluralCategory(t,Object.keys(r),this._localization);return StringWrapper$2.replaceAll(r[n],_INTERPOLATION_REGEXP,t.toString())},e.decorators=[{type:Pipe,args:[{name:"i18nPlural",pure:!0}]}],e.ctorParameters=[{type:NgLocalization}],e}(),I18nSelectPipe=function(){function e(){}return e.prototype.transform=function(t,r){if(isBlank$2(t))return"";if(!isStringMap$2(r))throw new InvalidPipeArgumentError(e,r);return r.hasOwnProperty(t)?r[t]:""},e.decorators=[{type:Pipe,args:[{name:"i18nSelect",pure:!0}]}],e.ctorParameters=[],e}(),JsonPipe=function(){function e(){}return e.prototype.transform=function(e){return Json$2.stringify(e)},e.decorators=[{type:Pipe,args:[{name:"json",pure:!1}]}],e.ctorParameters=[],e}(),LowerCasePipe=function(){function e(){}return e.prototype.transform=function(t){if(isBlank$2(t))return t;if(!isString$2(t))throw new InvalidPipeArgumentError(e,t);return t.toLowerCase()},e.decorators=[{type:Pipe,args:[{name:"lowercase"}]}],e.ctorParameters=[],e}(),_NUMBER_FORMAT_REGEXP=/^(\d+)?\.((\d+)(\-(\d+))?)?$/,DecimalPipe=function(){function e(e){this._locale=e}return e.prototype.transform=function(t,r){return void 0===r&&(r=null),formatNumber(e,this._locale,t,NumberFormatStyle.Decimal,r)},e.decorators=[{type:Pipe,args:[{name:"number"}]}],e.ctorParameters=[{type:void 0,decorators:[{type:Inject,args:[LOCALE_ID]}]}],e}(),PercentPipe=function(){function e(e){this._locale=e}return e.prototype.transform=function(t,r){return void 0===r&&(r=null),formatNumber(e,this._locale,t,NumberFormatStyle.Percent,r)},e.decorators=[{type:Pipe,args:[{name:"percent"}]}],e.ctorParameters=[{type:void 0,decorators:[{type:Inject,args:[LOCALE_ID]}]}],e}(),CurrencyPipe=function(){function e(e){this._locale=e}return e.prototype.transform=function(t,r,n,i){return void 0===r&&(r="USD"),void 0===n&&(n=!1),void 0===i&&(i=null),formatNumber(e,this._locale,t,NumberFormatStyle.Currency,i,r,n)},e.decorators=[{type:Pipe,args:[{name:"currency"}]}],e.ctorParameters=[{type:void 0,decorators:[{type:Inject,args:[LOCALE_ID]}]}],e}(),SlicePipe=function(){function e(){}return e.prototype.transform=function(t,r,n){if(void 0===n&&(n=null),isBlank$2(t))return t;if(!this.supports(t))throw new InvalidPipeArgumentError(e,t);return isString$2(t)?StringWrapper$2.slice(t,r,n):ListWrapper$2.slice(t,r,n)},e.prototype.supports=function(e){return isString$2(e)||isArray$3(e)},e.decorators=[{type:Pipe,args:[{name:"slice",pure:!1}]}],e.ctorParameters=[],e}(),UpperCasePipe=function(){function e(){}return e.prototype.transform=function(t){if(isBlank$2(t))return t;if(!isString$2(t))throw new InvalidPipeArgumentError(e,t);return t.toUpperCase()},e.decorators=[{type:Pipe,args:[{name:"uppercase"}]}],e.ctorParameters=[],e}(),NgClass=function(){function e(e,t,r,n){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=r,this._renderer=n,this._initialClasses=[]}return Object.defineProperty(e.prototype,"initialClasses",{set:function(e){this._applyInitialClasses(!0),this._initialClasses=isPresent$2(e)&&isString$2(e)?e.split(" "):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClass",{set:function(e){this._cleanupClasses(this._rawClass),isString$2(e)&&(e=e.split(" ")),this._rawClass=e,this._iterableDiffer=null,this._keyValueDiffer=null,isPresent$2(e)&&(isListLikeIterable$2(e)?this._iterableDiffer=this._iterableDiffers.find(e).create(null):this._keyValueDiffer=this._keyValueDiffers.find(e).create(null))},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(isPresent$2(this._iterableDiffer)){var e=this._iterableDiffer.diff(this._rawClass);isPresent$2(e)&&this._applyIterableChanges(e)}if(isPresent$2(this._keyValueDiffer)){var e=this._keyValueDiffer.diff(this._rawClass);isPresent$2(e)&&this._applyKeyValueChanges(e)}},e.prototype._cleanupClasses=function(e){this._applyClasses(e,!0),this._applyInitialClasses(!1)},e.prototype._applyKeyValueChanges=function(e){var t=this;e.forEachAddedItem(function(e){t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})},e.prototype._applyIterableChanges=function(e){var t=this;e.forEachAddedItem(function(e){t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){t._toggleClass(e.item,!1)})},e.prototype._applyInitialClasses=function(e){var t=this;this._initialClasses.forEach(function(r){return t._toggleClass(r,!e)})},e.prototype._applyClasses=function(e,t){var r=this;isPresent$2(e)&&(isArray$3(e)?e.forEach(function(e){return r._toggleClass(e,!t)}):e instanceof Set?e.forEach(function(e){return r._toggleClass(e,!t)}):StringMapWrapper$2.forEach(e,function(e,n){isPresent$2(e)&&r._toggleClass(n,!t)}))},e.prototype._toggleClass=function(e,t){if(e=e.trim(),e.length>0)if(e.indexOf(" ")>-1)for(var r=e.split(/\s+/g),n=0,i=r.length;n<i;n++)this._renderer.setElementClass(this._ngEl.nativeElement,r[n],t);else this._renderer.setElementClass(this._ngEl.nativeElement,e,t)},e.decorators=[{type:Directive,args:[{selector:"[ngClass]"}]}],e.ctorParameters=[{type:IterableDiffers},{type:KeyValueDiffers},{type:ElementRef},{type:Renderer}],e.propDecorators={initialClasses:[{type:Input,args:["class"]}],ngClass:[{type:Input}]},e}(),NgForRow=function(){function e(e,t,r){this.$implicit=e,this.index=t,this.count=r}return Object.defineProperty(e.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"even",{get:function(){return this.index%2===0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),e}(),NgFor=function(){function e(e,t,r,n){this._viewContainer=e,this._templateRef=t,this._iterableDiffers=r,this._cdr=n}return Object.defineProperty(e.prototype,"ngForTemplate",{set:function(e){isPresent$2(e)&&(this._templateRef=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){if("ngForOf"in e){var t=e.ngForOf.currentValue;if(isBlank$2(this._differ)&&isPresent$2(t))try{this._differ=this._iterableDiffers.find(t).create(this._cdr,this.ngForTrackBy)}catch(e){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+getTypeNameForDebugging$2(t)+"'. NgFor only supports binding to Iterables such as Arrays.")}}},e.prototype.ngDoCheck=function(){if(isPresent$2(this._differ)){var e=this._differ.diff(this.ngForOf);isPresent$2(e)&&this._applyChanges(e)}},e.prototype._applyChanges=function(e){var t=this,r=[];e.forEachOperation(function(e,n,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._templateRef,new NgForRow(null,null,null),i),s=new RecordViewTuple(e,o);r.push(s)}else if(null==i)t._viewContainer.remove(n);else{var o=t._viewContainer.get(n);t._viewContainer.move(o,i);var s=new RecordViewTuple(e,o);r.push(s)}});for(var n=0;n<r.length;n++)this._perViewChange(r[n].view,r[n].record);for(var n=0,i=this._viewContainer.length;n<i;n++){var o=this._viewContainer.get(n);o.context.index=n,o.context.count=i}e.forEachIdentityChange(function(e){var r=t._viewContainer.get(e.currentIndex);r.context.$implicit=e.item})},e.prototype._perViewChange=function(e,t){e.context.$implicit=t.item},e.decorators=[{type:Directive,args:[{selector:"[ngFor][ngForOf]"}]}],e.ctorParameters=[{type:ViewContainerRef},{type:TemplateRef},{type:IterableDiffers},{type:ChangeDetectorRef}],e.propDecorators={ngForOf:[{type:Input}],ngForTrackBy:[{type:Input}],ngForTemplate:[{type:Input}]},e}(),RecordViewTuple=function(){function e(e,t){this.record=e,this.view=t}return e}(),NgIf=function(){function e(e,t){this._viewContainer=e,this._templateRef=t,this._prevCondition=null}return Object.defineProperty(e.prototype,"ngIf",{set:function(e){!e||!isBlank$2(this._prevCondition)&&this._prevCondition?e||!isBlank$2(this._prevCondition)&&!this._prevCondition||(this._prevCondition=!1,this._viewContainer.clear()):(this._prevCondition=!0,this._viewContainer.createEmbeddedView(this._templateRef))},enumerable:!0,configurable:!0}),e.decorators=[{type:Directive,args:[{selector:"[ngIf]"}]}],e.ctorParameters=[{type:ViewContainerRef},{type:TemplateRef}],e.propDecorators={ngIf:[{type:Input}]},e}(),_CASE_DEFAULT=new Object,SwitchView=function(){function e(e,t){this._viewContainerRef=e,this._templateRef=t}return e.prototype.create=function(){this._viewContainerRef.createEmbeddedView(this._templateRef)},e.prototype.destroy=function(){this._viewContainerRef.clear()},e}(),NgSwitch=function(){function e(){this._useDefault=!1,this._valueViews=new Map,this._activeViews=[]}return Object.defineProperty(e.prototype,"ngSwitch",{set:function(e){this._emptyAllActiveViews(),this._useDefault=!1;var t=this._valueViews.get(e);isBlank$2(t)&&(this._useDefault=!0,t=normalizeBlank$2(this._valueViews.get(_CASE_DEFAULT))),this._activateViews(t),this._switchValue=e},enumerable:!0,configurable:!0}),e.prototype._onCaseValueChanged=function(e,t,r){this._deregisterView(e,r),this._registerView(t,r),e===this._switchValue?(r.destroy(),ListWrapper$2.remove(this._activeViews,r)):t===this._switchValue&&(this._useDefault&&(this._useDefault=!1,this._emptyAllActiveViews()),r.create(),this._activeViews.push(r)),0!==this._activeViews.length||this._useDefault||(this._useDefault=!0,this._activateViews(this._valueViews.get(_CASE_DEFAULT)))},e.prototype._emptyAllActiveViews=function(){for(var e=this._activeViews,t=0;t<e.length;t++)e[t].destroy();this._activeViews=[]},e.prototype._activateViews=function(e){if(isPresent$2(e)){for(var t=0;t<e.length;t++)e[t].create();this._activeViews=e}},e.prototype._registerView=function(e,t){var r=this._valueViews.get(e);isBlank$2(r)&&(r=[],this._valueViews.set(e,r)),r.push(t)},e.prototype._deregisterView=function(e,t){if(e!==_CASE_DEFAULT){var r=this._valueViews.get(e);1==r.length?this._valueViews.delete(e):ListWrapper$2.remove(r,t)}},e.decorators=[{type:Directive,args:[{selector:"[ngSwitch]"}]}],e.ctorParameters=[],e.propDecorators={ngSwitch:[{type:Input}]},e}(),NgSwitchCase=function(){function e(e,t,r){this._value=_CASE_DEFAULT,this._switch=r,this._view=new SwitchView(e,t)}return Object.defineProperty(e.prototype,"ngSwitchCase",{set:function(e){this._switch._onCaseValueChanged(this._value,e,this._view),this._value=e},enumerable:!0,configurable:!0}),e.decorators=[{type:Directive,args:[{selector:"[ngSwitchCase]"}]}],e.ctorParameters=[{type:ViewContainerRef},{type:TemplateRef},{type:NgSwitch,decorators:[{type:Host}]}],e.propDecorators={ngSwitchCase:[{type:Input}]},e}(),NgSwitchDefault=function(){function e(e,t,r){r._registerView(_CASE_DEFAULT,new SwitchView(e,t))}return e.decorators=[{type:Directive,args:[{selector:"[ngSwitchDefault]"}]}],e.ctorParameters=[{type:ViewContainerRef},{type:TemplateRef},{type:NgSwitch,decorators:[{type:Host}]}],e}(),NgPlural=function(){function e(e){this._localization=e,this._caseViews={}}return Object.defineProperty(e.prototype,"ngPlural",{set:function(e){this._switchValue=e,this._updateView()},enumerable:!0,configurable:!0}),e.prototype.addCase=function(e,t){this._caseViews[e]=t},e.prototype._updateView=function(){this._clearViews();var e=getPluralCategory(this._switchValue,Object.keys(this._caseViews),this._localization);this._activateView(this._caseViews[e])},e.prototype._clearViews=function(){isPresent$2(this._activeView)&&this._activeView.destroy()},e.prototype._activateView=function(e){isPresent$2(e)&&(this._activeView=e,this._activeView.create())},e.decorators=[{type:Directive,args:[{selector:"[ngPlural]"}]}],e.ctorParameters=[{type:NgLocalization}],e.propDecorators={ngPlural:[{type:Input}]},e}(),NgPluralCase=function(){function e(e,t,r,n){this.value=e,n.addCase(e,new SwitchView(r,t))}return e.decorators=[{type:Directive,args:[{selector:"[ngPluralCase]"}]}],e.ctorParameters=[{type:void 0,decorators:[{type:Attribute,args:["ngPluralCase"]}]},{type:TemplateRef},{type:ViewContainerRef},{type:NgPlural,decorators:[{type:Host}]}],e}(),NgStyle=function(){function e(e,t,r){this._differs=e,this._ngEl=t,this._renderer=r}return Object.defineProperty(e.prototype,"ngStyle",{set:function(e){this._ngStyle=e,isBlank$2(this._differ)&&isPresent$2(e)&&(this._differ=this._differs.find(this._ngStyle).create(null))},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(isPresent$2(this._differ)){var e=this._differ.diff(this._ngStyle);isPresent$2(e)&&this._applyChanges(e)}},e.prototype._applyChanges=function(e){var t=this;e.forEachRemovedItem(function(e){t._setStyle(e.key,null)}),e.forEachAddedItem(function(e){t._setStyle(e.key,e.currentValue)}),e.forEachChangedItem(function(e){t._setStyle(e.key,e.currentValue)})},e.prototype._setStyle=function(e,t){var r=e.split("."),n=r[0],i=isPresent$2(t)&&2===r.length?""+t+r[1]:t;this._renderer.setElementStyle(this._ngEl.nativeElement,n,i)},e.decorators=[{type:Directive,args:[{selector:"[ngStyle]"}]}],e.ctorParameters=[{type:KeyValueDiffers},{type:ElementRef},{type:Renderer}],e.propDecorators={ngStyle:[{type:Input}]},e}(),NgTemplateOutlet=function(){function e(e){this._viewContainerRef=e}return Object.defineProperty(e.prototype,"ngOutletContext",{set:function(e){this._context=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngTemplateOutlet",{set:function(e){this._templateRef=e},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(){this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this._templateRef&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this._templateRef,this._context))},e.decorators=[{type:Directive,args:[{selector:"[ngTemplateOutlet]"}]}],e.ctorParameters=[{type:ViewContainerRef}],e.propDecorators={ngOutletContext:[{type:Input}],ngTemplateOutlet:[{type:Input}]},e}(),PlatformLocation=function(){function e(){}return Object.defineProperty(e.prototype,"pathname",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return null},enumerable:!0,configurable:!0}),e}(),LocationStrategy=function(){function e(){}return e}(),APP_BASE_HREF=new OpaqueToken("appBaseHref"),Location=function(){function e(t){var r=this;this._subject=new EventEmitter$1,this._platformStrategy=t;var n=this._platformStrategy.getBaseHref();this._baseHref=e.stripTrailingSlash(_stripIndexHtml(n)),this._platformStrategy.onPopState(function(e){r._subject.emit({url:r.path(!0),pop:!0,type:e.type})})}return e.prototype.path=function(e){return void 0===e&&(e=!1),this.normalize(this._platformStrategy.path(e))},e.prototype.isCurrentPathEqualTo=function(t,r){
return void 0===r&&(r=""),this.path()==this.normalize(t+e.normalizeQueryParams(r))},e.prototype.normalize=function(t){return e.stripTrailingSlash(_stripBaseHref(this._baseHref,_stripIndexHtml(t)))},e.prototype.prepareExternalUrl=function(e){return e.length>0&&!e.startsWith("/")&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)},e.prototype.go=function(e,t){void 0===t&&(t=""),this._platformStrategy.pushState(null,"",e,t)},e.prototype.replaceState=function(e,t){void 0===t&&(t=""),this._platformStrategy.replaceState(null,"",e,t)},e.prototype.forward=function(){this._platformStrategy.forward()},e.prototype.back=function(){this._platformStrategy.back()},e.prototype.subscribe=function(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=null),this._subject.subscribe({next:e,error:t,complete:r})},e.normalizeQueryParams=function(e){return e.length>0&&"?"!=e.substring(0,1)?"?"+e:e},e.joinWithSlash=function(e,t){if(0==e.length)return t;if(0==t.length)return e;var r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t},e.stripTrailingSlash=function(e){return/\/$/g.test(e)&&(e=e.substring(0,e.length-1)),e},e.decorators=[{type:Injectable}],e.ctorParameters=[{type:LocationStrategy}],e}(),__extends$41=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},HashLocationStrategy=function(e){function t(t,r){e.call(this),this._platformLocation=t,this._baseHref="",isPresent$2(r)&&(this._baseHref=r)}return __extends$41(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.hash;return isPresent$2(t)||(t="#"),t.length>0?t.substring(1):t},t.prototype.prepareExternalUrl=function(e){var t=Location.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t},t.prototype.pushState=function(e,t,r,n){var i=this.prepareExternalUrl(r+Location.normalizeQueryParams(n));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)},t.prototype.replaceState=function(e,t,r,n){var i=this.prepareExternalUrl(r+Location.normalizeQueryParams(n));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},t.decorators=[{type:Injectable}],t.ctorParameters=[{type:PlatformLocation},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[APP_BASE_HREF]}]}],t}(LocationStrategy),__extends$42=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},PathLocationStrategy=function(e){function t(t,r){if(e.call(this),this._platformLocation=t,isBlank$2(r)&&(r=this._platformLocation.getBaseHrefFromDOM()),isBlank$2(r))throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}return __extends$42(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.prepareExternalUrl=function(e){return Location.joinWithSlash(this._baseHref,e)},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.pathname+Location.normalizeQueryParams(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?""+t+r:t},t.prototype.pushState=function(e,t,r,n){var i=this.prepareExternalUrl(r+Location.normalizeQueryParams(n));this._platformLocation.pushState(e,t,i)},t.prototype.replaceState=function(e,t,r,n){var i=this.prepareExternalUrl(r+Location.normalizeQueryParams(n));this._platformLocation.replaceState(e,t,i)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},t.decorators=[{type:Injectable}],t.ctorParameters=[{type:PlatformLocation},{type:void 0,decorators:[{type:Optional},{type:Inject,args:[APP_BASE_HREF]}]}],t}(LocationStrategy),CORE_DIRECTIVES=[NgClass,NgFor,NgIf,NgTemplateOutlet,NgStyle,NgSwitch,NgSwitchCase,NgSwitchDefault,NgPlural,NgPluralCase],COMMON_DIRECTIVES=CORE_DIRECTIVES,COMMON_PIPES=[AsyncPipe,UpperCasePipe,LowerCasePipe,JsonPipe,SlicePipe,DecimalPipe,PercentPipe,CurrencyPipe,DatePipe,I18nPluralPipe,I18nSelectPipe],CommonModule=function(){function e(){}return e.decorators=[{type:NgModule,args:[{declarations:[COMMON_DIRECTIVES,COMMON_PIPES],exports:[COMMON_DIRECTIVES,COMMON_PIPES],providers:[{provide:NgLocalization,useClass:NgLocaleLocalization}]}]}],e.ctorParameters=[],e}(),DebugDomRootRenderer$1=r.DebugDomRootRenderer,NoOpAnimationPlayer$2=r.NoOpAnimationPlayer,_NoOpAnimationDriver=function(){function e(){}return e.prototype.animate=function(e,t,r,n,i,o){return new NoOpAnimationPlayer$2},e}(),AnimationDriver=function(){function e(){}return e.NOOP=new _NoOpAnimationDriver,e}(),globalScope$3;globalScope$3="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var global$4=globalScope$3,Date$4=global$4.Date;global$4.assert=function(e){};var StringWrapper$3=function(){function e(){}return e.fromCharCode=function(e){return String.fromCharCode(e)},e.charCodeAt=function(e,t){return e.charCodeAt(t)},e.split=function(e,t){return e.split(t)},e.equals=function(e,t){return e===t},e.stripLeft=function(e,t){if(e&&e.length){for(var r=0,n=0;n<e.length&&e[n]==t;n++)r++;e=e.substring(r)}return e},e.stripRight=function(e,t){if(e&&e.length){for(var r=e.length,n=e.length-1;n>=0&&e[n]==t;n--)r--;e=e.substring(0,r)}return e},e.replace=function(e,t,r){return e.replace(t,r)},e.replaceAll=function(e,t,r){return e.replace(t,r)},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.replaceAllMapped=function(e,t,r){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.splice(-2,2),r(e)})},e.contains=function(e,t){return e.indexOf(t)!=-1},e.compare=function(e,t){return e<t?-1:e>t?1:0},e}(),NumberWrapper$3=function(){function e(){}return e.toFixed=function(e,t){return e.toFixed(t)},e.equal=function(e,t){return e===t},e.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t},e.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t)}else if(16==t){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t)}else{var r=parseInt(e,t);if(!isNaN(r))return r}throw new Error("Invalid integer literal when parsing "+e+" in base "+t)},e.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNumeric=function(e){return!isNaN(e-parseFloat(e))},e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}(),Json$3=function(){function e(){}return e.parse=function(e){return global$4.JSON.parse(e)},e.stringify=function(e){return global$4.JSON.stringify(e,null,2)},e}(),DateWrapper$3=function(){function e(){}return e.create=function(e,t,r,n,i,o,s){return void 0===t&&(t=1),void 0===r&&(r=1),void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===s&&(s=0),new Date$4(e,t-1,r,n,i,o,s)},e.fromISOString=function(e){return new Date$4(e)},e.fromMillis=function(e){return new Date$4(e)},e.toMillis=function(e){return e.getTime()},e.now=function(){return new Date$4},e.toJson=function(e){return e.toJSON()},e}(),Map$4=global$4.Map,Set$4=global$4.Set,createMapFromPairs$3=function(){try{if(1===new Map$4([[1,2]]).size)return function(e){return new Map$4(e)}}catch(e){}return function(e){for(var t=new Map$4,r=0;r<e.length;r++){var n=e[r];t.set(n[0],n[1])}return t}}(),createMapFromMap$3=function(){try{if(new Map$4(new Map$4))return function(e){return new Map$4(e)}}catch(e){}return function(e){var t=new Map$4;return e.forEach(function(e,r){t.set(r,e)}),t}}(),_clearValues$3=function(){return(new Map$4).keys().next?function(e){for(var t,r=e.keys();!(t=r.next()).done;)e.set(t.value,null)}:function(e){e.forEach(function(t,r){e.set(r,null)})}}(),_arrayFromMap$3=function(){try{if((new Map$4).values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(e){}return function(e,t){var r=ListWrapper$3.createFixedSize(e.size),n=0;return e.forEach(function(e,i){r[n]=t?e:i,n++}),r}}(),StringMapWrapper$3=function(){function e(){}return e.create=function(){return{}},e.contains=function(e,t){return e.hasOwnProperty(t)},e.get=function(e,t){return e.hasOwnProperty(t)?e[t]:void 0},e.set=function(e,t,r){e[t]=r},e.keys=function(e){return Object.keys(e)},e.values=function(e){return Object.keys(e).map(function(t){return e[t]})},e.isEmpty=function(e){for(var t in e)return!1;return!0},e.delete=function(e,t){delete e[t]},e.forEach=function(e,t){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];t(e[i],i)}},e.merge=function(e,t){for(var r={},n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];r[o]=e[o]}for(var s=0,a=Object.keys(t);s<a.length;s++){var o=a[s];r[o]=t[o]}return r},e.equals=function(e,t){var r=Object.keys(e),n=Object.keys(t);if(r.length!=n.length)return!1;for(var i,o=0;o<r.length;o++)if(i=r[o],e[i]!==t[i])return!1;return!0},e}(),ListWrapper$3=function(){function e(){}return e.createFixedSize=function(e){return new Array(e)},e.createGrowableSize=function(e){return new Array(e)},e.clone=function(e){return e.slice(0)},e.forEachWithIndex=function(e,t){for(var r=0;r<e.length;r++)t(e[r],r)},e.first=function(e){return e?e[0]:null},e.last=function(e){return e&&0!=e.length?e[e.length-1]:null},e.indexOf=function(e,t,r){return void 0===r&&(r=0),e.indexOf(t,r)},e.contains=function(e,t){return e.indexOf(t)!==-1},e.reversed=function(t){var r=e.clone(t);return r.reverse()},e.concat=function(e,t){return e.concat(t)},e.insert=function(e,t,r){e.splice(t,0,r)},e.removeAt=function(e,t){var r=e[t];return e.splice(t,1),r},e.removeAll=function(e,t){for(var r=0;r<t.length;++r){var n=e.indexOf(t[r]);e.splice(n,1)}},e.remove=function(e,t){var r=e.indexOf(t);return r>-1&&(e.splice(r,1),!0)},e.clear=function(e){e.length=0},e.isEmpty=function(e){return 0==e.length},e.fill=function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=null),e.fill(t,r,null===n?e.length:n)},e.equals=function(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.splice=function(e,t,r){return e.splice(t,r)},e.sort=function(e,t){isPresent$3(t)?e.sort(t):e.sort()},e.toString=function(e){return e.toString()},e.toJSON=function(e){return JSON.stringify(e)},e.maximum=function(e,t){if(0==e.length)return null;for(var r=null,n=-(1/0),i=0;i<e.length;i++){var o=e[i];if(!isBlank$3(o)){var s=t(o);s>n&&(r=o,n=s)}}return r},e.flatten=function(e){var t=[];return _flattenArray$3(e,t),t},e.addAll=function(e,t){for(var r=0;r<t.length;r++)e.push(t[r])},e}(),createSetFromList$3=function(){var e=new Set$4([1,2,3]);return 3===e.size?function(e){return new Set$4(e)}:function(e){var t=new Set$4(e);if(t.size!==e.length)for(var r=0;r<e.length;r++)t.add(e[r]);return t}}(),CAMEL_CASE_REGEXP$1=/([A-Z])/g,DASH_CASE_REGEXP=/-([a-z])/g,_DOM=null,DomAdapter=function(){function e(){this.resourceLoaderType=null}return Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e},enumerable:!0,configurable:!0}),e}(),WebAnimationsPlayer=function(){function e(e,t,r){this.element=e,this.keyframes=t,this.options=r,this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._initialized=!1,this._started=!1,this.parentPlayer=null,this._duration=r.duration}return e.prototype._onFinish=function(){this._finished||(this._finished=!0,isPresent$3(this.parentPlayer)||this.destroy(),this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])},e.prototype.init=function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes.map(function(t){var r={};return StringMapWrapper$3.forEach(t,function(t,n){r[n]=t==AUTO_STYLE?_computeStyle(e.element,n):t}),r});this._player=this._triggerWebAnimation(this.element,t,this.options),this.reset(),this._player.onfinish=function(){return e._onFinish()}}},e.prototype._triggerWebAnimation=function(e,t,r){return e.animate(t,r)},e.prototype.onStart=function(e){this._onStartFns.push(e)},e.prototype.onDone=function(e){this._onDoneFns.push(e)},e.prototype.play=function(){this.init(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0),this._player.play()},e.prototype.pause=function(){this.init(),this._player.pause()},e.prototype.finish=function(){this.init(),this._onFinish(),this._player.finish()},e.prototype.reset=function(){this._player.cancel()},e.prototype.restart=function(){this.reset(),this.play()},e.prototype.hasStarted=function(){return this._started},e.prototype.destroy=function(){this.reset(),this._onFinish()},Object.defineProperty(e.prototype,"totalTime",{get:function(){return this._duration},enumerable:!0,configurable:!0}),e.prototype.setPosition=function(e){this._player.currentTime=e*this.totalTime},e.prototype.getPosition=function(){return this._player.currentTime/this.totalTime},e}(),WebAnimationsDriver=function(){function e(){}return e.prototype.animate=function(e,t,r,n,i,o){var s=[],a={};if(isPresent$3(t)&&t.styles.length>0&&(a=_populateStyles(e,t,{}),a.offset=0,s.push(a)),r.forEach(function(t){var r=_populateStyles(e,t.styles,a);r.offset=t.offset,s.push(r)}),1==s.length){var u=s[0];u.offset=null,s=[u,u]}var c={duration:n,delay:i,fill:"both"};return o&&(c.easing=o),new WebAnimationsPlayer(e,s,c)},e}(),_$0=48,_$9=57,_$PERIOD=46,__extends$44=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},GenericBrowserDomAdapter=function(e){function t(){var t=this;e.call(this),this._animationPrefix=null,this._transitionEnd=null;try{var r=this.createElement("div",this.defaultDoc());if(isPresent$3(this.getStyle(r,"animationName")))this._animationPrefix="";else for(var n=["Webkit","Moz","O","ms"],i=0;i<n.length;i++)if(isPresent$3(this.getStyle(r,n[i]+"AnimationName"))){this._animationPrefix="-"+n[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};StringMapWrapper$3.forEach(o,function(e,n){isPresent$3(t.getStyle(r,n))&&(t._transitionEnd=e)})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}return __extends$44(t,e),t.prototype.getDistributedNodes=function(e){return e.getDistributedNodes()},t.prototype.resolveAndSetHref=function(e,t,r){e.href=null==r?t:t+"/../"+r},t.prototype.supportsDOMEvents=function(){return!0},t.prototype.supportsNativeShadowDOM=function(){return isFunction$4(this.defaultDoc().body.createShadowRoot)},t.prototype.getAnimationPrefix=function(){return isPresent$3(this._animationPrefix)?this._animationPrefix:""},t.prototype.getTransitionEnd=function(){return isPresent$3(this._transitionEnd)?this._transitionEnd:""},t.prototype.supportsAnimation=function(){return isPresent$3(this._animationPrefix)&&isPresent$3(this._transitionEnd)},t}(DomAdapter),__extends$43=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},_attrToPropMap={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},DOM_KEY_LOCATION_NUMPAD=3,_keyMap={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_chromeNumKeyPadMap={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},BrowserDomAdapter=function(e){function t(){e.apply(this,arguments)}return __extends$43(t,e),t.prototype.parse=function(e){throw new Error("parse not implemented")},t.makeCurrent=function(){setRootDomAdapter(new t)},t.prototype.hasProperty=function(e,t){return t in e},t.prototype.setProperty=function(e,t,r){e[t]=r},t.prototype.getProperty=function(e,t){return e[t]},t.prototype.invoke=function(e,t,r){e[t].apply(e,r)},t.prototype.logError=function(e){window.console.error?window.console.error(e):window.console.log(e)},t.prototype.log=function(e){window.console.log(e)},t.prototype.logGroup=function(e){window.console.group?(window.console.group(e),this.logError(e)):window.console.log(e)},t.prototype.logGroupEnd=function(){window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return _attrToPropMap},enumerable:!0,configurable:!0}),t.prototype.query=function(e){return document.querySelector(e)},t.prototype.querySelector=function(e,t){return e.querySelector(t)},t.prototype.querySelectorAll=function(e,t){return e.querySelectorAll(t)},t.prototype.on=function(e,t,r){e.addEventListener(t,r,!1)},t.prototype.onAndCancel=function(e,t,r){return e.addEventListener(t,r,!1),function(){e.removeEventListener(t,r,!1)}},t.prototype.dispatchEvent=function(e,t){e.dispatchEvent(t)},t.prototype.createMouseEvent=function(e){var t=document.createEvent("MouseEvent");return t.initEvent(e,!0,!0),t},t.prototype.createEvent=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t},t.prototype.preventDefault=function(e){e.preventDefault(),e.returnValue=!1},t.prototype.isPrevented=function(e){return e.defaultPrevented||isPresent$3(e.returnValue)&&!e.returnValue},t.prototype.getInnerHTML=function(e){return e.innerHTML},t.prototype.getTemplateContent=function(e){return"content"in e&&e instanceof HTMLTemplateElement?e.content:null},t.prototype.getOuterHTML=function(e){return e.outerHTML},t.prototype.nodeName=function(e){return e.nodeName},t.prototype.nodeValue=function(e){return e.nodeValue},t.prototype.type=function(e){return e.type},t.prototype.content=function(e){return this.hasProperty(e,"content")?e.content:e},t.prototype.firstChild=function(e){return e.firstChild},t.prototype.nextSibling=function(e){return e.nextSibling},t.prototype.parentElement=function(e){return e.parentNode},t.prototype.childNodes=function(e){return e.childNodes},t.prototype.childNodesAsList=function(e){for(var t=e.childNodes,r=ListWrapper$3.createFixedSize(t.length),n=0;n<t.length;n++)r[n]=t[n];return r},t.prototype.clearNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.prototype.appendChild=function(e,t){e.appendChild(t)},t.prototype.removeChild=function(e,t){e.removeChild(t)},t.prototype.replaceChild=function(e,t,r){e.replaceChild(t,r)},t.prototype.remove=function(e){return e.parentNode&&e.parentNode.removeChild(e),e},t.prototype.insertBefore=function(e,t){e.parentNode.insertBefore(t,e)},t.prototype.insertAllBefore=function(e,t){t.forEach(function(t){return e.parentNode.insertBefore(t,e)})},t.prototype.insertAfter=function(e,t){e.parentNode.insertBefore(t,e.nextSibling)},t.prototype.setInnerHTML=function(e,t){e.innerHTML=t},t.prototype.getText=function(e){return e.textContent},t.prototype.setText=function(e,t){e.textContent=t},t.prototype.getValue=function(e){return e.value},t.prototype.setValue=function(e,t){e.value=t},t.prototype.getChecked=function(e){return e.checked},t.prototype.setChecked=function(e,t){e.checked=t},t.prototype.createComment=function(e){return document.createComment(e)},t.prototype.createTemplate=function(e){var t=document.createElement("template");return t.innerHTML=e,t},t.prototype.createElement=function(e,t){return void 0===t&&(t=document),t.createElement(e)},t.prototype.createElementNS=function(e,t,r){return void 0===r&&(r=document),r.createElementNS(e,t)},t.prototype.createTextNode=function(e,t){return void 0===t&&(t=document),t.createTextNode(e)},t.prototype.createScriptTag=function(e,t,r){void 0===r&&(r=document);var n=r.createElement("SCRIPT");return n.setAttribute(e,t),n},t.prototype.createStyleElement=function(e,t){void 0===t&&(t=document);var r=t.createElement("style");return this.appendChild(r,this.createTextNode(e)),r},t.prototype.createShadowRoot=function(e){return e.createShadowRoot()},t.prototype.getShadowRoot=function(e){return e.shadowRoot},t.prototype.getHost=function(e){return e.host},t.prototype.clone=function(e){return e.cloneNode(!0)},t.prototype.getElementsByClassName=function(e,t){return e.getElementsByClassName(t)},t.prototype.getElementsByTagName=function(e,t){return e.getElementsByTagName(t)},t.prototype.classList=function(e){return Array.prototype.slice.call(e.classList,0)},t.prototype.addClass=function(e,t){e.classList.add(t)},t.prototype.removeClass=function(e,t){e.classList.remove(t)},t.prototype.hasClass=function(e,t){return e.classList.contains(t)},t.prototype.setStyle=function(e,t,r){e.style[t]=r},t.prototype.removeStyle=function(e,t){e.style[t]=null},t.prototype.getStyle=function(e,t){return e.style[t]},t.prototype.hasStyle=function(e,t,r){void 0===r&&(r=null);var n=this.getStyle(e,t)||"";return r?n==r:n.length>0},t.prototype.tagName=function(e){return e.tagName},t.prototype.attributeMap=function(e){for(var t=new Map,r=e.attributes,n=0;n<r.length;n++){var i=r[n];t.set(i.name,i.value)}return t},t.prototype.hasAttribute=function(e,t){return e.hasAttribute(t)},t.prototype.hasAttributeNS=function(e,t,r){return e.hasAttributeNS(t,r)},t.prototype.getAttribute=function(e,t){return e.getAttribute(t)},t.prototype.getAttributeNS=function(e,t,r){return e.getAttributeNS(t,r)},t.prototype.setAttribute=function(e,t,r){e.setAttribute(t,r)},t.prototype.setAttributeNS=function(e,t,r,n){e.setAttributeNS(t,r,n)},t.prototype.removeAttribute=function(e,t){e.removeAttribute(t)},t.prototype.removeAttributeNS=function(e,t,r){e.removeAttributeNS(t,r)},t.prototype.templateAwareRoot=function(e){return this.isTemplateElement(e)?this.content(e):e},t.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},t.prototype.defaultDoc=function(){return document},t.prototype.getBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},t.prototype.getTitle=function(){return document.title},t.prototype.setTitle=function(e){document.title=e||""},t.prototype.elementMatches=function(e,t){var r=!1;return e instanceof HTMLElement&&(e.matches?r=e.matches(t):e.msMatchesSelector?r=e.msMatchesSelector(t):e.webkitMatchesSelector&&(r=e.webkitMatchesSelector(t))),r},t.prototype.isTemplateElement=function(e){return e instanceof HTMLElement&&"TEMPLATE"==e.nodeName},t.prototype.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},t.prototype.isCommentNode=function(e){return e.nodeType===Node.COMMENT_NODE},t.prototype.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},t.prototype.hasShadowRoot=function(e){return isPresent$3(e.shadowRoot)&&e instanceof HTMLElement},t.prototype.isShadowRoot=function(e){return e instanceof DocumentFragment},t.prototype.importIntoDoc=function(e){var t=e;return this.isTemplateElement(e)&&(t=this.content(e)),document.importNode(t,!0)},t.prototype.adoptNode=function(e){return document.adoptNode(e)},t.prototype.getHref=function(e){return e.href},t.prototype.getEventKey=function(e){var t=e.key;if(isBlank$3(t)){if(t=e.keyIdentifier,isBlank$3(t))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===DOM_KEY_LOCATION_NUMPAD&&_chromeNumKeyPadMap.hasOwnProperty(t)&&(t=_chromeNumKeyPadMap[t]))}return _keyMap.hasOwnProperty(t)&&(t=_keyMap[t]),t},t.prototype.getGlobalEventTarget=function(e){return"window"==e?window:"document"==e?document:"body"==e?document.body:void 0},t.prototype.getHistory=function(){return window.history},t.prototype.getLocation=function(){return window.location},t.prototype.getBaseHref=function(){var e=getBaseElementHref();return isBlank$3(e)?null:relativePath(e)},t.prototype.resetBaseElement=function(){baseElement=null},t.prototype.getUserAgent=function(){return window.navigator.userAgent},t.prototype.setData=function(e,t,r){this.setAttribute(e,"data-"+t,r)},t.prototype.getData=function(e,t){return this.getAttribute(e,"data-"+t)},t.prototype.getComputedStyle=function(e){return getComputedStyle(e)},t.prototype.setGlobalVar=function(e,t){setValueOnPath$3(global$4,e,t)},t.prototype.supportsWebAnimation=function(){return isFunction$4(Element.prototype.animate)},t.prototype.performanceNow=function(){return isPresent$3(window.performance)&&isPresent$3(window.performance.now)?window.performance.now():DateWrapper$3.toMillis(DateWrapper$3.now())},t.prototype.supportsCookies=function(){return!0},t.prototype.getCookie=function(e){return parseCookieValue(document.cookie,e)},t.prototype.setCookie=function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)},t}(GenericBrowserDomAdapter),baseElement=null,urlParsingNode=null,__extends$45=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},BrowserPlatformLocation=function(e){function t(){e.call(this),this._init()}return __extends$45(t,e),t.prototype._init=function(){this._location=getDOM$1().getLocation(),this._history=getDOM$1().getHistory()},Object.defineProperty(t.prototype,"location",{get:function(){return this._location},enumerable:!0,configurable:!0}),t.prototype.getBaseHrefFromDOM=function(){return getDOM$1().getBaseHref()},t.prototype.onPopState=function(e){getDOM$1().getGlobalEventTarget("window").addEventListener("popstate",e,!1)},t.prototype.onHashChange=function(e){getDOM$1().getGlobalEventTarget("window").addEventListener("hashchange",e,!1)},Object.defineProperty(t.prototype,"pathname",{get:function(){return this._location.pathname},set:function(e){this._location.pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return this._location.hash},enumerable:!0,configurable:!0}),t.prototype.pushState=function(e,t,r){supportsState()?this._history.pushState(e,t,r):this._location.hash=r},t.prototype.replaceState=function(e,t,r){supportsState()?this._history.replaceState(e,t,r):this._location.hash=r},t.prototype.forward=function(){this._history.forward()},t.prototype.back=function(){this._history.back()},t.decorators=[{type:Injectable}],t.ctorParameters=[],t}(PlatformLocation),BrowserGetTestability=function(){function e(){}return e.init=function(){setTestabilityGetter(new e)},e.prototype.addToWindow=function(e){global$4.getAngularTestability=function(t,r){void 0===r&&(r=!0);var n=e.findTestabilityInTree(t,r);if(null==n)throw new Error("Could not find testability for element.");return n},global$4.getAllAngularTestabilities=function(){return e.getAllTestabilities()},global$4.getAllAngularRootElements=function(){return e.getAllRootElements()};var t=function(e){var t=global$4.getAllAngularTestabilities(),r=t.length,n=!1,i=function(t){n=n||t,r--,0==r&&e(n)};t.forEach(function(e){e.whenStable(i)})};global$4.frameworkStabilizers||(global$4.frameworkStabilizers=ListWrapper$3.createGrowableSize(0)),global$4.frameworkStabilizers.push(t)},e.prototype.findTestabilityInTree=function(e,t,r){if(null==t)return null;var n=e.getTestability(t);return isPresent$3(n)?n:r?getDOM$1().isShadowRoot(t)?this.findTestabilityInTree(e,getDOM$1().getHost(t),!0):this.findTestabilityInTree(e,getDOM$1().parentElement(t),!0):null},e}(),DOCUMENT=new OpaqueToken("DocumentToken"),EVENT_MANAGER_PLUGINS=new OpaqueToken("EventManagerPlugins"),EventManager=function(){function e(e,t){var r=this;this._zone=t,e.forEach(function(e){return e.manager=r}),this._plugins=ListWrapper$3.reversed(e)}return e.prototype.addEventListener=function(e,t,r){var n=this._findPluginFor(t);return n.addEventListener(e,t,r)},e.prototype.addGlobalEventListener=function(e,t,r){var n=this._findPluginFor(t);return n.addGlobalEventListener(e,t,r)},e.prototype.getZone=function(){return this._zone},e.prototype._findPluginFor=function(e){for(var t=this._plugins,r=0;r<t.length;r++){var n=t[r];if(n.supports(e))return n}throw new Error("No event manager plugin found for event "+e)},e.decorators=[{type:Injectable}],e.ctorParameters=[{type:Array,decorators:[{type:Inject,args:[EVENT_MANAGER_PLUGINS]}]},{type:NgZone}],e}(),EventManagerPlugin=function(){function e(){}return e.prototype.supports=function(e){return!1},e.prototype.addEventListener=function(e,t,r){throw"not implemented"},e.prototype.addGlobalEventListener=function(e,t,r){throw"not implemented"},e}(),__extends$47=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},SharedStylesHost=function(){function e(){this._styles=[],this._stylesSet=new Set}return e.prototype.addStyles=function(e){var t=this,r=[];e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),t._styles.push(e),r.push(e))}),this.onStylesAdded(r)},e.prototype.onStylesAdded=function(e){},e.prototype.getAllStyles=function(){return this._styles},e.decorators=[{type:Injectable}],e.ctorParameters=[],e}(),DomSharedStylesHost=function(e){function t(t){e.call(this),this._hostNodes=new Set,this._hostNodes.add(t.head)}return __extends$47(t,e),t.prototype._addStylesToHost=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];getDOM$1().appendChild(t,getDOM$1().createStyleElement(n))}},t.prototype.addHost=function(e){this._addStylesToHost(this._styles,e),this._hostNodes.add(e)},t.prototype.removeHost=function(e){this._hostNodes.delete(e)},t.prototype.onStylesAdded=function(e){var t=this;this._hostNodes.forEach(function(r){t._addStylesToHost(e,r)})},t.decorators=[{type:Injectable}],t.ctorParameters=[{type:void 0,decorators:[{type:Inject,args:[DOCUMENT]}]}],t}(SharedStylesHost),__extends$46=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},NAMESPACE_URIS={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml"},TEMPLATE_COMMENT_TEXT="template bindings={}",TEMPLATE_BINDINGS_EXP=/^template bindings=(.*)$/,DomRootRenderer=function(){function e(e,t,r,n){this.document=e,this.eventManager=t,this.sharedStylesHost=r,this.animationDriver=n,this.registeredComponents=new Map}return e.prototype.renderComponent=function(e){var t=this.registeredComponents.get(e.id);return isBlank$3(t)&&(t=new DomRenderer(this,e,this.animationDriver),this.registeredComponents.set(e.id,t)),t},e}(),DomRootRenderer_=function(e){function t(t,r,n,i){e.call(this,t,r,n,i)}return __extends$46(t,e),t.decorators=[{type:Injectable}],t.ctorParameters=[{type:void 0,decorators:[{type:Inject,args:[DOCUMENT]}]},{type:EventManager},{type:DomSharedStylesHost},{type:AnimationDriver}],t}(DomRootRenderer),DomRenderer=function(){function e(e,t,r){this._rootRenderer=e,this.componentProto=t,this._animationDriver=r,this._styles=_flattenStyles(t.id,t.styles,[]),t.encapsulation!==ViewEncapsulation.Native&&this._rootRenderer.sharedStylesHost.addStyles(this._styles),this.componentProto.encapsulation===ViewEncapsulation.Emulated?(this._contentAttr=_shimContentAttribute(t.id),this._hostAttr=_shimHostAttribute(t.id)):(this._contentAttr=null,this._hostAttr=null);
}return e.prototype.selectRootElement=function(e,t){var r;if(isString$3(e)){if(r=getDOM$1().querySelector(this._rootRenderer.document,e),isBlank$3(r))throw new Error('The selector "'+e+'" did not match any elements')}else r=e;return getDOM$1().clearNodes(r),r},e.prototype.createElement=function(e,t,r){var n=splitNamespace(t),i=isPresent$3(n[0])?getDOM$1().createElementNS(NAMESPACE_URIS[n[0]],n[1]):getDOM$1().createElement(n[1]);return isPresent$3(this._contentAttr)&&getDOM$1().setAttribute(i,this._contentAttr,""),isPresent$3(e)&&getDOM$1().appendChild(e,i),i},e.prototype.createViewRoot=function(e){var t;if(this.componentProto.encapsulation===ViewEncapsulation.Native){t=getDOM$1().createShadowRoot(e),this._rootRenderer.sharedStylesHost.addHost(t);for(var r=0;r<this._styles.length;r++)getDOM$1().appendChild(t,getDOM$1().createStyleElement(this._styles[r]))}else isPresent$3(this._hostAttr)&&getDOM$1().setAttribute(e,this._hostAttr,""),t=e;return t},e.prototype.createTemplateAnchor=function(e,t){var r=getDOM$1().createComment(TEMPLATE_COMMENT_TEXT);return isPresent$3(e)&&getDOM$1().appendChild(e,r),r},e.prototype.createText=function(e,t,r){var n=getDOM$1().createTextNode(t);return isPresent$3(e)&&getDOM$1().appendChild(e,n),n},e.prototype.projectNodes=function(e,t){isBlank$3(e)||appendNodes(e,t)},e.prototype.attachViewAfter=function(e,t){moveNodesAfterSibling(e,t)},e.prototype.detachView=function(e){for(var t=0;t<e.length;t++)getDOM$1().remove(e[t])},e.prototype.destroyView=function(e,t){this.componentProto.encapsulation===ViewEncapsulation.Native&&isPresent$3(e)&&this._rootRenderer.sharedStylesHost.removeHost(getDOM$1().getShadowRoot(e))},e.prototype.listen=function(e,t,r){return this._rootRenderer.eventManager.addEventListener(e,t,decoratePreventDefault(r))},e.prototype.listenGlobal=function(e,t,r){return this._rootRenderer.eventManager.addGlobalEventListener(e,t,decoratePreventDefault(r))},e.prototype.setElementProperty=function(e,t,r){getDOM$1().setProperty(e,t,r)},e.prototype.setElementAttribute=function(e,t,r){var n,i=splitNamespace(t);isPresent$3(i[0])&&(t=i[0]+":"+i[1],n=NAMESPACE_URIS[i[0]]),isPresent$3(r)?isPresent$3(n)?getDOM$1().setAttributeNS(e,n,t,r):getDOM$1().setAttribute(e,t,r):isPresent$3(n)?getDOM$1().removeAttributeNS(e,n,i[1]):getDOM$1().removeAttribute(e,t)},e.prototype.setBindingDebugInfo=function(e,t,r){var n=camelCaseToDashCase$1(t);if(getDOM$1().isCommentNode(e)){var i=StringWrapper$3.replaceAll(getDOM$1().getText(e),/\n/g,"").match(TEMPLATE_BINDINGS_EXP),o=Json$3.parse(i[1]);o[n]=r,getDOM$1().setText(e,StringWrapper$3.replace(TEMPLATE_COMMENT_TEXT,"{}",Json$3.stringify(o)))}else this.setElementAttribute(e,t,r)},e.prototype.setElementClass=function(e,t,r){r?getDOM$1().addClass(e,t):getDOM$1().removeClass(e,t)},e.prototype.setElementStyle=function(e,t,r){isPresent$3(r)?getDOM$1().setStyle(e,t,stringify$3(r)):getDOM$1().removeStyle(e,t)},e.prototype.invokeElementMethod=function(e,t,r){getDOM$1().invoke(e,t,r)},e.prototype.setText=function(e,t){getDOM$1().setText(e,t)},e.prototype.animate=function(e,t,r,n,i,o){return this._animationDriver.animate(e,t,r,n,i,o)},e}(),COMPONENT_REGEX=/%COMP%/g,COMPONENT_VARIABLE$1="%COMP%",HOST_ATTR$1="_nghost-"+COMPONENT_VARIABLE$1,CONTENT_ATTR$1="_ngcontent-"+COMPONENT_VARIABLE$1,NS_PREFIX_RE=/^:([^:]+):(.+)$/,CORE_TOKENS={ApplicationRef:ApplicationRef,NgZone:NgZone},INSPECT_GLOBAL_NAME="ng.probe",CORE_TOKENS_GLOBAL_NAME="ng.coreTokens",NgProbeToken=function(){function e(e,t){this.name=e,this.token=t}return e}(),ELEMENT_PROBE_PROVIDERS=[{provide:RootRenderer,useFactory:_createConditionalRootRenderer,deps:[DomRootRenderer,[NgProbeToken,new Optional]]}],ELEMENT_PROBE_PROVIDERS_PROD_MODE=[{provide:RootRenderer,useFactory:_createRootRenderer,deps:[DomRootRenderer,[NgProbeToken,new Optional]]}],__extends$48=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},DomEventsPlugin=function(e){function t(){e.apply(this,arguments)}return __extends$48(t,e),t.prototype.supports=function(e){return!0},t.prototype.addEventListener=function(e,t,r){var n=this.manager.getZone(),i=function(e){return n.runGuarded(function(){return r(e)})};return this.manager.getZone().runOutsideAngular(function(){return getDOM$1().onAndCancel(e,t,i)})},t.prototype.addGlobalEventListener=function(e,t,r){var n=getDOM$1().getGlobalEventTarget(e),i=this.manager.getZone(),o=function(e){return i.runGuarded(function(){return r(e)})};return this.manager.getZone().runOutsideAngular(function(){return getDOM$1().onAndCancel(n,t,o)})},t.decorators=[{type:Injectable}],t.ctorParameters=[],t}(EventManagerPlugin),__extends$50=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},_eventNames={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},HammerGesturesPluginCommon=function(e){function t(){e.call(this)}return __extends$50(t,e),t.prototype.supports=function(e){return e=e.toLowerCase(),StringMapWrapper$3.contains(_eventNames,e)},t}(EventManagerPlugin),__extends$49=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},HAMMER_GESTURE_CONFIG=new OpaqueToken("HammerGestureConfig"),HammerGestureConfig=function(){function e(){this.events=[],this.overrides={}}return e.prototype.buildHammer=function(e){var t=new Hammer(e);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(var r in this.overrides)t.get(r).set(this.overrides[r]);return t},e.decorators=[{type:Injectable}],e.ctorParameters=[],e}(),HammerGesturesPlugin=function(e){function t(t){e.call(this),this._config=t}return __extends$49(t,e),t.prototype.supports=function(t){if(!e.prototype.supports.call(this,t)&&!this.isCustomEvent(t))return!1;if(!isPresent$3(window.Hammer))throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},t.prototype.addEventListener=function(e,t,r){var n=this,i=this.manager.getZone();return t=t.toLowerCase(),i.runOutsideAngular(function(){var o=n._config.buildHammer(e),s=function(e){i.runGuarded(function(){r(e)})};return o.on(t,s),function(){o.off(t,s)}})},t.prototype.isCustomEvent=function(e){return this._config.events.indexOf(e)>-1},t.decorators=[{type:Injectable}],t.ctorParameters=[{type:HammerGestureConfig,decorators:[{type:Inject,args:[HAMMER_GESTURE_CONFIG]}]}],t}(HammerGesturesPluginCommon),__extends$51=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},modifierKeys=["alt","control","meta","shift"],modifierKeyGetters={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},KeyEventsPlugin=function(e){function t(){e.call(this)}return __extends$51(t,e),t.prototype.supports=function(e){return isPresent$3(t.parseEventName(e))},t.prototype.addEventListener=function(e,r,n){var i=t.parseEventName(r),o=t.eventCallback(e,StringMapWrapper$3.get(i,"fullKey"),n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return getDOM$1().onAndCancel(e,StringMapWrapper$3.get(i,"domEventName"),o)})},t.parseEventName=function(e){var r=e.toLowerCase().split("."),n=r.shift();if(0===r.length||!StringWrapper$3.equals(n,"keydown")&&!StringWrapper$3.equals(n,"keyup"))return null;var i=t._normalizeKey(r.pop()),o="";if(modifierKeys.forEach(function(e){ListWrapper$3.contains(r,e)&&(ListWrapper$3.remove(r,e),o+=e+".")}),o+=i,0!=r.length||0===i.length)return null;var s=StringMapWrapper$3.create();return StringMapWrapper$3.set(s,"domEventName",n),StringMapWrapper$3.set(s,"fullKey",o),s},t.getEventFullKey=function(e){var t="",r=getDOM$1().getEventKey(e);return r=r.toLowerCase(),StringWrapper$3.equals(r," ")?r="space":StringWrapper$3.equals(r,".")&&(r="dot"),modifierKeys.forEach(function(n){if(n!=r){var i=StringMapWrapper$3.get(modifierKeyGetters,n);i(e)&&(t+=n+".")}}),t+=r},t.eventCallback=function(e,r,n,i){return function(e){StringWrapper$3.equals(t.getEventFullKey(e),r)&&i.runGuarded(function(){return n(e)})}},t._normalizeKey=function(e){switch(e){case"esc":return"escape";default:return e}},t.decorators=[{type:Injectable}],t.ctorParameters=[],t}(EventManagerPlugin),SAFE_URL_PATTERN=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,DATA_URL_PATTERN=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,inertElement=null,DOM=null,VOID_ELEMENTS=tagSet("area,br,col,hr,img,wbr"),OPTIONAL_END_TAG_BLOCK_ELEMENTS=tagSet("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),OPTIONAL_END_TAG_INLINE_ELEMENTS=tagSet("rp,rt"),OPTIONAL_END_TAG_ELEMENTS=merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,OPTIONAL_END_TAG_BLOCK_ELEMENTS),BLOCK_ELEMENTS=merge(OPTIONAL_END_TAG_BLOCK_ELEMENTS,tagSet("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),INLINE_ELEMENTS=merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,tagSet("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),VALID_ELEMENTS=merge(VOID_ELEMENTS,BLOCK_ELEMENTS,INLINE_ELEMENTS,OPTIONAL_END_TAG_ELEMENTS),URI_ATTRS=tagSet("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),SRCSET_ATTRS=tagSet("srcset"),HTML_ATTRS=tagSet("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),VALID_ATTRS=merge(URI_ATTRS,SRCSET_ATTRS,HTML_ATTRS),SanitizingHtmlSerializer=function(){function e(){this.sanitizedSomething=!1,this.buf=[]}return e.prototype.sanitizeChildren=function(e){for(var t=e.firstChild;t;)if(DOM.isElementNode(t)?this.startElement(t):DOM.isTextNode(t)?this.chars(DOM.nodeValue(t)):this.sanitizedSomething=!0,DOM.firstChild(t))t=DOM.firstChild(t);else for(;t;){if(DOM.isElementNode(t)&&this.endElement(t),DOM.nextSibling(t)){t=DOM.nextSibling(t);break}t=DOM.parentElement(t)}return this.buf.join("")},e.prototype.startElement=function(e){var t=this,r=DOM.nodeName(e).toLowerCase();return VALID_ELEMENTS.hasOwnProperty(r)?(this.buf.push("<"),this.buf.push(r),DOM.attributeMap(e).forEach(function(e,r){var n=r.toLowerCase();return VALID_ATTRS.hasOwnProperty(n)?(URI_ATTRS[n]&&(e=sanitizeUrl(e)),SRCSET_ATTRS[n]&&(e=sanitizeSrcset(e)),t.buf.push(" "),t.buf.push(r),t.buf.push('="'),t.buf.push(encodeEntities(e)),void t.buf.push('"')):void(t.sanitizedSomething=!0)}),void this.buf.push(">")):void(this.sanitizedSomething=!0)},e.prototype.endElement=function(e){var t=DOM.nodeName(e).toLowerCase();VALID_ELEMENTS.hasOwnProperty(t)&&!VOID_ELEMENTS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))},e.prototype.chars=function(e){this.buf.push(encodeEntities(e))},e}(),SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~ |!])/g,VALUES="[-,.\"'%_!# a-zA-Z0-9]+",TRANSFORMATION_FNS="(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?",COLOR_FNS="(?:rgb|hsl)a?",FN_ARGS="\\([-0-9.%, a-zA-Z]+\\)",SAFE_STYLE_VALUE=new RegExp("^("+VALUES+"|(?:"+TRANSFORMATION_FNS+"|"+COLOR_FNS+")"+FN_ARGS+")$","g"),URL_RE=/^url\(([^)]+)\)$/,__extends$52=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},DomSanitizer=function(){function e(){}return e}(),DomSanitizerImpl=function(e){function t(){e.apply(this,arguments)}return __extends$52(t,e),t.prototype.sanitize=function(e,t){if(null==t)return null;switch(e){case SecurityContext.NONE:return t;case SecurityContext.HTML:return t instanceof SafeHtmlImpl?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),sanitizeHtml(String(t)));case SecurityContext.STYLE:return t instanceof SafeStyleImpl?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),sanitizeStyle(t));case SecurityContext.SCRIPT:if(t instanceof SafeScriptImpl)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case SecurityContext.URL:return t instanceof SafeResourceUrlImpl||t instanceof SafeUrlImpl?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),sanitizeUrl(String(t)));case SecurityContext.RESOURCE_URL:if(t instanceof SafeResourceUrlImpl)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+e+" (see http://g.co/ng/security#xss)")}},t.prototype.checkNotSafeValue=function(e,t){if(e instanceof SafeValueImpl)throw new Error("Required a safe "+t+", got a "+e.getTypeName()+" (see http://g.co/ng/security#xss)")},t.prototype.bypassSecurityTrustHtml=function(e){return new SafeHtmlImpl(e)},t.prototype.bypassSecurityTrustStyle=function(e){return new SafeStyleImpl(e)},t.prototype.bypassSecurityTrustScript=function(e){return new SafeScriptImpl(e)},t.prototype.bypassSecurityTrustUrl=function(e){return new SafeUrlImpl(e)},t.prototype.bypassSecurityTrustResourceUrl=function(e){return new SafeResourceUrlImpl(e)},t.decorators=[{type:Injectable}],t.ctorParameters=[],t}(DomSanitizer),SafeValueImpl=function(){function e(e){this.changingThisBreaksApplicationSecurity=e}return e.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},e}(),SafeHtmlImpl=function(e){function t(){e.apply(this,arguments)}return __extends$52(t,e),t.prototype.getTypeName=function(){return"HTML"},t}(SafeValueImpl),SafeStyleImpl=function(e){function t(){e.apply(this,arguments)}return __extends$52(t,e),t.prototype.getTypeName=function(){return"Style"},t}(SafeValueImpl),SafeScriptImpl=function(e){function t(){e.apply(this,arguments)}return __extends$52(t,e),t.prototype.getTypeName=function(){return"Script"},t}(SafeValueImpl),SafeUrlImpl=function(e){function t(){e.apply(this,arguments)}return __extends$52(t,e),t.prototype.getTypeName=function(){return"URL"},t}(SafeValueImpl),SafeResourceUrlImpl=function(e){function t(){e.apply(this,arguments)}return __extends$52(t,e),t.prototype.getTypeName=function(){return"ResourceURL"},t}(SafeValueImpl),INTERNAL_BROWSER_PLATFORM_PROVIDERS$1=[{provide:PLATFORM_INITIALIZER,useValue:initDomAdapter,multi:!0},{provide:PlatformLocation,useClass:BrowserPlatformLocation}],BROWSER_SANITIZATION_PROVIDERS=[{provide:Sanitizer,useExisting:DomSanitizer},{provide:DomSanitizer,useClass:DomSanitizerImpl}],platformBrowser=createPlatformFactory(platformCore,"browser",INTERNAL_BROWSER_PLATFORM_PROVIDERS$1),BrowserModule=function(){function e(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return e.decorators=[{type:NgModule,args:[{providers:[BROWSER_SANITIZATION_PROVIDERS,{provide:ErrorHandler,useFactory:errorHandler,deps:[]},{provide:DOCUMENT,useFactory:_document,deps:[]},{provide:EVENT_MANAGER_PLUGINS,useClass:DomEventsPlugin,multi:!0},{provide:EVENT_MANAGER_PLUGINS,useClass:KeyEventsPlugin,multi:!0},{provide:EVENT_MANAGER_PLUGINS,useClass:HammerGesturesPlugin,multi:!0},{provide:HAMMER_GESTURE_CONFIG,useClass:HammerGestureConfig},{provide:DomRootRenderer,useClass:DomRootRenderer_},{provide:RootRenderer,useExisting:DomRootRenderer},{provide:SharedStylesHost,useExisting:DomSharedStylesHost},{provide:AnimationDriver,useFactory:_resolveDefaultAnimationDriver},DomSharedStylesHost,Testability,EventManager,ELEMENT_PROBE_PROVIDERS],exports:[CommonModule,ApplicationModule]}]}],e.ctorParameters=[{type:e,decorators:[{type:Optional},{type:SkipSelf}]}],e}(),context=global$4,__platform_browser_private__={BrowserPlatformLocation:BrowserPlatformLocation,DomAdapter:DomAdapter,BrowserDomAdapter:BrowserDomAdapter,BrowserGetTestability:BrowserGetTestability,getDOM:getDOM$1,setRootDomAdapter:setRootDomAdapter,DomRootRenderer_:DomRootRenderer_,DomRootRenderer:DomRootRenderer,DomSharedStylesHost:DomSharedStylesHost,SharedStylesHost:SharedStylesHost,ELEMENT_PROBE_PROVIDERS:ELEMENT_PROBE_PROVIDERS,DomEventsPlugin:DomEventsPlugin,KeyEventsPlugin:KeyEventsPlugin,HammerGesturesPlugin:HammerGesturesPlugin,initDomAdapter:initDomAdapter,INTERNAL_BROWSER_PLATFORM_PROVIDERS:INTERNAL_BROWSER_PLATFORM_PROVIDERS$1,BROWSER_SANITIZATION_PROVIDERS:BROWSER_SANITIZATION_PROVIDERS},INTERNAL_BROWSER_PLATFORM_PROVIDERS=__platform_browser_private__.INTERNAL_BROWSER_PLATFORM_PROVIDERS,globalScope$4;globalScope$4="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var global$5=globalScope$4;global$5.assert=function(e){};var NumberWrapper$4=function(){function e(){}return e.toFixed=function(e,t){return e.toFixed(t)},e.equal=function(e,t){return e===t},e.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t},e.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t)}else if(16==t){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t)}else{var r=parseInt(e,t);if(!isNaN(r))return r}throw new Error("Invalid integer literal when parsing "+e+" in base "+t)},e.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNumeric=function(e){return!isNaN(e-parseFloat(e))},e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}(),__extends$53=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},ResourceLoaderImpl=function(e){function t(){e.apply(this,arguments)}return __extends$53(t,e),t.prototype.get=function(e){var t,r,n=new Promise(function(e,n){t=e,r=n}),i=new XMLHttpRequest;return i.open("GET",e,!0),i.responseType="text",i.onload=function(){var n=isPresent$4(i.response)?i.response:i.responseText,o=1223===i.status?204:i.status;0===o&&(o=n?200:0),200<=o&&o<=300?t(n):r("Failed to load "+e)},i.onerror=function(){r("Failed to load "+e)},i.send(),n},t.decorators=[{type:Injectable}],t.ctorParameters=[],t}(ResourceLoader),INTERNAL_BROWSER_DYNAMIC_PLATFORM_PROVIDERS=[INTERNAL_BROWSER_PLATFORM_PROVIDERS,{provide:COMPILER_OPTIONS,useValue:{providers:[{provide:ResourceLoader,useClass:ResourceLoaderImpl}]},multi:!0}],__extends$54=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},CachedResourceLoader=function(e){function t(){if(e.call(this),this._cache=global$5.$templateCache,null==this._cache)throw new Error("CachedResourceLoader: Template cache was not found in $templateCache.")}return __extends$54(t,e),t.prototype.get=function(e){return this._cache.hasOwnProperty(e)?Promise.resolve(this._cache[e]):Promise.reject("CachedResourceLoader: Did not find cached template for "+e)},t}(ResourceLoader),platformBrowserDynamic=createPlatformFactory(platformCoreDynamic,"browserDynamic",INTERNAL_BROWSER_DYNAMIC_PLATFORM_PROVIDERS),globalScope$5;globalScope$5="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var global$6=globalScope$5;global$6.assert=function(e){};var StringWrapper$5=function(){function e(){}return e.fromCharCode=function(e){return String.fromCharCode(e)},e.charCodeAt=function(e,t){return e.charCodeAt(t)},e.split=function(e,t){return e.split(t)},e.equals=function(e,t){return e===t},e.stripLeft=function(e,t){if(e&&e.length){for(var r=0,n=0;n<e.length&&e[n]==t;n++)r++;e=e.substring(r)}return e},e.stripRight=function(e,t){if(e&&e.length){for(var r=e.length,n=e.length-1;n>=0&&e[n]==t;n--)r--;e=e.substring(0,r)}return e},e.replace=function(e,t,r){return e.replace(t,r)},e.replaceAll=function(e,t,r){return e.replace(t,r)},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.replaceAllMapped=function(e,t,r){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.splice(-2,2),r(e)})},e.contains=function(e,t){return e.indexOf(t)!=-1},e.compare=function(e,t){return e<t?-1:e>t?1:0},e}(),NumberWrapper$5=function(){function e(){}return e.toFixed=function(e,t){return e.toFixed(t)},e.equal=function(e,t){return e===t},e.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t},e.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t)}else if(16==t){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t)}else{var r=parseInt(e,t);if(!isNaN(r))return r}throw new Error("Invalid integer literal when parsing "+e+" in base "+t)},e.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNumeric=function(e){return!isNaN(e-parseFloat(e))},e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}(),AbstractControlDirective=function(){function e(){}return Object.defineProperty(e.prototype,"control",{get:function(){throw new Error("unimplemented")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return isPresent$5(this.control)?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return isPresent$5(this.control)?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return isPresent$5(this.control)?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return isPresent$5(this.control)?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return isPresent$5(this.control)?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return isPresent$5(this.control)?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return isPresent$5(this.control)?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return isPresent$5(this.control)?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return isPresent$5(this.control)?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return isPresent$5(this.control)?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return isPresent$5(this.control)?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusChanges",{get:function(){return isPresent$5(this.control)?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueChanges",{get:function(){return isPresent$5(this.control)?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.reset=function(e){void 0===e&&(e=void 0),isPresent$5(this.control)&&this.control.reset(e)},e}(),__extends$56=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},ControlContainer=function(e){function t(){e.apply(this,arguments)}return __extends$56(t,e),Object.defineProperty(t.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t}(AbstractControlDirective),Map$5=global$6.Map,Set$5=global$6.Set,createMapFromPairs$4=function(){try{if(1===new Map$5([[1,2]]).size)return function(e){return new Map$5(e)}}catch(e){}return function(e){for(var t=new Map$5,r=0;r<e.length;r++){var n=e[r];t.set(n[0],n[1])}return t}}(),createMapFromMap$4=function(){try{if(new Map$5(new Map$5))return function(e){return new Map$5(e)}}catch(e){}return function(e){var t=new Map$5;return e.forEach(function(e,r){t.set(r,e)}),t}}(),_clearValues$4=function(){return(new Map$5).keys().next?function(e){for(var t,r=e.keys();!(t=r.next()).done;)e.set(t.value,null)}:function(e){e.forEach(function(t,r){e.set(r,null)})}}(),_arrayFromMap$4=function(){try{if((new Map$5).values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(e){}return function(e,t){var r=ListWrapper$4.createFixedSize(e.size),n=0;return e.forEach(function(e,i){r[n]=t?e:i,n++}),r}}(),MapWrapper$4=function(){function e(){}return e.clone=function(e){return createMapFromMap$4(e)},e.createFromStringMap=function(e){var t=new Map$5;for(var r in e)t.set(r,e[r]);return t},e.toStringMap=function(e){var t={};return e.forEach(function(e,r){return t[r]=e}),t},e.createFromPairs=function(e){return createMapFromPairs$4(e)},e.clearValues=function(e){_clearValues$4(e)},e.iterable=function(e){return e},e.keys=function(e){return _arrayFromMap$4(e,!1)},e.values=function(e){return _arrayFromMap$4(e,!0)},e}(),StringMapWrapper$4=function(){function e(){}return e.create=function(){return{}},e.contains=function(e,t){return e.hasOwnProperty(t)},e.get=function(e,t){return e.hasOwnProperty(t)?e[t]:void 0},e.set=function(e,t,r){e[t]=r},e.keys=function(e){return Object.keys(e)},e.values=function(e){return Object.keys(e).map(function(t){return e[t]})},e.isEmpty=function(e){for(var t in e)return!1;return!0},e.delete=function(e,t){delete e[t]},e.forEach=function(e,t){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];t(e[i],i)}},e.merge=function(e,t){for(var r={},n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];r[o]=e[o]}for(var s=0,a=Object.keys(t);s<a.length;s++){var o=a[s];r[o]=t[o]}return r},e.equals=function(e,t){var r=Object.keys(e),n=Object.keys(t);if(r.length!=n.length)return!1;for(var i,o=0;o<r.length;o++)if(i=r[o],e[i]!==t[i])return!1;return!0},e}(),ListWrapper$4=function(){function e(){}return e.createFixedSize=function(e){return new Array(e)},e.createGrowableSize=function(e){return new Array(e)},e.clone=function(e){return e.slice(0)},e.forEachWithIndex=function(e,t){for(var r=0;r<e.length;r++)t(e[r],r)},e.first=function(e){return e?e[0]:null},e.last=function(e){return e&&0!=e.length?e[e.length-1]:null},e.indexOf=function(e,t,r){return void 0===r&&(r=0),e.indexOf(t,r)},e.contains=function(e,t){return e.indexOf(t)!==-1},e.reversed=function(t){var r=e.clone(t);return r.reverse()},e.concat=function(e,t){return e.concat(t)},e.insert=function(e,t,r){e.splice(t,0,r)},e.removeAt=function(e,t){var r=e[t];return e.splice(t,1),r},e.removeAll=function(e,t){for(var r=0;r<t.length;++r){var n=e.indexOf(t[r]);e.splice(n,1)}},e.remove=function(e,t){var r=e.indexOf(t);return r>-1&&(e.splice(r,1),!0)},e.clear=function(e){e.length=0},e.isEmpty=function(e){return 0==e.length},e.fill=function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=null),e.fill(t,r,null===n?e.length:n)},e.equals=function(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.splice=function(e,t,r){return e.splice(t,r)},e.sort=function(e,t){isPresent$5(t)?e.sort(t):e.sort()},e.toString=function(e){return e.toString()},e.toJSON=function(e){return JSON.stringify(e)},e.maximum=function(e,t){if(0==e.length)return null;for(var r=null,n=-(1/0),i=0;i<e.length;i++){var o=e[i];if(!isBlank$5(o)){var s=t(o);s>n&&(r=o,n=s)}}return r},e.flatten=function(e){var t=[];return _flattenArray$4(e,t),t},e.addAll=function(e,t){for(var r=0;r<t.length;r++)e.push(t[r])},e}(),createSetFromList$4=function(){var e=new Set$5([1,2,3]);return 3===e.size?function(e){return new Set$5(e)}:function(e){var t=new Set$5(e);if(t.size!==e.length)for(var r=0;r<e.length;r++)t.add(e[r]);return t}}(),NG_VALIDATORS=new OpaqueToken("NgValidators"),NG_ASYNC_VALIDATORS=new OpaqueToken("NgAsyncValidators"),Validators=function(){function e(){}return e.required=function(e){return isBlank$5(e.value)||isString$5(e.value)&&""==e.value?{required:!0}:null},e.minLength=function(t){return function(r){if(isPresent$5(e.required(r)))return null;var n=r.value;return n.length<t?{minlength:{requiredLength:t,actualLength:n.length}}:null}},e.maxLength=function(t){return function(r){if(isPresent$5(e.required(r)))return null;var n=r.value;return n.length>t?{maxlength:{requiredLength:t,actualLength:n.length}}:null}},e.pattern=function(t){return function(r){if(isPresent$5(e.required(r)))return null;var n=new RegExp("^"+t+"$"),i=r.value;return n.test(i)?null:{pattern:{requiredPattern:"^"+t+"$",actualValue:i}}}},e.nullValidator=function(e){return null},e.compose=function(e){if(isBlank$5(e))return null;var t=e.filter(isPresent$5);return 0==t.length?null:function(e){return _mergeErrors(_executeValidators(e,t))}},e.composeAsync=function(e){if(isBlank$5(e))return null;var t=e.filter(isPresent$5);return 0==t.length?null:function(e){var r=_executeAsyncValidators(e,t).map(_convertToPromise);return Promise.all(r).then(_mergeErrors)}},e}(),NG_VALUE_ACCESSOR=new OpaqueToken("NgValueAccessor"),CHECKBOX_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(function(){return CheckboxControlValueAccessor}),multi:!0},CheckboxControlValueAccessor=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",e)},e.decorators=[{type:Directive,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[CHECKBOX_VALUE_ACCESSOR]}]}],e.ctorParameters=[{type:Renderer},{type:ElementRef}],e}(),DEFAULT_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(function(){return DefaultValueAccessor}),multi:!0},DefaultValueAccessor=function(){function e(e,t){
this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){var t=isBlank$5(e)?"":e;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",e)},e.decorators=[{type:Directive,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[DEFAULT_VALUE_ACCESSOR]}]}],e.ctorParameters=[{type:Renderer},{type:ElementRef}],e}(),NUMBER_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(function(){return NumberValueAccessor}),multi:!0},NumberValueAccessor=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){var t=isBlank$5(e)?"":e;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:NumberWrapper$5.parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",e)},e.decorators=[{type:Directive,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[NUMBER_VALUE_ACCESSOR]}]}],e.ctorParameters=[{type:Renderer},{type:ElementRef}],e}(),__extends$57=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},NgControl=function(e){function t(){e.apply(this,arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}return __extends$57(t,e),Object.defineProperty(t.prototype,"validator",{get:function(){return unimplemented$4()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return unimplemented$4()},enumerable:!0,configurable:!0}),t}(AbstractControlDirective),RADIO_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(function(){return RadioControlValueAccessor}),multi:!0},RadioControlRegistry=function(){function e(){this._accessors=[]}return e.prototype.add=function(e,t){this._accessors.push([e,t])},e.prototype.remove=function(e){for(var t=-1,r=0;r<this._accessors.length;++r)this._accessors[r][1]===e&&(t=r);ListWrapper$4.removeAt(this._accessors,t)},e.prototype.select=function(e){var t=this;this._accessors.forEach(function(r){t._isSameGroup(r,e)&&r[1]!==e&&r[1].fireUncheck(e.value)})},e.prototype._isSameGroup=function(e,t){return!!e[0].control&&(e[0]._parent===t._control._parent&&e[1].name===t.name)},e.decorators=[{type:Injectable}],e.ctorParameters=[],e}(),RadioControlValueAccessor=function(){function e(e,t,r,n){this._renderer=e,this._elementRef=t,this._registry=r,this._injector=n,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.ngOnInit=function(){this._control=this._injector.get(NgControl),this._checkName(),this._registry.add(this._control,this)},e.prototype.ngOnDestroy=function(){this._registry.remove(this)},e.prototype.writeValue=function(e){this._state=e===this.value,isPresent$5(e)&&this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",this._state)},e.prototype.registerOnChange=function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}},e.prototype.fireUncheck=function(e){this.writeValue(e)},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},e.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},e.decorators=[{type:Directive,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[RADIO_VALUE_ACCESSOR]}]}],e.ctorParameters=[{type:Renderer},{type:ElementRef},{type:RadioControlRegistry},{type:Injector}],e.propDecorators={name:[{type:Input}],formControlName:[{type:Input}],value:[{type:Input}]},e}(),SELECT_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(function(){return SelectControlValueAccessor}),multi:!0},SelectControlValueAccessor=function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this.value=e;var t=_buildValueString(this._getOptionId(e),e);this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(r){t.value=r,e(t._getOptionValue(r))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._registerOption=function(){return(this._idCounter++).toString()},e.prototype._getOptionId=function(e){for(var t=0,r=MapWrapper$4.keys(this._optionMap);t<r.length;t++){var n=r[t];if(looseIdentical$5(this._optionMap.get(n),e))return n}return null},e.prototype._getOptionValue=function(e){var t=this._optionMap.get(_extractId(e));return isPresent$5(t)?t:e},e.decorators=[{type:Directive,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[SELECT_VALUE_ACCESSOR]}]}],e.ctorParameters=[{type:Renderer},{type:ElementRef}],e}(),NgSelectOption=function(){function e(e,t,r){this._element=e,this._renderer=t,this._select=r,isPresent$5(this._select)&&(this.id=this._select._registerOption())}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(_buildValueString(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){this._setElementValue(e),isPresent$5(this._select)&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setElementProperty(this._element.nativeElement,"value",e)},e.prototype.ngOnDestroy=function(){isPresent$5(this._select)&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},e.decorators=[{type:Directive,args:[{selector:"option"}]}],e.ctorParameters=[{type:ElementRef},{type:Renderer},{type:SelectControlValueAccessor,decorators:[{type:Optional},{type:Host}]}],e.propDecorators={ngValue:[{type:Input,args:["ngValue"]}],value:[{type:Input,args:["value"]}]},e}(),SELECT_MULTIPLE_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:forwardRef(function(){return SelectMultipleControlValueAccessor}),multi:!0},SelectMultipleControlValueAccessor=function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){var t=this;if(this.value=e,null!=e){var r=e,n=r.map(function(e){return t._getOptionId(e)});this._optionMap.forEach(function(e,t){e._setSelected(n.indexOf(t.toString())>-1)})}},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(r){var n=[];if(r.hasOwnProperty("selectedOptions"))for(var i=r.selectedOptions,o=0;o<i.length;o++){var s=i.item(o),a=t._getOptionValue(s.value);n.push(a)}else for(var i=r.options,o=0;o<i.length;o++){var s=i.item(o);if(s.selected){var a=t._getOptionValue(s.value);n.push(a)}}e(n)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._registerOption=function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t},e.prototype._getOptionId=function(e){for(var t=0,r=MapWrapper$4.keys(this._optionMap);t<r.length;t++){var n=r[t];if(looseIdentical$5(this._optionMap.get(n)._value,e))return n}return null},e.prototype._getOptionValue=function(e){var t=this._optionMap.get(_extractId$1(e));return isPresent$5(t)?t._value:e},e.decorators=[{type:Directive,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[SELECT_MULTIPLE_VALUE_ACCESSOR]}]}],e.ctorParameters=[{type:Renderer},{type:ElementRef}],e}(),NgSelectMultipleOption=function(){function e(e,t,r){this._element=e,this._renderer=t,this._select=r,isPresent$5(this._select)&&(this.id=this._select._registerOption(this))}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._value=e,this._setElementValue(_buildValueString$1(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){isPresent$5(this._select)?(this._value=e,this._setElementValue(_buildValueString$1(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setElementProperty(this._element.nativeElement,"value",e)},e.prototype._setSelected=function(e){this._renderer.setElementProperty(this._element.nativeElement,"selected",e)},e.prototype.ngOnDestroy=function(){isPresent$5(this._select)&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},e.decorators=[{type:Directive,args:[{selector:"option"}]}],e.ctorParameters=[{type:ElementRef},{type:Renderer},{type:SelectMultipleControlValueAccessor,decorators:[{type:Optional},{type:Host}]}],e.propDecorators={ngValue:[{type:Input,args:["ngValue"]}],value:[{type:Input,args:["value"]}]},e}(),__extends$55=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},AbstractFormGroupDirective=function(e){function t(){e.apply(this,arguments)}return __extends$55(t,e),t.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){},t}(ControlContainer),__extends$58=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},AbstractControlStatus=function(){function e(e){this._cd=e}return Object.defineProperty(e.prototype,"ngClassUntouched",{get:function(){return!!isPresent$5(this._cd.control)&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassTouched",{get:function(){return!!isPresent$5(this._cd.control)&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPristine",{get:function(){return!!isPresent$5(this._cd.control)&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassDirty",{get:function(){return!!isPresent$5(this._cd.control)&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassValid",{get:function(){return!!isPresent$5(this._cd.control)&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassInvalid",{get:function(){return!!isPresent$5(this._cd.control)&&this._cd.control.invalid},enumerable:!0,configurable:!0}),e}(),ngControlStatusHost={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid"},NgControlStatus=function(e){function t(t){e.call(this,t)}return __extends$58(t,e),t.decorators=[{type:Directive,args:[{selector:"[formControlName],[ngModel],[formControl]",host:ngControlStatusHost}]}],t.ctorParameters=[{type:NgControl,decorators:[{type:Self}]}],t}(AbstractControlStatus),NgControlStatusGroup=function(e){function t(t){e.call(this,t)}return __extends$58(t,e),t.decorators=[{type:Directive,args:[{selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:ngControlStatusHost}]}],t.ctorParameters=[{type:ControlContainer,decorators:[{type:Self}]}],t}(AbstractControlStatus),__extends$60=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},EventEmitter$2=function(e){function t(t){void 0===t&&(t=!1),e.call(this),this.__isAsync=t}return __extends$60(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,r,n){var i,o=function(e){return null},s=function(){return null};return t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},r&&(o=this.__isAsync?function(e){setTimeout(function(){return r(e)})}:function(e){r(e)}),n&&(s=this.__isAsync?function(){setTimeout(function(){return n()})}:function(){n()})),e.prototype.subscribe.call(this,i,o,s)},t}(Subject),PromiseObservable=function(e){function t(t,r){e.call(this),this.promise=t,this.scheduler=r}return __extends(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t=this,r=this.promise,n=this.scheduler;if(null==n)this._isScalar?e.closed||(e.next(this.value),e.complete()):r.then(function(r){t.value=r,t._isScalar=!0,e.closed||(e.next(r),e.complete())},function(t){e.closed||e.error(t)}).then(null,function(e){root.setTimeout(function(){throw e})});else if(this._isScalar){if(!e.closed)return n.schedule(dispatchNext,0,{value:this.value,subscriber:e})}else r.then(function(r){t.value=r,t._isScalar=!0,e.closed||e.add(n.schedule(dispatchNext,0,{value:r,subscriber:e}))},function(t){e.closed||e.add(n.schedule(dispatchError,0,{err:t,subscriber:e}))}).then(null,function(e){root.setTimeout(function(){throw e})})},t}(Observable),staticFromPromise=PromiseObservable.create,__extends$61=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},VALID="VALID",INVALID="INVALID",PENDING="PENDING",DISABLED="DISABLED",AbstractControl=function(){function e(e,t){this.validator=e,this.asyncValidator=t,this._pristine=!0,this._touched=!1}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this._status===VALID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return this._status===INVALID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return this._status==PENDING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._status===DISABLED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._status!==DISABLED},enumerable:!0,configurable:!0}),e.prototype.setAsyncValidators=function(e){this.asyncValidator=coerceToAsyncValidator(e)},e.prototype.clearAsyncValidators=function(){this.asyncValidator=null},e.prototype.setValidators=function(e){this.validator=coerceToValidator(e)},e.prototype.clearValidators=function(){this.validator=null},e.prototype.markAsTouched=function(e){var t=(void 0===e?{}:e).onlySelf;t=normalizeBool$5(t),this._touched=!0,isPresent$5(this._parent)&&!t&&this._parent.markAsTouched({onlySelf:t})},e.prototype.markAsDirty=function(e){var t=(void 0===e?{}:e).onlySelf;t=normalizeBool$5(t),this._pristine=!1,isPresent$5(this._parent)&&!t&&this._parent.markAsDirty({onlySelf:t})},e.prototype.markAsPristine=function(e){var t=(void 0===e?{}:e).onlySelf;this._pristine=!0,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),isPresent$5(this._parent)&&!t&&this._parent._updatePristine({onlySelf:t})},e.prototype.markAsUntouched=function(e){var t=(void 0===e?{}:e).onlySelf;this._touched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),isPresent$5(this._parent)&&!t&&this._parent._updateTouched({onlySelf:t})},e.prototype.markAsPending=function(e){var t=(void 0===e?{}:e).onlySelf;t=normalizeBool$5(t),this._status=PENDING,isPresent$5(this._parent)&&!t&&this._parent.markAsPending({onlySelf:t})},e.prototype.disable=function(e){var t=void 0===e?{}:e,r=t.onlySelf,n=t.emitEvent;n=!isPresent$5(n)||n,this._status=DISABLED,this._forEachChild(function(e){e.disable({onlySelf:!0})}),this._updateValue(),n&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._updateAncestors(r),this._onDisabledChange(!0)},e.prototype.enable=function(e){var t=void 0===e?{}:e,r=t.onlySelf,n=t.emitEvent;this._status=VALID,this._forEachChild(function(e){e.enable({onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n}),this._updateAncestors(r),this._onDisabledChange(!1)},e.prototype._updateAncestors=function(e){isPresent$5(this._parent)&&!e&&(this._parent.updateValueAndValidity(),this._parent._updatePristine(),this._parent._updateTouched())},e.prototype.setParent=function(e){this._parent=e},e.prototype.updateValueAndValidity=function(e){var t=void 0===e?{}:e,r=t.onlySelf,n=t.emitEvent;r=normalizeBool$5(r),n=!isPresent$5(n)||n,this._updateValue(),this._errors=this._runValidator();var i=this._status;this._status=this._calculateStatus(),this._status!=VALID&&this._status!=PENDING||this._runAsyncValidator(n),this._disabledChanged(i)&&this._updateValue(),n&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),isPresent$5(this._parent)&&!r&&this._parent.updateValueAndValidity({onlySelf:r,emitEvent:n})},e.prototype._updateTreeValidity=function(e){var t=(void 0===e?{emitEvent:!0}:e).emitEvent;this._forEachChild(function(e){return e._updateTreeValidity({emitEvent:t})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t})},e.prototype._runValidator=function(){return isPresent$5(this.validator)?this.validator(this):null},e.prototype._runAsyncValidator=function(e){var t=this;if(isPresent$5(this.asyncValidator)){this._status=PENDING,this._cancelExistingSubscription();var r=toObservable(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe({next:function(r){return t.setErrors(r,{emitEvent:e})}})}},e.prototype._cancelExistingSubscription=function(){isPresent$5(this._asyncValidationSubscription)&&this._asyncValidationSubscription.unsubscribe()},e.prototype._disabledChanged=function(e){return this._status!==e&&(this._status===DISABLED||e===DISABLED)},e.prototype.setErrors=function(e,t){var r=(void 0===t?{}:t).emitEvent;r=!isPresent$5(r)||r,this._errors=e,this._updateControlsErrors(r)},e.prototype.get=function(e){return _find(this,e,".")},e.prototype.getError=function(e,t){void 0===t&&(t=null);var r=isPresent$5(t)&&!ListWrapper$4.isEmpty(t)?this.get(t):this;return isPresent$5(r)&&isPresent$5(r._errors)?StringMapWrapper$4.get(r._errors,e):null},e.prototype.hasError=function(e,t){return void 0===t&&(t=null),isPresent$5(this.getError(e,t))},Object.defineProperty(e.prototype,"root",{get:function(){for(var e=this;isPresent$5(e._parent);)e=e._parent;return e},enumerable:!0,configurable:!0}),e.prototype._updateControlsErrors=function(e){this._status=this._calculateStatus(),e&&this._statusChanges.emit(this._status),isPresent$5(this._parent)&&this._parent._updateControlsErrors(e)},e.prototype._initObservables=function(){this._valueChanges=new EventEmitter$2,this._statusChanges=new EventEmitter$2},e.prototype._calculateStatus=function(){return isPresent$5(this._errors)?INVALID:this._anyControlsHaveStatus(PENDING)?PENDING:this._anyControlsHaveStatus(INVALID)?INVALID:this._allControlsDisabled()?DISABLED:VALID},e.prototype._anyControlsHaveStatus=function(e){return this._anyControls(function(t){return t.status==e})},e.prototype._anyControlsDirty=function(){return this._anyControls(function(e){return e.dirty})},e.prototype._anyControlsTouched=function(){return this._anyControls(function(e){return e.touched})},e.prototype._updatePristine=function(e){var t=(void 0===e?{}:e).onlySelf;this._pristine=!this._anyControlsDirty(),isPresent$5(this._parent)&&!t&&this._parent._updatePristine({onlySelf:t})},e.prototype._updateTouched=function(e){var t=(void 0===e?{}:e).onlySelf;this._touched=this._anyControlsTouched(),isPresent$5(this._parent)&&!t&&this._parent._updateTouched({onlySelf:t})},e.prototype._onDisabledChange=function(e){},e.prototype._isBoxedValue=function(e){return isStringMap$5(e)&&2===Object.keys(e).length&&"value"in e&&"disabled"in e},e}(),FormControl=function(e){function t(t,r,n){void 0===t&&(t=null),void 0===r&&(r=null),void 0===n&&(n=null),e.call(this,coerceToValidator(r),coerceToAsyncValidator(n)),this._onChange=[],this._applyFormState(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}return __extends$61(t,e),t.prototype.setValue=function(e,t){var r=this,n=void 0===t?{}:t,i=n.onlySelf,o=n.emitEvent,s=n.emitModelToViewChange,a=n.emitViewToModelChange;s=!isPresent$5(s)||s,a=!isPresent$5(a)||a,this._value=e,this._onChange.length&&s&&this._onChange.forEach(function(e){return e(r._value,a)}),this.updateValueAndValidity({onlySelf:i,emitEvent:o})},t.prototype.patchValue=function(e,t){void 0===t&&(t={}),this.setValue(e,t)},t.prototype.reset=function(e,t){void 0===e&&(e=null);var r=(void 0===t?{}:t).onlySelf;this._applyFormState(e),this.markAsPristine({onlySelf:r}),this.markAsUntouched({onlySelf:r}),this.setValue(this._value,{onlySelf:r})},t.prototype._updateValue=function(){},t.prototype._anyControls=function(e){return!1},t.prototype._allControlsDisabled=function(){return this.disabled},t.prototype.registerOnChange=function(e){this._onChange.push(e)},t.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=null},t.prototype.registerOnDisabledChange=function(e){this._onDisabledChange=e},t.prototype._forEachChild=function(e){},t.prototype._applyFormState=function(e){this._isBoxedValue(e)?(this._value=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this._value=e},t}(AbstractControl),FormGroup=function(e){function t(t,r,n){void 0===r&&(r=null),void 0===n&&(n=null),e.call(this,r,n),this.controls=t,this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return __extends$61(t,e),t.prototype.registerControl=function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t)},t.prototype.addControl=function(e,t){this.registerControl(e,t),this.updateValueAndValidity()},t.prototype.removeControl=function(e){StringMapWrapper$4.delete(this.controls,e),this.updateValueAndValidity()},t.prototype.contains=function(e){var t=StringMapWrapper$4.contains(this.controls,e);return t&&this.get(e).enabled},t.prototype.setValue=function(e,t){var r=this,n=(void 0===t?{}:t).onlySelf;this._checkAllValuesPresent(e),StringMapWrapper$4.forEach(e,function(e,t){r._throwIfControlMissing(t),r.controls[t].setValue(e,{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:n})},t.prototype.patchValue=function(e,t){var r=this,n=(void 0===t?{}:t).onlySelf;StringMapWrapper$4.forEach(e,function(e,t){r.controls[t]&&r.controls[t].patchValue(e,{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:n})},t.prototype.reset=function(e,t){void 0===e&&(e={});var r=(void 0===t?{}:t).onlySelf;this._forEachChild(function(t,r){t.reset(e[r],{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:r}),this._updatePristine({onlySelf:r}),this._updateTouched({onlySelf:r})},t.prototype.getRawValue=function(){return this._reduceChildren({},function(e,t,r){return e[r]=t.value,e})},t.prototype._throwIfControlMissing=function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: "+e+".")},t.prototype._forEachChild=function(e){StringMapWrapper$4.forEach(this.controls,e)},t.prototype._setParentForControls=function(){var e=this;this._forEachChild(function(t,r){t.setParent(e)})},t.prototype._updateValue=function(){this._value=this._reduceValue()},t.prototype._anyControls=function(e){var t=this,r=!1;return this._forEachChild(function(n,i){r=r||t.contains(i)&&e(n)}),r},t.prototype._reduceValue=function(){var e=this;return this._reduceChildren({},function(t,r,n){return(r.enabled||e.disabled)&&(t[n]=r.value),t})},t.prototype._reduceChildren=function(e,t){var r=e;return this._forEachChild(function(e,n){r=t(r,e,n)}),r},t.prototype._allControlsDisabled=function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var r=t[e];if(this.controls[r].enabled)return!1}return!StringMapWrapper$4.isEmpty(this.controls)},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,r){if(void 0===e[r])throw new Error("Must supply a value for form control with name: '"+r+"'.")})},t}(AbstractControl),FormArray=function(e){function t(t,r,n){void 0===r&&(r=null),void 0===n&&(n=null),e.call(this,r,n),this.controls=t,this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return __extends$61(t,e),t.prototype.at=function(e){return this.controls[e]},t.prototype.push=function(e){this.controls.push(e),e.setParent(this),this.updateValueAndValidity()},t.prototype.insert=function(e,t){ListWrapper$4.insert(this.controls,e,t),t.setParent(this),this.updateValueAndValidity()},t.prototype.removeAt=function(e){ListWrapper$4.removeAt(this.controls,e),this.updateValueAndValidity()},Object.defineProperty(t.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),t.prototype.setValue=function(e,t){var r=this,n=(void 0===t?{}:t).onlySelf;this._checkAllValuesPresent(e),e.forEach(function(e,t){r._throwIfControlMissing(t),r.at(t).setValue(e,{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:n})},t.prototype.patchValue=function(e,t){var r=this,n=(void 0===t?{}:t).onlySelf;e.forEach(function(e,t){r.at(t)&&r.at(t).patchValue(e,{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:n})},t.prototype.reset=function(e,t){void 0===e&&(e=[]);var r=(void 0===t?{}:t).onlySelf;this._forEachChild(function(t,r){t.reset(e[r],{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:r}),this._updatePristine({onlySelf:r}),this._updateTouched({onlySelf:r})},t.prototype.getRawValue=function(){return this.controls.map(function(e){return e.value})},t.prototype._throwIfControlMissing=function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)},t.prototype._forEachChild=function(e){this.controls.forEach(function(t,r){e(t,r)})},t.prototype._updateValue=function(){var e=this;this._value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})},t.prototype._anyControls=function(e){return this.controls.some(function(t){return t.enabled&&e(t)})},t.prototype._setParentForControls=function(){var e=this;this._forEachChild(function(t){t.setParent(e)})},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,r){if(void 0===e[r])throw new Error("Must supply a value for form control at index: "+r+".")})},t.prototype._allControlsDisabled=function(){for(var e=0,t=this.controls;e<t.length;e++){var r=t[e];if(r.enabled)return!1}return!!this.controls.length},t}(AbstractControl),__extends$59=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},formDirectiveProvider={provide:ControlContainer,useExisting:forwardRef(function(){return NgForm})},resolvedPromise=Promise.resolve(null),NgForm=function(e){function t(t,r){e.call(this),this._submitted=!1,this.ngSubmit=new EventEmitter$2,this.form=new FormGroup({},composeValidators(t),composeAsyncValidators(r))}return __extends$59(t,e),Object.defineProperty(t.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{
get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var t=this;resolvedPromise.then(function(){var r=t._findContainer(e.path);e._control=r.registerControl(e.name,e.control),setUpControl(e.control,e),e.control.updateValueAndValidity({emitEvent:!1})})},t.prototype.getControl=function(e){return this.form.get(e.path)},t.prototype.removeControl=function(e){var t=this;resolvedPromise.then(function(){var r=t._findContainer(e.path);isPresent$5(r)&&r.removeControl(e.name)})},t.prototype.addFormGroup=function(e){var t=this;resolvedPromise.then(function(){var r=t._findContainer(e.path),n=new FormGroup({});setUpFormContainer(n,e),r.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})},t.prototype.removeFormGroup=function(e){var t=this;resolvedPromise.then(function(){var r=t._findContainer(e.path);isPresent$5(r)&&r.removeControl(e.name)})},t.prototype.getFormGroup=function(e){return this.form.get(e.path)},t.prototype.updateModel=function(e,t){var r=this;resolvedPromise.then(function(){var n=r.form.get(e.path);n.setValue(t)})},t.prototype.setValue=function(e){this.control.setValue(e)},t.prototype.onSubmit=function(){return this._submitted=!0,this.ngSubmit.emit(null),!1},t.prototype.onReset=function(){this.resetForm()},t.prototype.resetForm=function(e){void 0===e&&(e=void 0),this.form.reset(e),this._submitted=!1},t.prototype._findContainer=function(e){return e.pop(),ListWrapper$4.isEmpty(e)?this.form:this.form.get(e)},t.decorators=[{type:Directive,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]",providers:[formDirectiveProvider],host:{"(submit)":"onSubmit()","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],t.ctorParameters=[{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]}],t}(ControlContainer),Examples={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; let i=index">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '},TemplateDrivenErrors=function(){function e(){}return e.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+Examples.formControlName+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+Examples.ngModelWithFormGroup)},e.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+Examples.formGroupName+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+Examples.ngModelGroup)},e.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},e.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+Examples.formGroupName+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+Examples.ngModelGroup)},e}(),__extends$63=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},modelGroupProvider={provide:ControlContainer,useExisting:forwardRef(function(){return NgModelGroup})},NgModelGroup=function(e){function t(t,r,n){e.call(this),this._parent=t,this._validators=r,this._asyncValidators=n}return __extends$63(t,e),t.prototype._checkParentType=function(){this._parent instanceof t||this._parent instanceof NgForm||TemplateDrivenErrors.modelGroupParentException()},t.decorators=[{type:Directive,args:[{selector:"[ngModelGroup]",providers:[modelGroupProvider],exportAs:"ngModelGroup"}]}],t.ctorParameters=[{type:ControlContainer,decorators:[{type:Host},{type:SkipSelf}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]}],t.propDecorators={name:[{type:Input,args:["ngModelGroup"]}]},t}(AbstractFormGroupDirective),__extends$62=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},formControlBinding={provide:NgControl,useExisting:forwardRef(function(){return NgModel})},resolvedPromise$1=Promise.resolve(null),NgModel=function(e){function t(t,r,n,i){e.call(this),this._control=new FormControl,this._registered=!1,this.update=new EventEmitter$2,this._parent=t,this._rawValidators=r||[],this._rawAsyncValidators=n||[],this.valueAccessor=selectValueAccessor(this,i)}return __extends$62(t,e),t.prototype.ngOnChanges=function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),isPropertyUpdated(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._parent?controlPath(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return composeValidators(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return composeAsyncValidators(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},t.prototype._setUpControl=function(){this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},t.prototype._isStandalone=function(){return!this._parent||this.options&&this.options.standalone},t.prototype._setUpStandalone=function(){setUpControl(this._control,this),this._control.updateValueAndValidity({emitEvent:!1})},t.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},t.prototype._checkParentType=function(){!(this._parent instanceof NgModelGroup)&&this._parent instanceof AbstractFormGroupDirective?TemplateDrivenErrors.formGroupNameException():this._parent instanceof NgModelGroup||this._parent instanceof NgForm||TemplateDrivenErrors.modelParentException()},t.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||TemplateDrivenErrors.missingNameException()},t.prototype._updateValue=function(e){var t=this;resolvedPromise$1.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})},t.prototype._updateDisabled=function(e){var t=this,r=e.isDisabled.currentValue,n=null!=r&&0!=r;resolvedPromise$1.then(function(){n&&!t.control.disabled?t.control.disable():!n&&t.control.disabled&&t.control.enable()})},t.decorators=[{type:Directive,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[formControlBinding],exportAs:"ngModel"}]}],t.ctorParameters=[{type:ControlContainer,decorators:[{type:Optional},{type:Host}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALUE_ACCESSOR]}]}],t.propDecorators={name:[{type:Input}],isDisabled:[{type:Input,args:["disabled"]}],model:[{type:Input,args:["ngModel"]}],options:[{type:Input,args:["ngModelOptions"]}],update:[{type:Output,args:["ngModelChange"]}]},t}(NgControl),ReactiveErrors=function(){function e(){}return e.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Examples.formControlName)},e.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+Examples.formGroupName+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+Examples.ngModelGroup)},e.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Examples.formControlName)},e.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Examples.formGroupName)},e.arrayParentException=function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+Examples.formArrayName)},e.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},e}(),__extends$64=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},formControlBinding$1={provide:NgControl,useExisting:forwardRef(function(){return FormControlDirective})},FormControlDirective=function(e){function t(t,r,n){e.call(this),this.update=new EventEmitter$2,this._rawValidators=t||[],this._rawAsyncValidators=r||[],this.valueAccessor=selectValueAccessor(this,n)}return __extends$64(t,e),Object.defineProperty(t.prototype,"isDisabled",{set:function(e){ReactiveErrors.disabledAttrWarning()},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(e){this._isControlChanged(e)&&(setUpControl(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),isPropertyUpdated(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return composeValidators(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return composeAsyncValidators(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},t.prototype._isControlChanged=function(e){return StringMapWrapper$4.contains(e,"form")},t.decorators=[{type:Directive,args:[{selector:"[formControl]",providers:[formControlBinding$1],exportAs:"ngForm"}]}],t.ctorParameters=[{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALUE_ACCESSOR]}]}],t.propDecorators={form:[{type:Input,args:["formControl"]}],model:[{type:Input,args:["ngModel"]}],update:[{type:Output,args:["ngModelChange"]}],isDisabled:[{type:Input,args:["disabled"]}]},t}(NgControl),__extends$66=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},formDirectiveProvider$1={provide:ControlContainer,useExisting:forwardRef(function(){return FormGroupDirective})},FormGroupDirective=function(e){function t(t,r){e.call(this),this._validators=t,this._asyncValidators=r,this._submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new EventEmitter$2}return __extends$66(t,e),t.prototype.ngOnChanges=function(e){if(this._checkFormPresent(),StringMapWrapper$4.contains(e,"form")){var t=composeValidators(this._validators);this.form.validator=Validators.compose([this.form.validator,t]);var r=composeAsyncValidators(this._asyncValidators);this.form.asyncValidator=Validators.composeAsync([this.form.asyncValidator,r]),this._updateDomValue(e)}},Object.defineProperty(t.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var t=this.form.get(e.path);setUpControl(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e)},t.prototype.getControl=function(e){return this.form.get(e.path)},t.prototype.removeControl=function(e){ListWrapper$4.remove(this.directives,e)},t.prototype.addFormGroup=function(e){var t=this.form.get(e.path);setUpFormContainer(t,e),t.updateValueAndValidity({emitEvent:!1})},t.prototype.removeFormGroup=function(e){},t.prototype.getFormGroup=function(e){return this.form.get(e.path)},t.prototype.addFormArray=function(e){var t=this.form.get(e.path);setUpFormContainer(t,e),t.updateValueAndValidity({emitEvent:!1})},t.prototype.removeFormArray=function(e){},t.prototype.getFormArray=function(e){return this.form.get(e.path)},t.prototype.updateModel=function(e,t){var r=this.form.get(e.path);r.setValue(t)},t.prototype.onSubmit=function(){return this._submitted=!0,this.ngSubmit.emit(null),!1},t.prototype.onReset=function(){this.resetForm()},t.prototype.resetForm=function(e){void 0===e&&(e=void 0),this.form.reset(e),this._submitted=!1},t.prototype._updateDomValue=function(e){var t=this,r=e.form.previousValue;this.directives.forEach(function(e){var n=t.form.get(e.path),i=r.get(e.path);i!==n&&(cleanUpControl(i,e),n&&setUpControl(n,e))}),this.form._updateTreeValidity({emitEvent:!1})},t.prototype._checkFormPresent=function(){isBlank$5(this.form)&&ReactiveErrors.missingFormException()},t.decorators=[{type:Directive,args:[{selector:"[formGroup]",providers:[formDirectiveProvider$1],host:{"(submit)":"onSubmit()","(reset)":"onReset()"},exportAs:"ngForm"}]}],t.ctorParameters=[{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]}],t.propDecorators={form:[{type:Input,args:["formGroup"]}],ngSubmit:[{type:Output}]},t}(ControlContainer),__extends$67=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},formGroupNameProvider={provide:ControlContainer,useExisting:forwardRef(function(){return FormGroupName})},FormGroupName=function(e){function t(t,r,n){e.call(this),this._parent=t,this._validators=r,this._asyncValidators=n}return __extends$67(t,e),t.prototype._checkParentType=function(){_hasInvalidParent(this._parent)&&ReactiveErrors.groupParentException()},t.decorators=[{type:Directive,args:[{selector:"[formGroupName]",providers:[formGroupNameProvider]}]}],t.ctorParameters=[{type:ControlContainer,decorators:[{type:Optional},{type:Host},{type:SkipSelf}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]}],t.propDecorators={name:[{type:Input,args:["formGroupName"]}]},t}(AbstractFormGroupDirective),formArrayNameProvider={provide:ControlContainer,useExisting:forwardRef(function(){return FormArrayName})},FormArrayName=function(e){function t(t,r,n){e.call(this),this._parent=t,this._validators=r,this._asyncValidators=n}return __extends$67(t,e),t.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){_hasInvalidParent(this._parent)&&ReactiveErrors.arrayParentException()},t.decorators=[{type:Directive,args:[{selector:"[formArrayName]",providers:[formArrayNameProvider]}]}],t.ctorParameters=[{type:ControlContainer,decorators:[{type:Optional},{type:Host},{type:SkipSelf}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]}],t.propDecorators={name:[{type:Input,args:["formArrayName"]}]},t}(ControlContainer),__extends$65=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},controlNameBinding={provide:NgControl,useExisting:forwardRef(function(){return FormControlName})},FormControlName=function(e){function t(t,r,n,i){e.call(this),this._added=!1,this.update=new EventEmitter$2,this._parent=t,this._rawValidators=r||[],this._rawAsyncValidators=n||[],this.valueAccessor=selectValueAccessor(this,i)}return __extends$65(t,e),Object.defineProperty(t.prototype,"isDisabled",{set:function(e){ReactiveErrors.disabledAttrWarning()},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(e){this._added||(this._checkParentType(),this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState(!0),this._added=!0),isPropertyUpdated(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},Object.defineProperty(t.prototype,"path",{get:function(){return controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return composeValidators(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return composeAsyncValidators(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getControl(this)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){!(this._parent instanceof FormGroupName)&&this._parent instanceof AbstractFormGroupDirective?ReactiveErrors.ngModelGroupException():this._parent instanceof FormGroupName||this._parent instanceof FormGroupDirective||this._parent instanceof FormArrayName||ReactiveErrors.controlParentException()},t.decorators=[{type:Directive,args:[{selector:"[formControlName]",providers:[controlNameBinding]}]}],t.ctorParameters=[{type:ControlContainer,decorators:[{type:Optional},{type:Host},{type:SkipSelf}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_ASYNC_VALIDATORS]}]},{type:Array,decorators:[{type:Optional},{type:Self},{type:Inject,args:[NG_VALUE_ACCESSOR]}]}],t.propDecorators={name:[{type:Input,args:["formControlName"]}],model:[{type:Input,args:["ngModel"]}],update:[{type:Output,args:["ngModelChange"]}],isDisabled:[{type:Input,args:["disabled"]}]},t}(NgControl),REQUIRED_VALIDATOR={provide:NG_VALIDATORS,useExisting:forwardRef(function(){return RequiredValidator}),multi:!0},RequiredValidator=function(){function e(){}return Object.defineProperty(e.prototype,"required",{get:function(){return this._required},set:function(e){this._required=isPresent$5(e)&&""+e!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),e.prototype.validate=function(e){return this.required?Validators.required(e):null},e.prototype.registerOnChange=function(e){this._onChange=e},e.decorators=[{type:Directive,args:[{selector:"[required][formControlName],[required][formControl],[required][ngModel]",providers:[REQUIRED_VALIDATOR],host:{"[attr.required]":'required? "" : null'}}]}],e.ctorParameters=[],e.propDecorators={required:[{type:Input}]},e}(),MIN_LENGTH_VALIDATOR={provide:NG_VALIDATORS,useExisting:forwardRef(function(){return MinLengthValidator}),multi:!0},MinLengthValidator=function(){function e(){}return e.prototype._createValidator=function(){this._validator=Validators.minLength(parseInt(this.minlength,10))},e.prototype.ngOnChanges=function(e){e.minlength&&(this._createValidator(),this._onChange&&this._onChange())},e.prototype.validate=function(e){return isPresent$5(this.minlength)?this._validator(e):null},e.prototype.registerOnChange=function(e){this._onChange=e},e.decorators=[{type:Directive,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[MIN_LENGTH_VALIDATOR],host:{"[attr.minlength]":"minlength? minlength : null"}}]}],e.ctorParameters=[],e.propDecorators={minlength:[{type:Input}]},e}(),MAX_LENGTH_VALIDATOR={provide:NG_VALIDATORS,useExisting:forwardRef(function(){return MaxLengthValidator}),multi:!0},MaxLengthValidator=function(){function e(){}return e.prototype._createValidator=function(){this._validator=Validators.maxLength(parseInt(this.maxlength,10))},e.prototype.ngOnChanges=function(e){e.maxlength&&(this._createValidator(),this._onChange&&this._onChange())},e.prototype.validate=function(e){return isPresent$5(this.maxlength)?this._validator(e):null},e.prototype.registerOnChange=function(e){this._onChange=e},e.decorators=[{type:Directive,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[MAX_LENGTH_VALIDATOR],host:{"[attr.maxlength]":"maxlength? maxlength : null"}}]}],e.ctorParameters=[],e.propDecorators={maxlength:[{type:Input}]},e}(),PATTERN_VALIDATOR={provide:NG_VALIDATORS,useExisting:forwardRef(function(){return PatternValidator}),multi:!0},PatternValidator=function(){function e(){}return e.prototype._createValidator=function(){this._validator=Validators.pattern(this.pattern)},e.prototype.ngOnChanges=function(e){e.pattern&&(this._createValidator(),this._onChange&&this._onChange())},e.prototype.validate=function(e){return isPresent$5(this.pattern)?this._validator(e):null},e.prototype.registerOnChange=function(e){this._onChange=e},e.decorators=[{type:Directive,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[PATTERN_VALIDATOR],host:{"[attr.pattern]":"pattern? pattern : null"}}]}],e.ctorParameters=[],e.propDecorators={pattern:[{type:Input}]},e}(),FormBuilder=function(){function e(){}return e.prototype.group=function(e,t){void 0===t&&(t=null);var r=this._reduceControls(e),n=isPresent$5(t)?StringMapWrapper$4.get(t,"validator"):null,i=isPresent$5(t)?StringMapWrapper$4.get(t,"asyncValidator"):null;return new FormGroup(r,n,i)},e.prototype.control=function(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=null),new FormControl(e,t,r)},e.prototype.array=function(e,t,r){var n=this;void 0===t&&(t=null),void 0===r&&(r=null);var i=e.map(function(e){return n._createControl(e)});return new FormArray(i,t,r)},e.prototype._reduceControls=function(e){var t=this,r={};return StringMapWrapper$4.forEach(e,function(e,n){r[n]=t._createControl(e)}),r},e.prototype._createControl=function(e){if(e instanceof FormControl||e instanceof FormGroup||e instanceof FormArray)return e;if(isArray$6(e)){var t=e[0],r=e.length>1?e[1]:null,n=e.length>2?e[2]:null;return this.control(t,r,n)}return this.control(e)},e.decorators=[{type:Injectable}],e.ctorParameters=[],e}(),SHARED_FORM_DIRECTIVES=[NgSelectOption,NgSelectMultipleOption,DefaultValueAccessor,NumberValueAccessor,CheckboxControlValueAccessor,SelectControlValueAccessor,SelectMultipleControlValueAccessor,RadioControlValueAccessor,NgControlStatus,NgControlStatusGroup,RequiredValidator,MinLengthValidator,MaxLengthValidator,PatternValidator],TEMPLATE_DRIVEN_DIRECTIVES=[NgModel,NgModelGroup,NgForm],REACTIVE_DRIVEN_DIRECTIVES=[FormControlDirective,FormGroupDirective,FormControlName,FormGroupName,FormArrayName],InternalFormsSharedModule=function(){function e(){}return e.decorators=[{type:NgModule,args:[{declarations:SHARED_FORM_DIRECTIVES,exports:SHARED_FORM_DIRECTIVES}]}],e.ctorParameters=[],e}(),FormsModule=function(){function e(){}return e.decorators=[{type:NgModule,args:[{declarations:TEMPLATE_DRIVEN_DIRECTIVES,providers:[RadioControlRegistry],exports:[InternalFormsSharedModule,TEMPLATE_DRIVEN_DIRECTIVES]}]}],e.ctorParameters=[],e}(),ReactiveFormsModule=function(){function e(){}return e.decorators=[{type:NgModule,args:[{declarations:[REACTIVE_DRIVEN_DIRECTIVES],providers:[FormBuilder,RadioControlRegistry],exports:[InternalFormsSharedModule,REACTIVE_DRIVEN_DIRECTIVES]}]}],e.ctorParameters=[],e}(),__decorate$1=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$1=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},AppComponent=function(){function e(e){this.location=e}return e.prototype.getLinkStyle=function(e){return e===this.location.path()||(e.length>0?this.location.path().indexOf(e)>-1:void 0)},e}();AppComponent=__decorate$1([Component({selector:"demo-app",templateUrl:"./demo-app.html"}),__metadata$1("design:paramtypes",[Location])],AppComponent);var $$iterator,Symbol$2=root.Symbol;if("function"==typeof Symbol$2)Symbol$2.iterator?$$iterator=Symbol$2.iterator:"function"==typeof Symbol$2.for&&($$iterator=Symbol$2.for("iterator"));else if(root.Set&&"function"==typeof(new root.Set)["@@iterator"])$$iterator="@@iterator";else if(root.Map)for(var keys=Object.getOwnPropertyNames(root.Map.prototype),i=0;i<keys.length;++i){var key=keys[i];if("entries"!==key&&"size"!==key&&root.Map.prototype[key]===root.Map.prototype.entries){$$iterator=key;break}}else $$iterator="@@iterator";var IteratorObservable=function(e){function t(t,r){if(e.call(this),this.scheduler=r,null==t)throw new Error("iterator cannot be null.");this.iterator=getIterator(t)}return __extends(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.index,r=e.hasError,n=e.iterator,i=e.subscriber;if(r)return void i.error(e.error);var o=n.next();return o.done?void i.complete():(i.next(o.value),e.index=t+1,void(i.closed||this.schedule(e)))},t.prototype._subscribe=function(e){var r=0,n=this,i=n.iterator,o=n.scheduler;if(o)return o.schedule(t.dispatch,0,{index:r,iterator:i,subscriber:e});for(;;){var s=i.next();if(s.done){e.complete();break}if(e.next(s.value),e.closed)break}},t}(Observable),StringIterator=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=e.length),this.str=e,this.idx=t,this.len=r}return e.prototype[$$iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},e}(),ArrayIterator=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=toLength(e)),this.arr=e,this.idx=t,this.len=r}return e.prototype[$$iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},e}(),maxSafeInteger=Math.pow(2,53)-1,ScalarObservable=function(e){function t(t,r){e.call(this),this.value=t,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return __extends(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.done,r=e.value,n=e.subscriber;return t?void n.complete():(n.next(r),void(n.closed||(e.done=!0,this.schedule(e))))},t.prototype._subscribe=function(e){var r=this.value,n=this.scheduler;return n?n.schedule(t.dispatch,0,{done:!1,value:r,subscriber:e}):(e.next(r),void(e.closed||e.complete()))},t}(Observable),EmptyObservable=function(e){function t(t){e.call(this),this.scheduler=t}return __extends(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){var t=e.subscriber;
t.complete()},t.prototype._subscribe=function(e){var r=this.scheduler;return r?r.schedule(t.dispatch,0,{subscriber:e}):void e.complete()},t}(Observable),ArrayObservable=function(e){function t(t,r){e.call(this),this.array=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return __extends(t,e),t.create=function(e,r){return new t(e,r)},t.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=e[e.length-1];isScheduler(n)?e.pop():n=null;var i=e.length;return i>1?new t(e,n):1===i?new ScalarObservable(e[0],n):new EmptyObservable(n)},t.dispatch=function(e){var t=e.array,r=e.index,n=e.count,i=e.subscriber;return r>=n?void i.complete():(i.next(t[r]),void(i.closed||(e.index=r+1,this.schedule(e))))},t.prototype._subscribe=function(e){var r=0,n=this.array,i=n.length,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{array:n,index:r,count:i,subscriber:e});for(var s=0;s<i&&!e.closed;s++)e.next(n[s]);e.complete()},t}(Observable),ArrayLikeObservable=function(e){function t(t,r){e.call(this),this.arrayLike=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return __extends(t,e),t.create=function(e,r){var n=e.length;return 0===n?new EmptyObservable:1===n?new ScalarObservable(e[0],r):new t(e,r)},t.dispatch=function(e){var t=e.arrayLike,r=e.index,n=e.length,i=e.subscriber;if(!i.closed){if(r>=n)return void i.complete();i.next(t[r]),e.index=r+1,this.schedule(e)}},t.prototype._subscribe=function(e){var r=0,n=this,i=n.arrayLike,o=n.scheduler,s=i.length;if(o)return o.schedule(t.dispatch,0,{arrayLike:i,index:r,length:s,subscriber:e});for(var a=0;a<s&&!e.closed;a++)e.next(i[a]);e.complete()},t}(Observable),Notification=function(){function e(e,t,r){this.kind=e,this.value=t,this.exception=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.exception);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){var n=this.kind;switch(n){case"N":return e&&e(this.value);case"E":return t&&t(this.exception);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Observable.of(this.value);case"E":return Observable.throw(this.exception);case"C":return Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return"undefined"!=typeof t?new e("N",t):this.undefinedValueNotification},e.createError=function(t){return new e("E",(void 0),t)},e.createComplete=function(){return this.completeNotification},e}();Notification.completeNotification=new Notification("C"),Notification.undefinedValueNotification=new Notification("N",(void 0));var ObserveOnOperator=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t._subscribe(new ObserveOnSubscriber(e,this.scheduler,this.delay))},e}(),ObserveOnSubscriber=function(e){function t(t,r,n){void 0===n&&(n=0),e.call(this,t),this.scheduler=r,this.delay=n}return __extends(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r)},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new ObserveOnMessage(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(Notification.createComplete())},t}(Subscriber),ObserveOnMessage=function(){function e(e,t){this.notification=e,this.destination=t}return e}(),isArrayLike=function(e){return e&&"number"==typeof e.length},FromObservable=function(e){function t(t,r){e.call(this,null),this.ish=t,this.scheduler=r}return __extends(t,e),t.create=function(e,r){if(null!=e){if("function"==typeof e[observable])return e instanceof Observable&&!r?e:new t(e,r);if(isArray$1(e))return new ArrayObservable(e,r);if(isPromise$6(e))return new PromiseObservable(e,r);if("function"==typeof e[$$iterator]||"string"==typeof e)return new IteratorObservable(e,r);if(isArrayLike(e))return new ArrayLikeObservable(e,r)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},t.prototype._subscribe=function(e){var t=this.ish,r=this.scheduler;return null==r?t[observable]().subscribe(e):t[observable]().subscribe(new ObserveOnSubscriber(e,r,0))},t}(Observable),staticFrom=FromObservable.create,staticOf=ArrayObservable.of,EveryOperator=function(){function e(e,t,r){this.predicate=e,this.thisArg=t,this.source=r}return e.prototype.call=function(e,t){return t._subscribe(new EverySubscriber(e,this.predicate,this.thisArg,this.source))},e}(),EverySubscriber=function(e){function t(t,r,n,i){e.call(this,t),this.predicate=r,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}return __extends(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(Subscriber),MapOperator=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t._subscribe(new MapSubscriber(e,this.project,this.thisArg))},e}(),MapSubscriber=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.count=0,this.thisArg=n||this}return __extends(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Subscriber),OuterSubscriber=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(Subscriber),InnerSubscriber=function(e){function t(t,r,n){e.call(this),this.parent=t,this.outerValue=r,this.outerIndex=n,this.index=0}return __extends(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(Subscriber),MergeAllOperator=function(){function e(e){this.concurrent=e}return e.prototype.call=function(e,t){return t._subscribe(new MergeAllSubscriber(e,this.concurrent))},e}(),MergeAllSubscriber=function(e){function t(t,r){e.call(this,t),this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0}return __extends(t,e),t.prototype._next=function(e){this.active<this.concurrent?(this.active++,this.add(subscribeToResult(this,e))):this.buffer.push(e)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(OuterSubscriber),MergeMapOperator=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e,t){return t._subscribe(new MergeMapSubscriber(e,this.project,this.resultSelector,this.concurrent))},e}(),MergeMapSubscriber=function(e){function t(t,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.project=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return __extends(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){this.add(subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){this.resultSelector?this._notifyResultSelector(e,t,r,n):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,r,n){var i;try{i=this.resultSelector(e,t,r,n)}catch(e){return void this.destination.error(e)}this.destination.next(i)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(OuterSubscriber),ReduceOperator=function(){function e(e,t){this.accumulator=e,this.seed=t}return e.prototype.call=function(e,t){return t._subscribe(new ReduceSubscriber(e,this.accumulator,this.seed))},e}(),ReduceSubscriber=function(e){function t(t,r,n){e.call(this,t),this.accumulator=r,this.hasValue=!1,this.acc=n,this.accumulator=r,this.hasSeed="undefined"!=typeof n}return __extends(t,e),t.prototype._next=function(e){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(e):(this.acc=e,this.hasValue=!0)},t.prototype._tryReduce=function(e){var t;try{t=this.accumulator(this.acc,e)}catch(e){return void this.destination.error(e)}this.acc=t},t.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},t}(Subscriber),CatchOperator=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t._subscribe(new CatchSubscriber(e,this.selector,this.caught))},e}(),CatchSubscriber=function(e){function t(t,r,n){e.call(this,t),this.selector=r,this.caught=n}return __extends(t,e),t.prototype.error=function(e){if(!this.isStopped){var t=void 0;try{t=this.selector(e,this.caught)}catch(e){return void this.destination.error(e)}this.unsubscribe(),this.destination.remove(this),subscribeToResult(this,t)}},t}(OuterSubscriber),EmptyError=function(e){function t(){var t=e.call(this,"no elements in sequence");this.name=t.name="EmptyError",this.stack=t.stack,this.message=t.message}return __extends(t,e),t}(Error),FirstOperator=function(){function e(e,t,r,n){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=n}return e.prototype.call=function(e,t){return t._subscribe(new FirstSubscriber(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),FirstSubscriber=function(e){function t(t,r,n,i,o){e.call(this,t),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1}return __extends(t,e),t.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}r&&this._emit(e,t)},t.prototype._emit=function(e,t){return this.resultSelector?void this._tryResultSelector(e,t):void this._emitFinal(e)},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this._emitFinal(r)},t.prototype._emitFinal=function(e){var t=this.destination;t.next(e),t.complete(),this.hasCompleted=!0},t.prototype._complete=function(){var e=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||e.error(new EmptyError):(e.next(this.defaultValue),e.complete())},t}(Subscriber),LastOperator=function(){function e(e,t,r,n){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=n}return e.prototype.call=function(e,t){return t._subscribe(new LastSubscriber(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),LastSubscriber=function(e){function t(t,r,n,i,o){e.call(this,t),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,"undefined"!=typeof i&&(this.lastValue=i,this.hasValue=!0)}return __extends(t,e),t.prototype._next=function(e){var t=this.index++;if(this.predicate)this._tryPredicate(e,t);else{if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}if(r){if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this.lastValue=r,this.hasValue=!0},t.prototype._complete=function(){var e=this.destination;this.hasValue?(e.next(this.lastValue),e.complete()):e.error(new EmptyError)},t}(Subscriber),__extends$68=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},PRIMARY_OUTLET="primary",NavigationCancelingError=function(e){function t(t){e.call(this,t),this.message=t,this.stack=new Error(t).stack}return __extends$68(t,e),t.prototype.toString=function(){return this.message},t}(Error),ROUTES=new OpaqueToken("ROUTES"),LoadedRouterConfig=function(){function e(e,t,r){this.routes=e,this.injector=t,this.factoryResolver=r}return e}(),RouterConfigLoader=function(){function e(e,t){this.loader=e,this.compiler=t}return e.prototype.load=function(e,t){return map.call(this.loadModuleFactory(t),function(t){var r=t.create(e);return new LoadedRouterConfig(flatten(r.injector.get(ROUTES)),r.injector,r.componentFactoryResolver)})},e.prototype.loadModuleFactory=function(e){var t=this;if("string"==typeof e)return staticFromPromise(this.loader.load(e));var r=this.compiler instanceof Compiler;return mergeMap.call(wrapIntoObservable(e()),function(e){return r?staticOf(e):staticFromPromise(t.compiler.compileModuleAsync(e))})},e}(),UrlTree=function(){function e(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}return e.prototype.toString=function(){return(new DefaultUrlSerializer).serialize(this)},e}(),UrlSegmentGroup=function(){function e(e,t){var r=this;this.segments=e,this.children=t,this.parent=null,forEach(t,function(e,t){return e.parent=r})}return e.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(e.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return serializePaths(this)},e}(),UrlSegment=function(){function e(e,t){this.path=e,this.parameters=t}return e.prototype.toString=function(){return serializePath(this)},e}(),UrlSerializer=function(){function e(){}return e}(),DefaultUrlSerializer=function(){function e(){}return e.prototype.parse=function(e){var t=new UrlParser(e);return new UrlTree(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())},e.prototype.serialize=function(e){var t="/"+serializeSegment(e.root,!0),r=serializeQueryParams(e.queryParams),n=null!==e.fragment&&void 0!==e.fragment?"#"+encodeURI(e.fragment):"";return""+t+r+n},e}(),Pair=function(){function e(e,t){this.first=e,this.second=t}return e}(),SEGMENT_RE=/^[^\/\(\)\?;=&#]+/,QUERY_PARAM_RE=/^[^=\?&#]+/,QUERY_PARAM_VALUE_RE=/^[^\?&#]+/,UrlParser=function(){function e(e){this.url=e,this.remaining=e}return e.prototype.peekStartsWith=function(e){return this.remaining.startsWith(e)},e.prototype.capture=function(e){if(!this.remaining.startsWith(e))throw new Error('Expected "'+e+'".');this.remaining=this.remaining.substring(e.length)},e.prototype.parseRootSegment=function(){return this.remaining.startsWith("/")&&this.capture("/"),""===this.remaining||this.remaining.startsWith("?")||this.remaining.startsWith("#")?new UrlSegmentGroup([],{}):new UrlSegmentGroup([],this.parseChildren())},e.prototype.parseChildren=function(){if(0==this.remaining.length)return{};this.peekStartsWith("/")&&this.capture("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegments());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegments());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[PRIMARY_OUTLET]=new UrlSegmentGroup(e,t)),r},e.prototype.parseSegments=function(){var e=matchSegments(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");this.capture(e);var t={};return this.peekStartsWith(";")&&(t=this.parseMatrixParams()),new UrlSegment(decode(e),t)},e.prototype.parseQueryParams=function(){var e={};if(this.peekStartsWith("?"))for(this.capture("?"),this.parseQueryParam(e);this.remaining.length>0&&this.peekStartsWith("&");)this.capture("&"),this.parseQueryParam(e);return e},e.prototype.parseFragment=function(){return this.peekStartsWith("#")?decodeURI(this.remaining.substring(1)):null},e.prototype.parseMatrixParams=function(){for(var e={};this.remaining.length>0&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(e);return e},e.prototype.parseParam=function(e){var t=matchSegments(this.remaining);if(t){this.capture(t);var r="";if(this.peekStartsWith("=")){this.capture("=");var n=matchSegments(this.remaining);n&&(r=n,this.capture(r))}e[decode(t)]=decode(r)}},e.prototype.parseQueryParam=function(e){var t=matchQueryParams(this.remaining);if(t){this.capture(t);var r="";if(this.peekStartsWith("=")){this.capture("=");var n=matchUrlQueryParamValue(this.remaining);n&&(r=n,this.capture(r))}e[decode(t)]=decode(r)}},e.prototype.parseParens=function(e){var t={};for(this.capture("(");!this.peekStartsWith(")")&&this.remaining.length>0;){var r=matchSegments(this.remaining),n=this.remaining[r.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;r.indexOf(":")>-1?(i=r.substr(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=PRIMARY_OUTLET);var o=this.parseChildren();t[i]=1===Object.keys(o).length?o[PRIMARY_OUTLET]:new UrlSegmentGroup([],o),this.peekStartsWith("//")&&this.capture("//")}return this.capture(")"),t},e}(),NoMatch=function(){function e(e){void 0===e&&(e=null),this.segmentGroup=e}return e}(),AbsoluteRedirect=function(){function e(e){this.segments=e}return e}(),ApplyRedirects=function(){function e(e,t,r,n){this.injector=e,this.configLoader=t,this.urlTree=r,this.config=n,this.allowRedirects=!0}return e.prototype.apply=function(){var e=this,t=this.expandSegmentGroup(this.injector,this.config,this.urlTree.root,PRIMARY_OUTLET),r=map.call(t,function(t){return e.createUrlTree(t)});return _catch.call(r,function(t){if(t instanceof AbsoluteRedirect){e.allowRedirects=!1;var r=new UrlSegmentGroup([],(n={},n[PRIMARY_OUTLET]=new UrlSegmentGroup(t.segments,{}),n));return e.match(r)}throw t instanceof NoMatch?e.noMatchError(t):t;var n})},e.prototype.match=function(e){var t=this,r=this.expandSegmentGroup(this.injector,this.config,e,PRIMARY_OUTLET),n=map.call(r,function(e){return t.createUrlTree(e)});return _catch.call(n,function(e){throw e instanceof NoMatch?t.noMatchError(e):e})},e.prototype.noMatchError=function(e){return new Error("Cannot match any routes: '"+e.segmentGroup+"'")},e.prototype.createUrlTree=function(e){var t=e.segments.length>0?new UrlSegmentGroup([],(r={},r[PRIMARY_OUTLET]=e,r)):e;return new UrlTree(t,this.urlTree.queryParams,this.urlTree.fragment);var r},e.prototype.expandSegmentGroup=function(e,t,r,n){return 0===r.segments.length&&r.hasChildren()?map.call(this.expandChildren(e,t,r),function(e){return new UrlSegmentGroup([],e)}):this.expandSegment(e,r,t,r.segments,n,!0)},e.prototype.expandChildren=function(e,t,r){var n=this;return waitForMap(r.children,function(r,i){return n.expandSegmentGroup(e,t,i,r)})},e.prototype.expandSegment=function(e,t,r,n,i,o){var s=this,a=staticOf.apply(void 0,r),u=map.call(a,function(a){var u=s.expandSegmentAgainstRoute(e,t,r,a,n,i,o);return _catch.call(u,function(e){if(e instanceof NoMatch)return staticOf(null);throw e})}),c=concatAll.call(u),l=first.call(c,function(e){return!!e});return _catch.call(l,function(e,r){throw e instanceof EmptyError?new NoMatch(t):e})},e.prototype.expandSegmentAgainstRoute=function(e,t,r,n,i,o,s){return getOutlet$1(n)!==o?noMatch(t):void 0===n.redirectTo||s&&this.allowRedirects?void 0===n.redirectTo?this.matchSegmentAgainstRoute(e,t,n,i):this.expandSegmentAgainstRouteUsingRedirect(e,t,r,n,i,o):noMatch(t)},e.prototype.expandSegmentAgainstRouteUsingRedirect=function(e,t,r,n,i,o){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,n,i,o)},e.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(e){var t=applyRedirectCommands([],e.redirectTo,{});return e.redirectTo.startsWith("/")?absoluteRedirect(t):staticOf(new UrlSegmentGroup(t,{}))},e.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(e,t,r,n,i,o){var s=match(t,n,i),a=s.matched,u=s.consumedSegments,c=s.lastChild,l=s.positionalParamSegments;if(!a)return noMatch(t);var p=applyRedirectCommands(u,n.redirectTo,l);return n.redirectTo.startsWith("/")?absoluteRedirect(p):this.expandSegment(e,t,r,p.concat(i.slice(c)),o,!1)},e.prototype.matchSegmentAgainstRoute=function(e,t,r,n){var i=this;if("**"===r.path)return staticOf(new UrlSegmentGroup(n,{}));var o=match(t,r,n),s=o.matched,a=o.consumedSegments,u=o.lastChild;if(!s)return noMatch(t);var c=n.slice(u),l=this.getChildConfig(e,r);return mergeMap.call(l,function(e){var r=e.injector,n=e.routes,o=split(t,a,c,n),s=o.segmentGroup,u=o.slicedSegments;if(0===u.length&&s.hasChildren()){var l=i.expandChildren(r,n,s);return map.call(l,function(e){return new UrlSegmentGroup(a,e)})}if(0===n.length&&0===u.length)return staticOf(new UrlSegmentGroup(a,{}));var l=i.expandSegment(r,s,n,u,PRIMARY_OUTLET,!0);return map.call(l,function(e){return new UrlSegmentGroup(a.concat(e.segments),e.children)})})},e.prototype.getChildConfig=function(e,t){var r=this;return t.children?staticOf(new LoadedRouterConfig(t.children,e,null)):t.loadChildren?mergeMap.call(runGuards(e,t),function(n){return n?t._loadedConfig?staticOf(t._loadedConfig):map.call(r.configLoader.load(e,t.loadChildren),function(e){return t._loadedConfig=e,e}):canLoadFails(t)}):staticOf(new LoadedRouterConfig([],e,null))},e}(),BehaviorSubject=function(e){function t(t){e.call(this),this._value=t}return __extends(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(Subject),Tree=function(){function e(e){this._root=e}return Object.defineProperty(e.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),e.prototype.parent=function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null},e.prototype.children=function(e){var t=findNode(e,this._root);return t?t.children.map(function(e){return e.value}):[]},e.prototype.firstChild=function(e){var t=findNode(e,this._root);return t&&t.children.length>0?t.children[0].value:null},e.prototype.siblings=function(e){var t=findPath(e,this._root,[]);if(t.length<2)return[];var r=t[t.length-2].children.map(function(e){return e.value});return r.filter(function(t){return t!==e})},e.prototype.pathFromRoot=function(e){return findPath(e,this._root,[]).map(function(e){return e.value})},e}(),TreeNode=function(){function e(e,t){this.value=e,this.children=t}return e.prototype.toString=function(){return"TreeNode("+this.value+")"},e}(),__extends$69=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},RouterState=function(e){function t(t,r){e.call(this,t),this.snapshot=r,setRouterStateSnapshot(this,t)}return __extends$69(t,e),t.prototype.toString=function(){return this.snapshot.toString()},t}(Tree),ActivatedRoute=function(){function e(e,t,r,n,i,o,s,a){this.url=e,this.params=t,this.queryParams=r,this.fragment=n,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}return Object.defineProperty(e.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},e}(),InheritedResolve=function(){function e(e,t){this.parent=e,this.current=t,this.resolvedData={}}return Object.defineProperty(e.prototype,"flattenedResolvedData",{get:function(){return this.parent?merge$1(this.parent.flattenedResolvedData,this.resolvedData):this.resolvedData},enumerable:!0,configurable:!0}),Object.defineProperty(e,"empty",{get:function(){return new e(null,{})},enumerable:!0,configurable:!0}),e}(),ActivatedRouteSnapshot=function(){function e(e,t,r,n,i,o,s,a,u,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=n,this.data=i,this.outlet=o,this.component=s,this._routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(e.prototype,"routeConfig",{get:function(){return this._routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),e.prototype.toString=function(){var e=this.url.map(function(e){return e.toString()}).join("/"),t=this._routeConfig?this._routeConfig.path:"";return"Route(url:'"+e+"', path:'"+t+"')"},e}(),RouterStateSnapshot=function(e){function t(t,r){e.call(this,r),this.url=t,setRouterStateSnapshot(this,r)}return __extends$69(t,e),t.prototype.toString=function(){return serializeNode(this._root)},t}(Tree),NormalizedNavigationCommands=function(){function e(e,t,r){this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r}return e}(),Position=function(){function e(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}return e}(),NoMatch$1=function(){function e(){}return e}(),InheritedFromParent=function(){function e(e,t,r,n,i){this.parent=e,this.snapshot=t,this.params=r,this.data=n,this.resolve=i}return Object.defineProperty(e.prototype,"allParams",{get:function(){return this.parent?merge$1(this.parent.allParams,this.params):this.params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allData",{get:function(){return this.parent?merge$1(this.parent.allData,this.data):this.data},enumerable:!0,configurable:!0}),e.empty=function(t){return new e(null,t,{},{},new InheritedResolve(null,{}))},e}(),Recognizer=function(){function e(e,t,r,n){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=n}return e.prototype.recognize=function(){try{var e=split$1(this.urlTree.root,[],[],this.config).segmentGroup,t=this.processSegmentGroup(this.config,e,InheritedFromParent.empty(null),PRIMARY_OUTLET),r=new ActivatedRouteSnapshot([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},PRIMARY_OUTLET,this.rootComponentType,null,this.urlTree.root,(-1),InheritedResolve.empty),n=new TreeNode(r,t);return staticOf(new RouterStateSnapshot(this.url,n))}catch(e){return new Observable(function(t){return t.error(e)})}},e.prototype.processSegmentGroup=function(e,t,r,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,0,t.segments,r,n)},e.prototype.processChildren=function(e,t,r){var n=this,i=mapChildrenIntoArray(t,function(t,i){return n.processSegmentGroup(e,t,r,i)});return checkOutletNameUniqueness(i),sortActivatedRouteSnapshots(i),i},e.prototype.processSegment=function(e,t,r,n,i,o){for(var s=0,a=e;s<a.length;s++){var u=a[s];try{return this.processSegmentAgainstRoute(u,t,r,n,i,o)}catch(e){if(!(e instanceof NoMatch$1))throw e}}throw new NoMatch$1},e.prototype.processSegmentAgainstRoute=function(e,t,r,n,i,o){if(e.redirectTo)throw new NoMatch$1;if((e.outlet?e.outlet:PRIMARY_OUTLET)!==o)throw new NoMatch$1;var s=new InheritedResolve(i.resolve,getResolve(e));if("**"===e.path){var a=n.length>0?last(n).parameters:{},u=new ActivatedRouteSnapshot(n,Object.freeze(merge$1(i.allParams,a)),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,merge$1(i.allData,getData(e)),o,e.component,e,getSourceSegmentGroup(t),getPathIndexShift(t)+n.length,s);return[new TreeNode(u,[])]}var c=match$1(t,e,n,i.snapshot),l=c.consumedSegments,p=c.parameters,h=c.lastChild,f=n.slice(h),d=getChildConfig(e),m=split$1(t,l,f,d),y=m.segmentGroup,v=m.slicedSegments,_=new ActivatedRouteSnapshot(l,Object.freeze(merge$1(i.allParams,p)),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,merge$1(i.allData,getData(e)),o,e.component,e,getSourceSegmentGroup(t),getPathIndexShift(t)+l.length,s),g=e.component?InheritedFromParent.empty(_):new InheritedFromParent(i,_,p,getData(e),s);if(0===v.length&&y.hasChildren()){var b=this.processChildren(d,y,g);return[new TreeNode(_,b)]}if(0===d.length&&0===v.length)return[new TreeNode(_,[])];var b=this.processSegment(d,y,r+h,v,g,PRIMARY_OUTLET);return[new TreeNode(_,b)]},e}(),RouterOutletMap=function(){function e(){this._outlets={}}return e.prototype.registerOutlet=function(e,t){this._outlets[e]=t},e.prototype.removeOutlet=function(e){this._outlets[e]=void 0},e}(),NavigationStart=function(){function e(e,t){this.id=e,this.url=t}return e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(),NavigationEnd=function(){function e(e,t,r){this.id=e,this.url=t,this.urlAfterRedirects=r}return e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(),NavigationCancel=function(){function e(e,t,r){this.id=e,this.url=t,this.reason=r}return e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(),NavigationError=function(){function e(e,t,r){this.id=e,this.url=t,this.error=r}return e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(),RoutesRecognized=function(){function e(e,t,r,n){this.id=e,this.url=t,this.urlAfterRedirects=r,this.state=n}return e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(),Router=function(){function e(e,t,r,n,i,o,s,a){
this.rootComponentType=e,this.urlSerializer=t,this.outletMap=r,this.location=n,this.injector=i,this.config=a,this.navigationId=0,this.errorHandler=defaultErrorHandler,this.navigated=!1,this.resetConfig(a),this.routerEvents=new Subject,this.currentUrlTree=createEmptyUrlTree(),this.configLoader=new RouterConfigLoader(o,s),this.currentRouterState=createEmptyState(this.currentUrlTree,this.rootComponentType)}return e.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},e.prototype.setUpLocationChangeListener=function(){var e=this;this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(t){var r=e.urlSerializer.parse(t.url);return e.currentUrlTree.toString()!==r.toString()?e.scheduleNavigation(r,{skipLocationChange:t.pop,replaceUrl:!0}):null}))},Object.defineProperty(e.prototype,"routerState",{get:function(){return this.currentRouterState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){return this.routerEvents},enumerable:!0,configurable:!0}),e.prototype.resetConfig=function(e){validateConfig(e),this.config=e},e.prototype.ngOnDestroy=function(){this.dispose()},e.prototype.dispose=function(){this.locationSubscription.unsubscribe()},e.prototype.createUrlTree=function(e,t){var r=void 0===t?{}:t,n=r.relativeTo,i=r.queryParams,o=r.fragment,s=r.preserveQueryParams,a=r.preserveFragment,u=n?n:this.routerState.root,c=s?this.currentUrlTree.queryParams:i,l=a?this.currentUrlTree.fragment:o;return createUrlTree(u,this.currentUrlTree,e,c,l)},e.prototype.navigateByUrl=function(e,t){if(void 0===t&&(t={skipLocationChange:!1}),e instanceof UrlTree)return this.scheduleNavigation(e,t);var r=this.urlSerializer.parse(e);return this.scheduleNavigation(r,t)},e.prototype.navigate=function(e,t){return void 0===t&&(t={skipLocationChange:!1}),this.scheduleNavigation(this.createUrlTree(e,t),t)},e.prototype.serializeUrl=function(e){return this.urlSerializer.serialize(e)},e.prototype.parseUrl=function(e){return this.urlSerializer.parse(e)},e.prototype.isActive=function(e,t){if(e instanceof UrlTree)return containsTree(this.currentUrlTree,e,t);var r=this.urlSerializer.parse(e);return containsTree(this.currentUrlTree,r,t)},e.prototype.scheduleNavigation=function(e,t){var r=this,n=++this.navigationId;return this.routerEvents.next(new NavigationStart(n,this.serializeUrl(e))),Promise.resolve().then(function(i){return r.runNavigate(e,t.skipLocationChange,t.replaceUrl,n)})},e.prototype.runNavigate=function(e,t,r,n){var i=this;return n!==this.navigationId?(this.location.go(this.urlSerializer.serialize(this.currentUrlTree)),this.routerEvents.next(new NavigationCancel(n,this.serializeUrl(e),"Navigation ID "+n+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(o,s){var a,u,c,l,p=i.currentRouterState,h=i.currentUrlTree,f=applyRedirects(i.injector,i.configLoader,e,i.config),d=mergeMap.call(f,function(e){return l=e,recognize(i.rootComponentType,i.config,l,i.serializeUrl(l))}),m=map.call(d,function(t){return i.routerEvents.next(new RoutesRecognized(n,i.serializeUrl(e),i.serializeUrl(l),t)),t}),y=map.call(m,function(e){return createRouterState(e,i.currentRouterState)}),v=map.call(y,function(e){a=e,c=new PreActivation(a.snapshot,i.currentRouterState.snapshot,i.injector),c.traverse(i.outletMap)}),_=mergeMap.call(v,function(){return c.checkGuards()}),g=mergeMap.call(_,function(e){return e?map.call(c.resolveData(),function(){return e}):staticOf(e)});g.forEach(function(e){if(!e||n!==i.navigationId)return void(u=!1);if(i.currentUrlTree=l,i.currentRouterState=a,!t){var o=i.urlSerializer.serialize(l);i.location.isCurrentPathEqualTo(o)||r?i.location.replaceState(o):i.location.go(o)}new ActivateRoutes(a,p).activate(i.outletMap),u=!0}).then(function(){i.navigated=!0,u?(i.routerEvents.next(new NavigationEnd(n,i.serializeUrl(e),i.serializeUrl(l))),o(!0)):(i.routerEvents.next(new NavigationCancel(n,i.serializeUrl(e),"")),o(!1))},function(t){if(t instanceof NavigationCancelingError)i.navigated=!0,i.routerEvents.next(new NavigationCancel(n,i.serializeUrl(e),t.message)),o(!1);else{i.routerEvents.next(new NavigationError(n,i.serializeUrl(e),t));try{o(i.errorHandler(t))}catch(e){s(e)}}n===i.navigationId&&(i.currentRouterState=p,i.currentUrlTree=h,i.location.replaceState(i.serializeUrl(h)))})})},e}(),CanActivate=function(){function e(e){this.path=e}return Object.defineProperty(e.prototype,"route",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),e}(),CanDeactivate=function(){function e(e,t){this.component=e,this.route=t}return e}(),PreActivation=function(){function e(e,t,r){this.future=e,this.curr=t,this.injector=r,this.checks=[]}return e.prototype.traverse=function(e){var t=this.future._root,r=this.curr?this.curr._root:null;this.traverseChildRoutes(t,r,e,[t.value])},e.prototype.checkGuards=function(){var e=this;if(0===this.checks.length)return staticOf(!0);var t=staticFrom(this.checks),r=map.call(t,function(t){if(t instanceof CanActivate)return andObservables(staticFrom([e.runCanActivateChild(t.path),e.runCanActivate(t.route)]));if(t instanceof CanDeactivate){var r=t;return e.runCanDeactivate(r.component,r.route)}throw new Error("Cannot be reached")}),n=mergeAll.call(r);return every.call(n,function(e){return e===!0})},e.prototype.resolveData=function(){var e=this;if(0===this.checks.length)return staticOf(null);var t=staticFrom(this.checks),r=mergeMap.call(t,function(t){return t instanceof CanActivate?e.runResolve(t.route):staticOf(null)});return reduce.call(r,function(e,t){return e})},e.prototype.traverseChildRoutes=function(e,t,r,n){var i=this,o=nodeChildrenAsMap(t);e.children.forEach(function(e){i.traverseRoutes(e,o[e.value.outlet],r,n.concat([e.value])),delete o[e.value.outlet]}),forEach(o,function(e,t){return i.deactivateOutletAndItChildren(e,r._outlets[t])})},e.prototype.traverseRoutes=function(e,t,r,n){var i=e.value,o=t?t.value:null,s=r?r._outlets[e.value.outlet]:null;o&&i._routeConfig===o._routeConfig?(shallowEqual(i.params,o.params)?i.data=o.data:this.checks.push(new CanDeactivate(s.component,o),new CanActivate(n)),i.component?this.traverseChildRoutes(e,t,s?s.outletMap:null,n):this.traverseChildRoutes(e,t,r,n)):(o&&(o.component?this.deactivateOutletAndItChildren(o,s):this.deactivateOutletMap(r)),this.checks.push(new CanActivate(n)),i.component?this.traverseChildRoutes(e,null,s?s.outletMap:null,n):this.traverseChildRoutes(e,null,r,n))},e.prototype.deactivateOutletAndItChildren=function(e,t){t&&t.isActivated&&(this.deactivateOutletMap(t.outletMap),this.checks.push(new CanDeactivate(t.component,e)))},e.prototype.deactivateOutletMap=function(e){var t=this;forEach(e._outlets,function(e){e.isActivated&&t.deactivateOutletAndItChildren(e.activatedRoute.snapshot,e)})},e.prototype.runCanActivate=function(e){var t=this,r=e._routeConfig?e._routeConfig.canActivate:null;if(!r||0===r.length)return staticOf(!0);var n=map.call(staticFrom(r),function(r){var n=t.getToken(r,e);return wrapIntoObservable(n.canActivate?n.canActivate(e,t.future):n(e,t.future))});return andObservables(n)},e.prototype.runCanActivateChild=function(e){var t=this,r=e[e.length-1],n=e.slice(0,e.length-1).reverse().map(function(e){return t.extractCanActivateChild(e)}).filter(function(e){return null!==e});return andObservables(map.call(staticFrom(n),function(e){var n=map.call(staticFrom(e.guards),function(e){var n=t.getToken(e,e.node);return wrapIntoObservable(n.canActivateChild?n.canActivateChild(r,t.future):n(r,t.future))});return andObservables(n)}))},e.prototype.extractCanActivateChild=function(e){var t=e._routeConfig?e._routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null},e.prototype.runCanDeactivate=function(e,t){var r=this,n=t&&t._routeConfig?t._routeConfig.canDeactivate:null;if(!n||0===n.length)return staticOf(!0);var i=map.call(staticFrom(n),function(n){var i=r.getToken(n,t);return wrapIntoObservable(i.canDeactivate?i.canDeactivate(e,t,r.curr):i(e,t,r.curr))}),o=mergeAll.call(i);return every.call(o,function(e){return e===!0})},e.prototype.runResolve=function(e){var t=e._resolve;return map.call(this.resolveNode(t.current,e),function(r){return t.resolvedData=r,e.data=merge$1(e.data,t.flattenedResolvedData),null})},e.prototype.resolveNode=function(e,t){var r=this;return waitForMap(e,function(e,n){var i=r.getToken(n,t);return wrapIntoObservable(i.resolve?i.resolve(t,r.future):i(t,r.future))})},e.prototype.getToken=function(e,t){var r=closestLoadedConfig(t),n=r?r.injector:this.injector;return n.get(e)},e}(),ActivateRoutes=function(){function e(e,t){this.futureState=e,this.currState=t}return e.prototype.activate=function(e){var t=this.futureState._root,r=this.currState?this.currState._root:null;advanceActivatedRoute(this.futureState.root),this.activateChildRoutes(t,r,e)},e.prototype.activateChildRoutes=function(e,t,r){var n=this,i=nodeChildrenAsMap(t);e.children.forEach(function(e){n.activateRoutes(e,i[e.value.outlet],r),delete i[e.value.outlet]}),forEach(i,function(e,t){return n.deactivateOutletAndItChildren(r._outlets[t])})},e.prototype.activateRoutes=function(e,t,r){var n=e.value,i=t?t.value:null;if(n===i)if(advanceActivatedRoute(n),n.component){var o=getOutlet(r,e.value);this.activateChildRoutes(e,t,o.outletMap)}else this.activateChildRoutes(e,t,r);else{if(i)if(i.component){var o=getOutlet(r,e.value);this.deactivateOutletAndItChildren(o)}else this.deactivateOutletMap(r);if(n.component){advanceActivatedRoute(n);var o=getOutlet(r,e.value),s=new RouterOutletMap;this.placeComponentIntoOutlet(s,n,o),this.activateChildRoutes(e,null,s)}else advanceActivatedRoute(n),this.activateChildRoutes(e,null,r)}},e.prototype.placeComponentIntoOutlet=function(e,t,r){var n=[{provide:ActivatedRoute,useValue:t},{provide:RouterOutletMap,useValue:e}],i=parentLoadedConfig(t.snapshot),o=null,s=null;i&&(o=i.factoryResolver,s=i.injector,n.push({provide:ComponentFactoryResolver,useValue:o})),r.activate(t,o,s,ReflectiveInjector.resolve(n),e)},e.prototype.deactivateOutletAndItChildren=function(e){e&&e.isActivated&&(this.deactivateOutletMap(e.outletMap),e.deactivate())},e.prototype.deactivateOutletMap=function(e){var t=this;forEach(e._outlets,function(e){return t.deactivateOutletAndItChildren(e)})},e}(),RouterLink=function(){function e(e,t,r){this.router=e,this.route=t,this.locationStrategy=r,this.commands=[]}return Object.defineProperty(e.prototype,"routerLink",{set:function(e){Array.isArray(e)?this.commands=e:this.commands=[e]},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e,t,r){return!(0===e&&!t&&!r)||(this.router.navigateByUrl(this.urlTree),!1)},Object.defineProperty(e.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:toBool(this.preserveQueryParams),preserveFragment:toBool(this.preserveFragment)})},enumerable:!0,configurable:!0}),e.decorators=[{type:Directive,args:[{selector:":not(a)[routerLink]"}]}],e.ctorParameters=[{type:Router},{type:ActivatedRoute},{type:LocationStrategy}],e.propDecorators={queryParams:[{type:Input}],fragment:[{type:Input}],preserveQueryParams:[{type:Input}],preserveFragment:[{type:Input}],routerLink:[{type:Input}],onClick:[{type:HostListener,args:["click",["$event.button","$event.ctrlKey","$event.metaKey"]]}]},e}(),RouterLinkWithHref=function(){function e(e,t,r){var n=this;this.router=e,this.route=t,this.locationStrategy=r,this.commands=[],this.subscription=e.events.subscribe(function(e){e instanceof NavigationEnd&&n.updateTargetUrlAndHref()})}return Object.defineProperty(e.prototype,"routerLink",{set:function(e){Array.isArray(e)?this.commands=e:this.commands=[e]},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){this.updateTargetUrlAndHref()},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.onClick=function(e,t,r){return!(0===e&&!t&&!r)||("string"==typeof this.target&&"_self"!=this.target||(this.router.navigateByUrl(this.urlTree),!1))},e.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(e.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:toBool(this.preserveQueryParams),preserveFragment:toBool(this.preserveFragment)})},enumerable:!0,configurable:!0}),e.decorators=[{type:Directive,args:[{selector:"a[routerLink]"}]}],e.ctorParameters=[{type:Router},{type:ActivatedRoute},{type:LocationStrategy}],e.propDecorators={target:[{type:Input}],queryParams:[{type:Input}],fragment:[{type:Input}],routerLinkOptions:[{type:Input}],preserveQueryParams:[{type:Input}],preserveFragment:[{type:Input}],href:[{type:HostBinding}],routerLink:[{type:Input}],onClick:[{type:HostListener,args:["click",["$event.button","$event.ctrlKey","$event.metaKey"]]}]},e}(),RouterLinkActive=function(){function e(e,t,r){var n=this;this.router=e,this.element=t,this.renderer=r,this.classes=[],this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe(function(e){e instanceof NavigationEnd&&n.update()})}return e.prototype.ngAfterContentInit=function(){var e=this;this.links.changes.subscribe(function(t){return e.update()}),this.linksWithHrefs.changes.subscribe(function(t){return e.update()}),this.update()},Object.defineProperty(e.prototype,"routerLinkActive",{set:function(e){Array.isArray(e)?this.classes=e:this.classes=e.split(" ")},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){this.update()},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.update=function(){var e=this;if(this.links&&this.linksWithHrefs&&this.router.navigated){var t=this.reduceList(this.links),r=this.reduceList(this.linksWithHrefs);this.classes.forEach(function(n){return e.renderer.setElementClass(e.element.nativeElement,n,t||r)})}},e.prototype.reduceList=function(e){var t=this;return e.reduce(function(e,r){return e||t.router.isActive(r.urlTree,t.routerLinkActiveOptions.exact)},!1)},e.decorators=[{type:Directive,args:[{selector:"[routerLinkActive]"}]}],e.ctorParameters=[{type:Router},{type:ElementRef},{type:Renderer}],e.propDecorators={links:[{type:ContentChildren,args:[RouterLink,{descendants:!0}]}],linksWithHrefs:[{type:ContentChildren,args:[RouterLinkWithHref,{descendants:!0}]}],routerLinkActiveOptions:[{type:Input}],routerLinkActive:[{type:Input}]},e}(),RouterOutlet=function(){function e(e,t,r,n){this.parentOutletMap=e,this.location=t,this.resolver=r,this.name=n,this.activateEvents=new EventEmitter$1,this.deactivateEvents=new EventEmitter$1,e.registerOutlet(n?n:PRIMARY_OUTLET,this)}return e.prototype.ngOnDestroy=function(){this.parentOutletMap.removeOutlet(this.name?this.name:PRIMARY_OUTLET)},Object.defineProperty(e.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),e.prototype.deactivate=function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this.deactivateEvents.emit(e)}},e.prototype.activate=function(e,t,r,n,i){this.outletMap=i,this._activatedRoute=e;var o,s=e._futureSnapshot,a=s._routeConfig.component;o=t?t.resolveComponentFactory(a):this.resolver.resolveComponentFactory(a);var u=r?r:this.location.parentInjector,c=ReflectiveInjector.fromResolvedProviders(n,u);this.activated=this.location.createComponent(o,this.location.length,c,[]),this.activated.changeDetectorRef.detectChanges(),this.activateEvents.emit(this.activated.instance)},e.decorators=[{type:Directive,args:[{selector:"router-outlet"}]}],e.ctorParameters=[{type:RouterOutletMap},{type:ViewContainerRef},{type:ComponentFactoryResolver},{type:void 0,decorators:[{type:Attribute,args:["name"]}]}],e.propDecorators={activateEvents:[{type:Output,args:["activate"]}],deactivateEvents:[{type:Output,args:["deactivate"]}]},e}(),ROUTER_DIRECTIVES=[RouterOutlet,RouterLink,RouterLinkWithHref,RouterLinkActive],ROUTER_CONFIGURATION=new OpaqueToken("ROUTER_CONFIGURATION"),ROUTER_FORROOT_GUARD=new OpaqueToken("ROUTER_FORROOT_GUARD"),pathLocationStrategy={provide:LocationStrategy,useClass:PathLocationStrategy},hashLocationStrategy={provide:LocationStrategy,useClass:HashLocationStrategy},ROUTER_PROVIDERS=[Location,{provide:UrlSerializer,useClass:DefaultUrlSerializer},{provide:Router,useFactory:setupRouter,deps:[ApplicationRef,UrlSerializer,RouterOutletMap,Location,Injector,NgModuleFactoryLoader,Compiler,ROUTES,ROUTER_CONFIGURATION]},RouterOutletMap,{provide:ActivatedRoute,useFactory:rootRoute,deps:[Router]},{provide:NgModuleFactoryLoader,useClass:SystemJsNgModuleLoader},{provide:ROUTER_CONFIGURATION,useValue:{enableTracing:!1}}],RouterModule=function(){function e(e){}return e.forRoot=function(t,r){return{ngModule:e,providers:[ROUTER_PROVIDERS,provideRoutes(t),{provide:ROUTER_FORROOT_GUARD,useFactory:provideForRootGuard,deps:[[Router,new Optional,new SkipSelf]]},{provide:ROUTER_CONFIGURATION,useValue:r?r:{}},{provide:LocationStrategy,useFactory:provideLocationStrategy,deps:[PlatformLocation,[new Inject(APP_BASE_HREF),new Optional],ROUTER_CONFIGURATION]},provideRouterInitializer()]}},e.forChild=function(t){return{ngModule:e,providers:[provideRoutes(t)]}},e.decorators=[{type:NgModule,args:[{declarations:ROUTER_DIRECTIVES,exports:ROUTER_DIRECTIVES}]}],e.ctorParameters=[{type:void 0,decorators:[{type:Optional},{type:Inject,args:[ROUTER_FORROOT_GUARD]}]}],e}(),__decorate$2=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$2=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},DemoPage=function(){function e(e){this.location=e}return e.prototype.getLinkStyle=function(e){return this.location.path().indexOf(e)>-1},e}();DemoPage=__decorate$2([Component({selector:"demo-page",templateUrl:"./demo-page.html"}),__metadata$2("design:paramtypes",[Location])],DemoPage);var __decorate$3=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$3=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},About=function(){function e(){}return e}();About=__decorate$3([Component({selector:"about",templateUrl:"./components/about/about.html"}),__metadata$3("design:paramtypes",[])],About);var Directory=function(){function e(e,t,r){this.name=e,this.directories=t,this.files=r,this.expanded=!0,this.checked=!1}return e.prototype.toggle=function(){this.expanded=!this.expanded},e.prototype.getIcon=function(){return this.expanded?"-":"+"},e.prototype.check=function(){this.checked=!this.checked,this.checkRecursive(this.checked)},e.prototype.checkRecursive=function(e){this.directories.forEach(function(t){t.checked=e,t.checkRecursive(e)})},e}(),__decorate$4=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$4=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},TreeViewDemo=function(){function e(){this.loadDirectories()}return e.prototype.loadDirectories=function(){var e=new Directory("Fall 2014",[],["image1.jpg","image2.jpg","image3.jpg"]),t=new Directory("Summer 2014",[],["image10.jpg","image20.jpg","image30.jpg"]),r=new Directory("Pictures",[t,e],[]),n=new Directory("Music",[],["song1.mp3","song2.mp3"]);this.directories=[r,n]},e}();TreeViewDemo=__decorate$4([Component({template:'<h1>Recursive TreeView</h1><tree-view [directories]="directories"></tree-view>          <h4><a href="http://www.syntaxsuccess.com/viewarticle/recursive-treeview-in-angular-2.0">Read more here</a></h4>'}),__metadata$4("design:paramtypes",[])],TreeViewDemo);var Contact=function(){function e(e,t){this.name=e,this.phone=t,this.descr=this.name+" "+this.phone}return e}(),__decorate$5=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$5=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ContactList=function(){function e(){this.contacts=[]}return e.prototype.addContact=function(e,t){var r=new Contact(e.value,t.value);this.contacts.push(r),e.value="",t.value=""},e.prototype.removeContact=function(e){var t=this.contacts.indexOf(e);this.contacts.splice(t,1)},e}();ContactList=__decorate$5([Component({selector:"contact-list",templateUrl:"./components/contact-list/contact-list.html"}),__metadata$5("design:paramtypes",[])],ContactList);var __decorate$6=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$6=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},BoundTextbox=function(){function e(){this.text="hello"}return e.prototype.typing=function(e){this.text=e.target.value},e}();BoundTextbox=__decorate$6([Component({selector:"bound-textbox",template:'<h1>Bound Textbox</h1><input [value]="text" (keyup)="typing($event)" /><span>{{text}}</span>'}),__metadata$6("design:paramtypes",[])],BoundTextbox);var Column=function(){function e(e,t){this.name=e,this.descr=t}return e}(),__decorate$7=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$7=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},GridDemo=function(){function e(){this.people=this.getPeople(),this.columns=this.getColumns()}return e.prototype.getPeople=function(){return[{firstName:"Joe",lastName:"Jackson",age:20},{firstName:"Peter",lastName:"Smith",age:30},{firstName:"Jane",lastName:"Doe",age:50},{firstName:"Tim",lastName:"Smith",age:80}]},e.prototype.getColumns=function(){return[new Column("firstName","First Name"),new Column("lastName","Last Name"),new Column("age","Age")]},e}();GridDemo=__decorate$7([Component({template:'<grid name="person grid" [rows]="people" [columns]="columns"></grid>'}),__metadata$7("design:paramtypes",[])],GridDemo);var __decorate$8=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$8=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},IgnoreBindings=function(){function e(){}return e}();IgnoreBindings=__decorate$8([Component({selector:"ignore-bindings",templateUrl:"./components/non-bindable/non-bindable.html"}),__metadata$8("design:paramtypes",[])],IgnoreBindings);var BrowserXhr=function(){function e(){}return e.prototype.build=function(){return new XMLHttpRequest},e.decorators=[{type:Injectable}],e.ctorParameters=[],e}(),globalScope$6;globalScope$6="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var global$7=globalScope$6;global$7.assert=function(e){};var StringWrapper$6=function(){function e(){}return e.fromCharCode=function(e){return String.fromCharCode(e)},e.charCodeAt=function(e,t){return e.charCodeAt(t)},e.split=function(e,t){return e.split(t)},e.equals=function(e,t){return e===t},e.stripLeft=function(e,t){if(e&&e.length){for(var r=0,n=0;n<e.length&&e[n]==t;n++)r++;e=e.substring(r)}return e},e.stripRight=function(e,t){if(e&&e.length){for(var r=e.length,n=e.length-1;n>=0&&e[n]==t;n--)r--;e=e.substring(0,r)}return e},e.replace=function(e,t,r){return e.replace(t,r)},e.replaceAll=function(e,t,r){return e.replace(t,r)},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.replaceAllMapped=function(e,t,r){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.splice(-2,2),r(e)})},e.contains=function(e,t){return e.indexOf(t)!=-1},e.compare=function(e,t){return e<t?-1:e>t?1:0},e}(),NumberWrapper$6=function(){function e(){}return e.toFixed=function(e,t){return e.toFixed(t)},e.equal=function(e,t){return e===t},e.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t},e.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t)}else if(16==t){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t)}else{var r=parseInt(e,t);if(!isNaN(r))return r}throw new Error("Invalid integer literal when parsing "+e+" in base "+t)},e.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNumeric=function(e){return!isNaN(e-parseFloat(e))},e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}(),Json$6=function(){function e(){}return e.parse=function(e){return global$7.JSON.parse(e)},e.stringify=function(e){return global$7.JSON.stringify(e,null,2)},e}(),_symbolIterator$6=null,RequestMethod;!function(e){e[e.Get=0]="Get",e[e.Post=1]="Post",e[e.Put=2]="Put",e[e.Delete=3]="Delete",e[e.Options=4]="Options",e[e.Head=5]="Head",e[e.Patch=6]="Patch"}(RequestMethod||(RequestMethod={}));var ReadyState;!function(e){e[e.Unsent=0]="Unsent",e[e.Open=1]="Open",e[e.HeadersReceived=2]="HeadersReceived",e[e.Loading=3]="Loading",e[e.Done=4]="Done",e[e.Cancelled=5]="Cancelled"}(ReadyState||(ReadyState={}));var ResponseType;!function(e){e[e.Basic=0]="Basic",e[e.Cors=1]="Cors",e[e.Default=2]="Default",e[e.Error=3]="Error",e[e.Opaque=4]="Opaque"}(ResponseType||(ResponseType={}));var ContentType;!function(e){e[e.NONE=0]="NONE",e[e.JSON=1]="JSON",e[e.FORM=2]="FORM",e[e.FORM_DATA=3]="FORM_DATA",e[e.TEXT=4]="TEXT",e[e.BLOB=5]="BLOB",e[e.ARRAY_BUFFER=6]="ARRAY_BUFFER"}(ContentType||(ContentType={}));var ResponseContentType;!function(e){e[e.Text=0]="Text",e[e.Json=1]="Json",e[e.ArrayBuffer=2]="ArrayBuffer",e[e.Blob=3]="Blob"}(ResponseContentType||(ResponseContentType={}));var Map$6=global$7.Map,Set$6=global$7.Set,createMapFromPairs$5=function(){try{if(1===new Map$6([[1,2]]).size)return function(e){return new Map$6(e)}}catch(e){}return function(e){for(var t=new Map$6,r=0;r<e.length;r++){var n=e[r];t.set(n[0],n[1])}return t}}(),createMapFromMap$5=function(){try{if(new Map$6(new Map$6))return function(e){return new Map$6(e)}}catch(e){}return function(e){var t=new Map$6;return e.forEach(function(e,r){t.set(r,e)}),t}}(),_clearValues$5=function(){return(new Map$6).keys().next?function(e){for(var t,r=e.keys();!(t=r.next()).done;)e.set(t.value,null)}:function(e){e.forEach(function(t,r){e.set(r,null)})}}(),_arrayFromMap$5=function(){try{if((new Map$6).values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(e){}return function(e,t){var r=ListWrapper$5.createFixedSize(e.size),n=0;return e.forEach(function(e,i){r[n]=t?e:i,n++}),r}}(),MapWrapper$5=function(){function e(){}return e.clone=function(e){return createMapFromMap$5(e)},e.createFromStringMap=function(e){var t=new Map$6;for(var r in e)t.set(r,e[r]);return t},e.toStringMap=function(e){var t={};return e.forEach(function(e,r){return t[r]=e}),t},e.createFromPairs=function(e){return createMapFromPairs$5(e)},e.clearValues=function(e){_clearValues$5(e)},e.iterable=function(e){return e},e.keys=function(e){return _arrayFromMap$5(e,!1)},e.values=function(e){return _arrayFromMap$5(e,!0)},e}(),StringMapWrapper$5=function(){function e(){}return e.create=function(){return{}},e.contains=function(e,t){return e.hasOwnProperty(t)},e.get=function(e,t){return e.hasOwnProperty(t)?e[t]:void 0},e.set=function(e,t,r){e[t]=r},e.keys=function(e){return Object.keys(e)},e.values=function(e){return Object.keys(e).map(function(t){return e[t]})},e.isEmpty=function(e){for(var t in e)return!1;return!0},e.delete=function(e,t){delete e[t]},e.forEach=function(e,t){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];t(e[i],i)}},e.merge=function(e,t){for(var r={},n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];r[o]=e[o]}for(var s=0,a=Object.keys(t);s<a.length;s++){var o=a[s];r[o]=t[o]}return r},e.equals=function(e,t){var r=Object.keys(e),n=Object.keys(t);if(r.length!=n.length)return!1;for(var i,o=0;o<r.length;o++)if(i=r[o],e[i]!==t[i])return!1;return!0},e}(),ListWrapper$5=function(){function e(){}return e.createFixedSize=function(e){return new Array(e)},e.createGrowableSize=function(e){return new Array(e)},e.clone=function(e){return e.slice(0)},e.forEachWithIndex=function(e,t){for(var r=0;r<e.length;r++)t(e[r],r)},e.first=function(e){return e?e[0]:null},e.last=function(e){return e&&0!=e.length?e[e.length-1]:null},e.indexOf=function(e,t,r){return void 0===r&&(r=0),e.indexOf(t,r)},e.contains=function(e,t){return e.indexOf(t)!==-1},e.reversed=function(t){var r=e.clone(t);return r.reverse()},e.concat=function(e,t){return e.concat(t)},e.insert=function(e,t,r){e.splice(t,0,r)},e.removeAt=function(e,t){var r=e[t];return e.splice(t,1),r},e.removeAll=function(e,t){for(var r=0;r<t.length;++r){var n=e.indexOf(t[r]);e.splice(n,1)}},e.remove=function(e,t){var r=e.indexOf(t);return r>-1&&(e.splice(r,1),!0)},e.clear=function(e){e.length=0},e.isEmpty=function(e){return 0==e.length},e.fill=function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=null),e.fill(t,r,null===n?e.length:n)},e.equals=function(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.splice=function(e,t,r){return e.splice(t,r)},e.sort=function(e,t){isPresent$6(t)?e.sort(t):e.sort();
},e.toString=function(e){return e.toString()},e.toJSON=function(e){return JSON.stringify(e)},e.maximum=function(e,t){if(0==e.length)return null;for(var r=null,n=-(1/0),i=0;i<e.length;i++){var o=e[i];if(!isBlank$6(o)){var s=t(o);s>n&&(r=o,n=s)}}return r},e.flatten=function(e){var t=[];return _flattenArray$5(e,t),t},e.addAll=function(e,t){for(var r=0;r<t.length;r++)e.push(t[r])},e}(),createSetFromList$5=function(){var e=new Set$6([1,2,3]);return 3===e.size?function(e){return new Set$6(e)}:function(e){var t=new Set$6(e);if(t.size!==e.length)for(var r=0;r<e.length;r++)t.add(e[r]);return t}}(),Headers=function(){function e(t){var r=this;return t instanceof e?void(this._headersMap=new Map$6(t._headersMap)):(this._headersMap=new Map$6,void(isBlank$6(t)||StringMapWrapper$5.forEach(t,function(e,t){r._headersMap.set(normalize(t),isListLikeIterable$5(e)?e:[e])})))}return e.fromResponseHeaderString=function(t){var r=new e;return t.split("\n").forEach(function(e){var t=e.indexOf(":");if(t>0){var n=e.substring(0,t),i=e.substring(t+1).trim();r.set(n,i)}}),r},e.prototype.append=function(e,t){e=normalize(e);var r=this._headersMap.get(e),n=isListLikeIterable$5(r)?r:[];n.push(t),this._headersMap.set(e,n)},e.prototype.delete=function(e){this._headersMap.delete(normalize(e))},e.prototype.forEach=function(e){this._headersMap.forEach(e)},e.prototype.get=function(e){return ListWrapper$5.first(this._headersMap.get(normalize(e)))},e.prototype.has=function(e){return this._headersMap.has(normalize(e))},e.prototype.keys=function(){return MapWrapper$5.keys(this._headersMap)},e.prototype.set=function(e,t){var r=[];if(isListLikeIterable$5(t)){var n=t.join(",");r.push(n)}else r.push(t);this._headersMap.set(normalize(e),r)},e.prototype.values=function(){return MapWrapper$5.values(this._headersMap)},e.prototype.toJSON=function(){var e={};return this._headersMap.forEach(function(t,r){var n=[];iterateListLike$5(t,function(e){return n=ListWrapper$5.concat(n,e.split(","))}),e[normalize(r)]=n}),e},e.prototype.getAll=function(e){var t=this._headersMap.get(normalize(e));return isListLikeIterable$5(t)?t:[]},e.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},e}(),__extends$71=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},ResponseOptions=function(){function e(e){var t=void 0===e?{}:e,r=t.body,n=t.status,i=t.headers,o=t.statusText,s=t.type,a=t.url;this.body=isPresent$6(r)?r:null,this.status=isPresent$6(n)?n:null,this.headers=isPresent$6(i)?i:null,this.statusText=isPresent$6(o)?o:null,this.type=isPresent$6(s)?s:null,this.url=isPresent$6(a)?a:null}return e.prototype.merge=function(t){return new e({body:isPresent$6(t)&&isPresent$6(t.body)?t.body:this.body,status:isPresent$6(t)&&isPresent$6(t.status)?t.status:this.status,headers:isPresent$6(t)&&isPresent$6(t.headers)?t.headers:this.headers,statusText:isPresent$6(t)&&isPresent$6(t.statusText)?t.statusText:this.statusText,type:isPresent$6(t)&&isPresent$6(t.type)?t.type:this.type,url:isPresent$6(t)&&isPresent$6(t.url)?t.url:this.url})},e}(),BaseResponseOptions=function(e){function t(){e.call(this,{status:200,statusText:"Ok",type:ResponseType.Default,headers:new Headers})}return __extends$71(t,e),t.decorators=[{type:Injectable}],t.ctorParameters=[],t}(ResponseOptions),ConnectionBackend=function(){function e(){}return e}(),XSRFStrategy=function(){function e(){}return e}(),isSuccess=function(e){return e>=200&&e<300},QueryEncoder=function(){function e(){}return e.prototype.encodeKey=function(e){return standardEncoding(e)},e.prototype.encodeValue=function(e){return standardEncoding(e)},e}(),URLSearchParams=function(){function e(e,t){void 0===e&&(e=""),void 0===t&&(t=new QueryEncoder),this.rawParams=e,this.queryEncoder=t,this.paramsMap=paramParser(e)}return e.prototype.clone=function(){var t=new e("",this.queryEncoder);return t.appendAll(this),t},e.prototype.has=function(e){return this.paramsMap.has(e)},e.prototype.get=function(e){var t=this.paramsMap.get(e);return isListLikeIterable$5(t)?ListWrapper$5.first(t):null},e.prototype.getAll=function(e){var t=this.paramsMap.get(e);return isPresent$6(t)?t:[]},e.prototype.set=function(e,t){var r=this.paramsMap.get(e),n=isPresent$6(r)?r:[];ListWrapper$5.clear(n),n.push(t),this.paramsMap.set(e,n)},e.prototype.setAll=function(e){var t=this;e.paramsMap.forEach(function(e,r){var n=t.paramsMap.get(r),i=isPresent$6(n)?n:[];ListWrapper$5.clear(i),i.push(e[0]),t.paramsMap.set(r,i)})},e.prototype.append=function(e,t){var r=this.paramsMap.get(e),n=isPresent$6(r)?r:[];n.push(t),this.paramsMap.set(e,n)},e.prototype.appendAll=function(e){var t=this;e.paramsMap.forEach(function(e,r){for(var n=t.paramsMap.get(r),i=isPresent$6(n)?n:[],o=0;o<e.length;++o)i.push(e[o]);t.paramsMap.set(r,i)})},e.prototype.replaceAll=function(e){var t=this;e.paramsMap.forEach(function(e,r){var n=t.paramsMap.get(r),i=isPresent$6(n)?n:[];ListWrapper$5.clear(i);for(var o=0;o<e.length;++o)i.push(e[o]);t.paramsMap.set(r,i)})},e.prototype.toString=function(){var e=this,t=[];return this.paramsMap.forEach(function(r,n){r.forEach(function(r){return t.push(e.queryEncoder.encodeKey(n)+"="+e.queryEncoder.encodeValue(r))})}),t.join("&")},e.prototype.delete=function(e){this.paramsMap.delete(e)},e}(),Body=function(){function e(){}return e.prototype.json=function(){return isString$6(this._body)?Json$6.parse(this._body):this._body instanceof ArrayBuffer?Json$6.parse(this.text()):this._body},e.prototype.text=function(){return this._body instanceof URLSearchParams?this._body.toString():this._body instanceof ArrayBuffer?String.fromCharCode.apply(null,new Uint16Array(this._body)):null===this._body?"":isJsObject$6(this._body)?Json$6.stringify(this._body):this._body.toString()},e.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:stringToArrayBuffer(this.text())},e.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},e}(),__extends$72=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},Response=function(e){function t(t){e.call(this),this._body=t.body,this.status=t.status,this.ok=this.status>=200&&this.status<=299,this.statusText=t.statusText,this.headers=t.headers,this.type=t.type,this.url=t.url}return __extends$72(t,e),t.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},t}(Body),_nextRequestId=0,JSONP_HOME="__ng_jsonp__",_jsonpConnections=null,BrowserJsonp=function(){function e(){}return e.prototype.build=function(e){var t=document.createElement("script");return t.src=e,t},e.prototype.nextRequestID=function(){return"__req"+_nextRequestId++},e.prototype.requestCallback=function(e){return JSONP_HOME+"."+e+".finished"},e.prototype.exposeConnection=function(e,t){var r=_getJsonpConnections();r[e]=t},e.prototype.removeConnection=function(e){var t=_getJsonpConnections();t[e]=null},e.prototype.send=function(e){document.body.appendChild(e)},e.prototype.cleanup=function(e){e.parentNode&&e.parentNode.removeChild(e)},e.decorators=[{type:Injectable}],e.ctorParameters=[],e}(),__extends$70=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},JSONP_ERR_NO_CALLBACK="JSONP injected script did not invoke callback.",JSONP_ERR_WRONG_METHOD="JSONP requests must use GET request method.",JSONPConnection=function(){function e(){}return e}(),JSONPConnection_=function(e){function t(t,r,n){var i=this;if(e.call(this),this._dom=r,this.baseResponseOptions=n,this._finished=!1,t.method!==RequestMethod.Get)throw new TypeError(JSONP_ERR_WRONG_METHOD);this.request=t,this.response=new Observable(function(e){i.readyState=ReadyState.Loading;var o=i._id=r.nextRequestID();r.exposeConnection(o,i);var s=r.requestCallback(i._id),a=t.url;a.indexOf("=JSONP_CALLBACK&")>-1?a=StringWrapper$6.replace(a,"=JSONP_CALLBACK&","="+s+"&"):a.lastIndexOf("=JSONP_CALLBACK")===a.length-"=JSONP_CALLBACK".length&&(a=a.substring(0,a.length-"=JSONP_CALLBACK".length)+("="+s));var u=i._script=r.build(a),c=function(t){if(i.readyState!==ReadyState.Cancelled){if(i.readyState=ReadyState.Done,r.cleanup(u),!i._finished){var o=new ResponseOptions({body:JSONP_ERR_NO_CALLBACK,type:ResponseType.Error,url:a});return isPresent$6(n)&&(o=n.merge(o)),void e.error(new Response(o))}var s=new ResponseOptions({body:i._responseData,url:a});isPresent$6(i.baseResponseOptions)&&(s=i.baseResponseOptions.merge(s)),e.next(new Response(s)),e.complete()}},l=function(t){if(i.readyState!==ReadyState.Cancelled){i.readyState=ReadyState.Done,r.cleanup(u);var o=new ResponseOptions({body:t.message,type:ResponseType.Error});isPresent$6(n)&&(o=n.merge(o)),e.error(new Response(o))}};return u.addEventListener("load",c),u.addEventListener("error",l),r.send(u),function(){i.readyState=ReadyState.Cancelled,u.removeEventListener("load",c),u.removeEventListener("error",l),isPresent$6(u)&&i._dom.cleanup(u)}})}return __extends$70(t,e),t.prototype.finished=function(e){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==ReadyState.Cancelled&&(this._responseData=e)},t}(JSONPConnection),JSONPBackend=function(e){function t(){e.apply(this,arguments)}return __extends$70(t,e),t}(ConnectionBackend),JSONPBackend_=function(e){function t(t,r){e.call(this),this._browserJSONP=t,this._baseResponseOptions=r}return __extends$70(t,e),t.prototype.createConnection=function(e){return new JSONPConnection_(e,this._browserJSONP,this._baseResponseOptions)},t.decorators=[{type:Injectable}],t.ctorParameters=[{type:BrowserJsonp},{type:ResponseOptions}],t}(JSONPBackend),XSSI_PREFIX=/^\)\]\}',?\n/,XHRConnection=function(){function e(e,t,r){var n=this;this.request=e,this.response=new Observable(function(i){var o=t.build();o.open(RequestMethod[e.method].toUpperCase(),e.url),isPresent$6(e.withCredentials)&&(o.withCredentials=e.withCredentials);var s=function(){var e=isPresent$6(o.response)?o.response:o.responseText;isString$6(e)&&(e=e.replace(XSSI_PREFIX,""));var t=Headers.fromResponseHeaderString(o.getAllResponseHeaders()),n=getResponseURL(o),s=1223===o.status?204:o.status;0===s&&(s=e?200:0);var a=o.statusText||"OK",u=new ResponseOptions({body:e,status:s,headers:t,statusText:a,url:n});isPresent$6(r)&&(u=r.merge(u));var c=new Response(u);return c.ok=isSuccess(s),c.ok?(i.next(c),void i.complete()):void i.error(c)},a=function(e){var t=new ResponseOptions({body:e,type:ResponseType.Error,status:o.status,statusText:o.statusText});isPresent$6(r)&&(t=r.merge(t)),i.error(new Response(t))};if(n.setDetectedContentType(e,o),isPresent$6(e.headers)&&e.headers.forEach(function(e,t){return o.setRequestHeader(t,e.join(","))}),isPresent$6(e.responseType)&&isPresent$6(o.responseType))switch(e.responseType){case ResponseContentType.ArrayBuffer:o.responseType="arraybuffer";break;case ResponseContentType.Json:o.responseType="json";break;case ResponseContentType.Text:o.responseType="text";break;case ResponseContentType.Blob:o.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return o.addEventListener("load",s),o.addEventListener("error",a),o.send(n.request.getBody()),function(){o.removeEventListener("load",s),o.removeEventListener("error",a),o.abort()}})}return e.prototype.setDetectedContentType=function(e,t){if(!isPresent$6(e.headers)||!isPresent$6(e.headers.get("Content-Type")))switch(e.contentType){case ContentType.NONE:break;case ContentType.JSON:t.setRequestHeader("content-type","application/json");break;case ContentType.FORM:t.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case ContentType.TEXT:t.setRequestHeader("content-type","text/plain");break;case ContentType.BLOB:var r=e.blob();r.type&&t.setRequestHeader("content-type",r.type)}},e}(),CookieXSRFStrategy=function(){function e(e,t){void 0===e&&(e="XSRF-TOKEN"),void 0===t&&(t="X-XSRF-TOKEN"),this._cookieName=e,this._headerName=t}return e.prototype.configureRequest=function(e){var t=__platform_browser_private__.getDOM().getCookie(this._cookieName);t&&!e.headers.has(this._headerName)&&e.headers.set(this._headerName,t)},e}(),XHRBackend=function(){function e(e,t,r){this._browserXHR=e,this._baseResponseOptions=t,this._xsrfStrategy=r}return e.prototype.createConnection=function(e){return this._xsrfStrategy.configureRequest(e),new XHRConnection(e,this._browserXHR,this._baseResponseOptions)},e.decorators=[{type:Injectable}],e.ctorParameters=[{type:BrowserXhr},{type:ResponseOptions},{type:XSRFStrategy}],e}(),__extends$73=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},RequestOptions=function(){function e(e){var t=void 0===e?{}:e,r=t.method,n=t.headers,i=t.body,o=t.url,s=t.search,a=t.withCredentials,u=t.responseType;this.method=isPresent$6(r)?normalizeMethodName(r):null,this.headers=isPresent$6(n)?n:null,this.body=isPresent$6(i)?i:null,this.url=isPresent$6(o)?o:null,this.search=isPresent$6(s)?isString$6(s)?new URLSearchParams(s):s:null,this.withCredentials=isPresent$6(a)?a:null,this.responseType=isPresent$6(u)?u:null}return e.prototype.merge=function(t){return new e({method:isPresent$6(t)&&isPresent$6(t.method)?t.method:this.method,headers:isPresent$6(t)&&isPresent$6(t.headers)?t.headers:this.headers,body:isPresent$6(t)&&isPresent$6(t.body)?t.body:this.body,url:isPresent$6(t)&&isPresent$6(t.url)?t.url:this.url,search:isPresent$6(t)&&isPresent$6(t.search)?isString$6(t.search)?new URLSearchParams(t.search):t.search.clone():this.search,withCredentials:isPresent$6(t)&&isPresent$6(t.withCredentials)?t.withCredentials:this.withCredentials,responseType:isPresent$6(t)&&isPresent$6(t.responseType)?t.responseType:this.responseType})},e}(),BaseRequestOptions=function(e){function t(){e.call(this,{method:RequestMethod.Get,headers:new Headers})}return __extends$73(t,e),t.decorators=[{type:Injectable}],t.ctorParameters=[],t}(RequestOptions),__extends$75=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},Request=function(e){function t(t){e.call(this);var r=t.url;if(this.url=t.url,isPresent$6(t.search)){var n=t.search.toString();if(n.length>0){var i="?";StringWrapper$6.contains(this.url,"?")&&(i="&"==this.url[this.url.length-1]?"":"&"),this.url=r+i+n}}this._body=t.body,this.method=normalizeMethodName(t.method),this.headers=new Headers(t.headers),this.contentType=this.detectContentType(),this.withCredentials=t.withCredentials,this.responseType=t.responseType}return __extends$75(t,e),t.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return ContentType.JSON;case"application/x-www-form-urlencoded":return ContentType.FORM;case"multipart/form-data":return ContentType.FORM_DATA;case"text/plain":case"text/html":return ContentType.TEXT;case"application/octet-stream":return ContentType.BLOB;default:return this.detectContentTypeFromBody()}},t.prototype.detectContentTypeFromBody=function(){return null==this._body?ContentType.NONE:this._body instanceof URLSearchParams?ContentType.FORM:this._body instanceof FormData?ContentType.FORM_DATA:this._body instanceof Blob$1?ContentType.BLOB:this._body instanceof ArrayBuffer$1?ContentType.ARRAY_BUFFER:this._body&&"object"==typeof this._body?ContentType.JSON:ContentType.TEXT},t.prototype.getBody=function(){switch(this.contentType){case ContentType.JSON:return this.text();case ContentType.FORM:return this.text();case ContentType.FORM_DATA:return this._body;case ContentType.TEXT:return this.text();case ContentType.BLOB:return this.blob();case ContentType.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},t}(Body),noop$7=function(){},w="object"==typeof window?window:noop$7,FormData=w.FormData||noop$7,Blob$1=w.Blob||noop$7,ArrayBuffer$1=w.ArrayBuffer||noop$7,__extends$74=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},Http=function(){function e(e,t){this._backend=e,this._defaultOptions=t}return e.prototype.request=function(e,t){var r;if(isString$6(e))r=httpRequest(this._backend,new Request(mergeOptions(this._defaultOptions,t,RequestMethod.Get,e)));else{if(!(e instanceof Request))throw new Error("First argument must be a url string or Request instance.");r=httpRequest(this._backend,e)}return r},e.prototype.get=function(e,t){return httpRequest(this._backend,new Request(mergeOptions(this._defaultOptions,t,RequestMethod.Get,e)))},e.prototype.post=function(e,t,r){return httpRequest(this._backend,new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({body:t})),r,RequestMethod.Post,e)))},e.prototype.put=function(e,t,r){return httpRequest(this._backend,new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({body:t})),r,RequestMethod.Put,e)))},e.prototype.delete=function(e,t){return httpRequest(this._backend,new Request(mergeOptions(this._defaultOptions,t,RequestMethod.Delete,e)))},e.prototype.patch=function(e,t,r){return httpRequest(this._backend,new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({body:t})),r,RequestMethod.Patch,e)))},e.prototype.head=function(e,t){return httpRequest(this._backend,new Request(mergeOptions(this._defaultOptions,t,RequestMethod.Head,e)))},e.prototype.options=function(e,t){return httpRequest(this._backend,new Request(mergeOptions(this._defaultOptions,t,RequestMethod.Options,e)))},e.decorators=[{type:Injectable}],e.ctorParameters=[{type:ConnectionBackend},{type:RequestOptions}],e}(),Jsonp=function(e){function t(t,r){e.call(this,t,r)}return __extends$74(t,e),t.prototype.request=function(e,t){var r;if(isString$6(e)&&(e=new Request(mergeOptions(this._defaultOptions,t,RequestMethod.Get,e))),!(e instanceof Request))throw new Error("First argument must be a url string or Request instance.");if(e.method!==RequestMethod.Get)throw new Error("JSONP requests must use GET request method.");return r=httpRequest(this._backend,e)},t.decorators=[{type:Injectable}],t.ctorParameters=[{type:ConnectionBackend},{type:RequestOptions}],t}(Http),HttpModule=function(){function e(){}return e.decorators=[{type:NgModule,args:[{providers:[{provide:Http,useFactory:httpFactory,deps:[XHRBackend,RequestOptions]},BrowserXhr,{provide:RequestOptions,useClass:BaseRequestOptions},{provide:ResponseOptions,useClass:BaseResponseOptions},XHRBackend,{provide:XSRFStrategy,useFactory:_createDefaultCookieXSRFStrategy}]}]}],e.ctorParameters=[],e}(),__decorate$9=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$9=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},HttpSample=function(){function e(e){this.postResponse=new Person,this.country=new Subject,this.http=e,this.loadFriendsSuccessFully(),this.loadFriendsWithError(),this.loadContractByCustomer(),this.loadFriendsAndCustomers(),this.loadFriendsAsPromise(),this.getCapitol()}return e.prototype.getCapitol=function(){var e=this;this.country.switchMap(function(t){return e.http.get("./country-info/"+t+".json")}).map(function(e){return e.json()}).subscribe(function(t){return e.capitol=t.capitol})},e.prototype.isActive=function(e){return this.activeCountry===e},e.prototype.loadFriendsAsPromise=function(){var e=this;this.friendsAsPromise={},this.http.get("./friends.json").toPromise().then(function(t){e.friendsAsPromise.friends=t.json().friends})},e.prototype.loadFriendsAndCustomers=function(){var e=this;this.combined={friends:[],customer:{}},Observable.forkJoin(this.http.get("./friends.json").map(function(e){return e.json()}),this.http.get("./customer.json").map(function(e){return e.json()})).subscribe(function(t){return e.combined={friends:t[0].friends,customer:t[1]}})},e.prototype.loadFriendsSuccessFully=function(){var e=this;this.result={friends:[]},this.http.get("./friends.json").map(function(e){return e.json()}).subscribe(function(t){return e.result=t})},e.prototype.loadContractByCustomer=function(){var e=this;this.http.get("./customer.json").map(function(t){return e.customer=t.json(),e.customer}).flatMap(function(t){return e.http.get(t.contractUrl)}).map(function(e){return e.json()}).subscribe(function(t){return e.contract=t})},e.prototype.loadFriendsWithError=function(){var e=this;this.result={friends:[]},this.http.get("./friends2.json").map(function(e){return e.json()}).subscribe(function(t){return e.result=t},function(t){return e.error=t})},e.prototype.postData=function(){var e=this,t=new Headers;t.append("Content-Type","application/json"),this.http.post("http://www.syntaxsuccess.com/poc-post/",{firstName:"Joe",lastName:"Smith"},{headers:t}).map(function(e){return e.json()}).subscribe(function(t){return e.postResponse=t})},e}();HttpSample=__decorate$9([Component({templateUrl:"./components/http/http.html"}),__metadata$9("design:paramtypes",[Http])],HttpSample);var Person=function(){function e(){}return e}(),KeyMap=function(){function e(){}return e.getNavigationDirection=function(e){var t=new KeyDirection;return 38===e&&(t.up=!0),40===e&&(t.down=!0),39===e&&(t.right=!0),9===e&&(t.tab=!0),37===e&&(t.left=!0),t},e}(),KeyDirection=function(){function e(){}return e}(),Column$1=function(){function e(e,t){this.columnIndex=e,this.rowIndex=t,this.cellValue=""}return e}(),Row=function(){function e(e,t){this.rowIndex=e,this.columnCount=t,this.columns=[];for(var r=0;r<this.columnCount;r++)this.columns.push(new Column$1(r,this.rowIndex))}return e}(),SpreadsheetModel=function(){function e(e,t){this.rowCount=e,this.columnCount=t,this.rows=[],this.start=0,this.end=e;for(var r=0;r<this.rowCount;r++)this.rows.push(new Row(r,this.columnCount));this.current=this.rows[0].columns[0]}return e.prototype.selectColumn=function(e){this.current=e},e.prototype.navigate=function(e){var t=KeyMap.getNavigationDirection(e);if(t.down&&(this.ensureRow(),this.current=this.rows[this.current.rowIndex+1].columns[this.current.columnIndex],this.adjustRowRangeDownward()),t.up){if(0===this.current.rowIndex)return;this.current=this.rows[this.current.rowIndex-1].columns[this.current.columnIndex],this.adjustRowRangeUpward()}if(t.left){if(0===this.current.columnIndex)return;this.current=this.rows[this.current.rowIndex].columns[this.current.columnIndex-1]}if(t.right){if(this.current.columnIndex===this.columnCount-1)return;this.current=this.rows[this.current.rowIndex].columns[this.current.columnIndex+1]}t.tab&&(this.current.columnIndex===this.columnCount-1?(this.ensureRow(),this.current=this.rows[this.current.rowIndex+1].columns[0],this.adjustRowRangeDownward()):this.current=this.rows[this.current.rowIndex].columns[this.current.columnIndex+1])},e.prototype.adjustRowRangeUpward=function(){this.current.rowIndex<this.start&&this.shiftRowsBy(-1)},e.prototype.adjustRowRangeDownward=function(){this.current.rowIndex===this.end&&this.shiftRowsBy(1)},e.prototype.shiftRowsBy=function(e){this.start=this.start+e,this.end=this.end+e},e.prototype.ensureRow=function(){this.current.rowIndex+1>=this.rows.length&&this.rows.push(new Row(this.current.rowIndex+1,this.columnCount))},e}(),HeaderRowService=function(){function e(){}return e.createHeader=function(e){for(var t="abcdefghijklmnopqrstuvwxyz",r=1,n=[],i="",o=0,s=0,a=0;a<e;a++)s===t.length&&(i+=t.substr(o,1),s=0),n.push(i+t.substr(s,r)),s++;return n},e}(),__decorate$10=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$10=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Spreadsheet=function(){function e(){this.header=[],this.visibleRows=[],this.model=new SpreadsheetModel(10,4),this.header=HeaderRowService.createHeader(this.model.rows[0].columns.length),this.visibleRows=this.getVisibleRows()}return e.prototype.getHeader=function(){return HeaderRowService.createHeader(this.model.rows[0].columns.length)},e.prototype.navigate=function(e){this.model.navigate(e.keyCode),this.visibleRows=this.getVisibleRows()},e.prototype.ngAfterViewChecked=function(){var e=document.getElementById(this.model.current.rowIndex+"-"+this.model.current.columnIndex);e.focus()},e.prototype.getVisibleRows=function(){var e=this;return this.model.rows.filter(function(t){return t.rowIndex>=e.model.start&&t.rowIndex<e.model.end})},e.prototype.getActive=function(e){if(e===this.model.current)return"active-cell"},e}();__decorate$10([Input(),__metadata$10("design:type",Number)],Spreadsheet.prototype,"rows",void 0),__decorate$10([Input(),__metadata$10("design:type",Number)],Spreadsheet.prototype,"columns",void 0),Spreadsheet=__decorate$10([Component({selector:"spreadsheet",templateUrl:"./components/spreadsheet/spreadsheet.html"}),__metadata$10("design:paramtypes",[])],Spreadsheet);var __decorate$11=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$11=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Algorithms=function(){function e(){}return e}();Algorithms=__decorate$11([Component({selector:"algorithms",templateUrl:"./components/algorithms/algorithms.html"}),__metadata$11("design:paramtypes",[])],Algorithms);var CountryViewModelFactory=function(){function e(){}return e.prototype.createModel=function(){var e=[],t=new CountryModel("North America");t.visible=!0;var r=new CountryModel("USA");r.children.push(new CountryModel("New York")),r.children.push(new CountryModel("Texas")),r.children.push(new CountryModel("Oregon")),r.children.push(new CountryModel("South Dakota")),t.children.push(r),t.children.push(new CountryModel("Canada")),t.children.push(new CountryModel("Mexico"));var n=new CountryModel("Europe");return n.children.push(new CountryModel("Norway")),n.children.push(new CountryModel("Sweden")),n.children.push(new CountryModel("France")),n.children.push(new CountryModel("Germany")),n.visible=!0,e.push(t),e.push(n),e},e}(),CountryModel=function(){function e(e){this.visible=!0,this.children=[],this.text=e,this.icon=this.getIcon()}return e.prototype.getIcon=function(){return this.children.length>0?this.children[0].visible===!1?"+ ":"- ":null},e}(),React=__React,AppDispatcher=new Dispatcher;AppDispatcher.handleViewAction=function(e){this.dispatch({source:"VIEW_ACTION",action:e})},AppDispatcher.register(function(e){switch(e.eventName){case"expand-collapse":NodeStore.toggleNode(e.node)}return!0});var NodeStore=_.extend({},EventEmitter.prototype,{_nodes:(new CountryViewModelFactory).createModel(),getNodes:function(){return this._nodes},toggleNode:function(e){for(var t=0;t<e.children.length;t++)e.children[t].visible=!e.children[t].visible;this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}}),TreeNode$1=React.createClass({toggle:function(e){AppDispatcher.dispatch({eventName:"expand-collapse",node:this.props.node})},render:function(){var e=this.props.children.map(function(e){if(e.visible)return React.createElement(TreeNode$1,{node:e,children:e.children})});return React.createElement("li",null,React.createElement("span",{onClick:this.toggle},this.props.node.getIcon()),React.createElement("span",null,this.props.node.text),React.createElement("ul",null,e))}}),TreeView=React.createClass({getInitialState:function(){return{countries:NodeStore.getNodes()}},onChange:function(){this.setState({countries:NodeStore.getNodes()})},componentDidMount:function(){NodeStore.addChangeListener(this.onChange)},componentWillUnmount:function(){NodeStore.removeChangeListener(this.onChange)},render:function(){var e=this.state.countries,t=e.map(function(e){return React.createElement(TreeNode$1,{node:e,children:e.children})});return React.createElement("div",null,React.createElement("h2",null,this.props.title),React.createElement("ul",null,t))}}),ReactTreeView=function(){function e(){}return e.initialize=function(e){React.render(React.createElement(TreeView,{title:e}),document.getElementById("react-tree-view"))},e}(),__decorate$12=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$12=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Angular2Host=function(){function e(){}return e.prototype.ngOnInit=function(){ReactTreeView.initialize("Locations")},e}();Angular2Host=__decorate$12([Component({selector:"angular-2-host",templateUrl:"./components/react-integration/angular-2-host.html"}),__metadata$12("design:paramtypes",[])],Angular2Host);var __decorate$13=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$13=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},JqueryIntegration=function(){function e(e){this.elementRef=e}return e.prototype.ngOnInit=function(){jQuery(this.elementRef.nativeElement).find(".moving-box").draggable({containment:"#draggable-parent"})},e}();JqueryIntegration=__decorate$13([Component({selector:"jquery-integration",templateUrl:"./components/jquery-integration/jquery-integration.html"}),__param(0,Inject(ElementRef)),__metadata$13("design:paramtypes",[ElementRef])],JqueryIntegration);var __decorate$14=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$14=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},InputControls=function(){function e(){this.javascript=!1,this.angular=!1,this.csharp=!1,this.name="Two way bound"}return e}();InputControls=__decorate$14([Component({selector:"input-controls",
template:'\n            <h1>Input Controls</h1>\n            <div class="input-controls">\n                <h4>"Two way bindings"</h4>\n\n                <input id="name" [(ngModel)]="name" />\n\n                <div>Current Value: {{name}}</div>\n            </div>\n\n            <div class="input-controls">\n                <h4>Select a gender</h4>\n                <div>\n                    <label>\n                        <input #male name="gender" type="radio" value="Male" (click)="gender = male.value" />\n                        Male\n                    </label>\n                </div>\n                <div>\n                    <label>\n                        <input #female name="gender" type="radio"  value="Female" (click)="gender = female.value" />\n                        Female\n                    </label>\n                </div>\n                <div>\n                    Selected gender is <strong>{{gender}}</strong>\n                </div>\n            </div>\n\n            <div class="input-controls">\n                <h4>Select your programming skills</h4>\n                <div>\n                    <label>\n                        <input #angularcb type="checkbox" (change)="angular = angularcb.checked" />\n                        Angular\n                    </label>\n                </div>\n                <div>\n                    <label>\n                        <input #javascriptcb type="checkbox" (change)="javascript = javascriptcb.checked" />\n                        JavaScript\n                    </label>\n                </div>\n                <div>\n                    <label>\n                        <input #csharpcb type="checkbox" (change)="csharp = csharpcb.checked" />\n                        C#\n                    </label>\n                </div>\n            </div>\n\n            <div>\n                Selected Skills:\n                <ul>\n                    <li *ngIf="angular">Angular</li>\n                    <li *ngIf="javascript">JavaScript</li>\n                    <li *ngIf="csharp">C#</li>\n                </ul>\n            </div>\n\n            <h4><a href="http://www.syntaxsuccess.com/viewarticle/input-controls-in-angular-2.0">Read more here</a></h4>'}),__metadata$14("design:paramtypes",[])],InputControls);var __decorate$16=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$16=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},AddressBookService=function(){function e(e){console.log("Creating AddressBookService"),this.http=e}return e.prototype.getEntries=function(){return this.http.get("./people.json").map(function(e){return e.json()})},e}();AddressBookService=__decorate$16([Injectable(),__metadata$16("design:paramtypes",[Http])],AddressBookService);var AddressBookTitleService=function(){function e(){this.callCount=0,console.log("AddressBookTitleService")}return e.prototype.getTitle=function(){return this.callCount++,"My Address Book"},e}(),__decorate$15=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$15=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},AddressBook=function(){function e(e,t){var r=this;console.log("Creating AddressBook"),this.result={people:[]},e.getEntries().subscribe(function(e){return r.result=e}),this.title=t.getTitle(),console.log(t.callCount)}return e}();AddressBook=__decorate$15([Component({selector:"address-book",templateUrl:"./components/dependency-injection/address-book.html",providers:[AddressBookService]}),__metadata$15("design:paramtypes",[AddressBookService,AddressBookTitleService])],AddressBook);var __decorate$17=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$17=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},AddressForm=function(){function e(){this.payLoad=null;var e={};e.firstName=new FormControl("",Validators.required),e.streetAddress=new FormControl("",Validators.required),e.zip=new FormControl("",zipValidator),e.type=new FormControl("home"),this.form=new FormGroup(e)}return e.prototype.onSubmit=function(){this.payLoad=JSON.stringify(this.form.value)},e}();AddressForm=__decorate$17([Component({selector:"address-form",templateUrl:"./components/address-form/address-form.html"}),__metadata$17("design:paramtypes",[])],AddressForm);var EdgeService=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getCoordinates=function(){return this.asObservable().bufferCount(2).map(function(e){return{first:e[0],second:e[1]}})},t}(Subject),__decorate$19=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$19=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Edge=function(){function e(){this.style={}}return e.prototype.setCoordinates=function(e,t){this.x1=e.x,this.y1=e.y,this.x2=t.x,this.y2=t.y,this.drawLine(this.x1,this.y1,this.x2,this.y2)},e.prototype.drawLine=function(e,t,r,n){var i=Math.sqrt((e-r)*(e-r)+(t-n)*(t-n)),o=180*Math.atan2(n-t,r-e)/Math.PI,s="rotate("+o+"deg)";this.style={position:"absolute",transform:s,width:i}},e}();Edge=__decorate$19([Component({selector:"edge",template:'<div class="edge" [ngStyle]="style"></div>'}),__metadata$19("design:paramtypes",[])],Edge);var __decorate$18=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$18=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Graph=function(){function e(e,t){this.componentResolver=e,this.edgeService=t}return e.prototype.ngOnInit=function(){var e=this;this.edgeService.getCoordinates().subscribe(function(t){var r=e.componentResolver.resolveComponentFactory(Edge),n=t.first.viewContainer.createComponent(r);n.instance.setCoordinates(t.first,t.second)})},e}();Graph=__decorate$18([Component({selector:"graph",templateUrl:"./components/algorithms/graph/graph.html",providers:[EdgeService]}),__metadata$18("design:paramtypes",[ComponentFactoryResolver,EdgeService])],Graph);var CustomerEventEmitter=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t}(Subject),PubSubService=function(){function e(){this.Stream=new CustomerEventEmitter}return e}(),__decorate$20=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$20=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},PubSub=function(){function e(){}return e}();PubSub=__decorate$20([Component({selector:"pub-sub",templateUrl:"./components/pub-sub/pub-sub.html",providers:[PubSubService]}),__metadata$20("design:paramtypes",[])],PubSub);var AsyncSubject=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];e.apply(this,t),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return __extends(t,e),t.prototype._subscribe=function(t){return this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),Subscription.EMPTY):this.hasError?(t.error(this.thrownError),Subscription.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(Subject),BoundCallbackObservable=function(e){function t(t,r,n,i){e.call(this),this.callbackFunc=t,this.selector=r,this.args=n,this.scheduler=i}return __extends(t,e),t.create=function(e,r,n){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new t(e,r,i,n)}},t.prototype._subscribe=function(e){var r=this.callbackFunc,n=this.args,i=this.scheduler,o=this.subject;if(i)return i.schedule(t.dispatch,0,{source:this,subscriber:e});if(!o){o=this.subject=new AsyncSubject;var s=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=e.source,i=n.selector,o=n.subject;if(i){var s=tryCatch(i).apply(this,t);s===errorObject?o.error(errorObject.e):(o.next(s),o.complete())}else o.next(1===t.length?t[0]:t),o.complete()};s.source=this;var a=tryCatch(r).apply(this,n.concat(s));a===errorObject&&o.error(errorObject.e)}return o.subscribe(e)},t.dispatch=function(e){var t=this,r=e.source,n=e.subscriber,i=r.callbackFunc,o=r.args,s=r.scheduler,a=r.subject;if(!a){a=r.subject=new AsyncSubject;var u=function e(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];var i=e.source,o=i.selector,a=i.subject;if(o){var u=tryCatch(o).apply(this,r);u===errorObject?t.add(s.schedule(dispatchError$1,0,{err:errorObject.e,subject:a})):t.add(s.schedule(dispatchNext$1,0,{value:u,subject:a}))}else{var c=1===r.length?r[0]:r;t.add(s.schedule(dispatchNext$1,0,{value:c,subject:a}))}};u.source=r;var c=tryCatch(i).apply(this,o.concat(u));c===errorObject&&a.error(errorObject.e)}t.add(a.subscribe(n))},t}(Observable),bindCallback=BoundCallbackObservable.create;Observable.bindCallback=bindCallback;var BoundNodeCallbackObservable=function(e){function t(t,r,n,i){e.call(this),this.callbackFunc=t,this.selector=r,this.args=n,this.scheduler=i}return __extends(t,e),t.create=function(e,r,n){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new t(e,r,i,n)}},t.prototype._subscribe=function(e){var t=this.callbackFunc,r=this.args,n=this.scheduler,i=this.subject;if(n)return n.schedule(dispatch,0,{source:this,subscriber:e});if(!i){i=this.subject=new AsyncSubject;var o=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=e.source,i=n.selector,o=n.subject,s=t.shift();if(s)o.error(s);else if(i){var a=tryCatch(i).apply(this,t);a===errorObject?o.error(errorObject.e):(o.next(a),o.complete())}else o.next(1===t.length?t[0]:t),o.complete()};o.source=this;var s=tryCatch(t).apply(this,r.concat(o));s===errorObject&&i.error(errorObject.e)}return i.subscribe(e)},t}(Observable),bindNodeCallback=BoundNodeCallbackObservable.create;Observable.bindNodeCallback=bindNodeCallback;var none={},CombineLatestOperator=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t._subscribe(new CombineLatestSubscriber(e,this.project))},e}(),CombineLatestSubscriber=function(e){function t(t,r){e.call(this,t),this.project=r,this.active=0,this.values=[],this.observables=[]}return __extends(t,e),t.prototype._next=function(e){this.values.push(none),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var r=0;r<t;r++){var n=e[r];this.add(subscribeToResult(this,n,n,r))}}},t.prototype.notifyComplete=function(e){0===(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.values,s=o[r],a=this.toRespond?s===none?--this.toRespond:this.toRespond:0;o[r]=t,0===a&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(OuterSubscriber);Observable.combineLatest=combineLatest;var concat$1=concatStatic;Observable.concat=concat$1;var DeferObservable=function(e){function t(t){e.call(this),this.observableFactory=t}return __extends(t,e),t.create=function(e){return new t(e)},t.prototype._subscribe=function(e){return new DeferSubscriber(e,this.observableFactory)},t}(Observable),DeferSubscriber=function(e){function t(t,r){e.call(this,t),this.factory=r,this.tryDefer()}return __extends(t,e),t.prototype.tryDefer=function(){try{this._callFactory()}catch(e){this._error(e)}},t.prototype._callFactory=function(){var e=this.factory();e&&this.add(subscribeToResult(this,e))},t}(OuterSubscriber),defer=DeferObservable.create;Observable.defer=defer;var empty$1=EmptyObservable.create;Observable.empty=empty$1;var ForkJoinObservable=function(e){function t(t,r){e.call(this),this.sources=t,this.resultSelector=r}return __extends(t,e),t.create=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];if(null===e||0===arguments.length)return new EmptyObservable;var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&isArray$1(e[0])&&(e=e[0]),0===e.length?new EmptyObservable:new t(e,n)},t.prototype._subscribe=function(e){return new ForkJoinSubscriber(e,this.sources,this.resultSelector)},t}(Observable),ForkJoinSubscriber=function(e){function t(t,r,n){e.call(this,t),this.sources=r,this.resultSelector=n,this.completed=0,this.haveValues=0;var i=r.length;this.total=i,this.values=new Array(i);for(var o=0;o<i;o++){var s=r[o],a=subscribeToResult(this,s,null,o);a&&(a.outerIndex=o,this.add(a))}}return __extends(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.values[r]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,r=this,n=r.haveValues,i=r.resultSelector,o=r.values,s=o.length;if(!e._hasValue)return void t.complete();if(this.completed++,this.completed===s){if(n===s){var a=i?i.apply(this,o):o;t.next(a)}t.complete()}},t}(OuterSubscriber),forkJoin=ForkJoinObservable.create;Observable.forkJoin=forkJoin,Observable.from=staticFrom;var FromEventObservable=function(e){function t(t,r,n,i){e.call(this),this.sourceObj=t,this.eventName=r,this.selector=n,this.options=i}return __extends(t,e),t.create=function(e,r,n,i){return isFunction$1(n)&&(i=n,n=void 0),new t(e,r,i,n)},t.setupSubscription=function(e,r,n,i,o){var s;if(isNodeList(e)||isHTMLCollection(e))for(var a=0,u=e.length;a<u;a++)t.setupSubscription(e[a],r,n,i,o);else if(isEventTarget(e)){var c=e;e.addEventListener(r,n,o),s=function(){return c.removeEventListener(r,n)}}else if(isJQueryStyleEventEmitter(e)){var l=e;e.on(r,n),s=function(){return l.off(r,n)}}else if(isNodeStyleEventEmmitter(e)){var p=e;e.addListener(r,n),s=function(){return p.removeListener(r,n)}}i.add(new Subscription(s))},t.prototype._subscribe=function(e){var r=this.sourceObj,n=this.eventName,i=this.options,o=this.selector,s=o?function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=tryCatch(o).apply(void 0,t);n===errorObject?e.error(errorObject.e):e.next(n)}:function(t){return e.next(t)};t.setupSubscription(r,n,s,e,i)},t}(Observable),fromEvent=FromEventObservable.create;Observable.fromEvent=fromEvent;var FromEventPatternObservable=function(e){function t(t,r,n){e.call(this),this.addHandler=t,this.removeHandler=r,this.selector=n}return __extends(t,e),t.create=function(e,r,n){return new t(e,r,n)},t.prototype._subscribe=function(e){var t=this,r=this.removeHandler,n=this.selector?function(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];t._callSelector(e,r)}:function(t){e.next(t)};this._callAddHandler(n,e),e.add(new Subscription(function(){r(n)}))},t.prototype._callSelector=function(e,t){try{var r=this.selector.apply(this,t);e.next(r)}catch(t){e.error(t)}},t.prototype._callAddHandler=function(e,t){try{this.addHandler(e)}catch(e){t.error(e)}},t}(Observable),fromEventPattern=FromEventPatternObservable.create;Observable.fromEventPattern=fromEventPattern,Observable.fromPromise=staticFromPromise;var selfSelector=function(e){return e},GenerateObservable=function(e){function t(t,r,n,i,o){e.call(this),this.initialState=t,this.condition=r,this.iterate=n,this.resultSelector=i,this.scheduler=o}return __extends(t,e),t.create=function(e,r,n,i,o){return 1==arguments.length?new t(e.initialState,e.condition,e.iterate,e.resultSelector||selfSelector,e.scheduler):void 0===i||isScheduler(i)?new t(e,r,n,selfSelector,i):new t(e,r,n,i,o)},t.prototype._subscribe=function(e){var r=this.initialState;if(this.scheduler)return this.scheduler.schedule(t.dispatch,0,{subscriber:e,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:r});for(var n=this,i=n.condition,o=n.resultSelector,s=n.iterate;;){if(i){var a=void 0;try{a=i(r)}catch(t){return void e.error(t)}if(!a){e.complete();break}}var u=void 0;try{u=o(r)}catch(t){return void e.error(t)}if(e.next(u),e.closed)break;try{r=s(r)}catch(t){return void e.error(t)}}},t.dispatch=function(e){var t=e.subscriber,r=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(r){var n=void 0;try{n=r(e.state)}catch(e){return void t.error(e)}if(!n)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}},t}(Observable);Observable.generate=GenerateObservable.create;var IfObservable=function(e){function t(t,r,n){e.call(this),this.condition=t,this.thenSource=r,this.elseSource=n}return __extends(t,e),t.create=function(e,r,n){return new t(e,r,n)},t.prototype._subscribe=function(e){var t=this,r=t.condition,n=t.thenSource,i=t.elseSource;return new IfSubscriber(e,r,n,i)},t}(Observable),IfSubscriber=function(e){function t(t,r,n,i){e.call(this,t),this.condition=r,this.thenSource=n,this.elseSource=i,this.tryIf()}return __extends(t,e),t.prototype.tryIf=function(){var e,t=this,r=t.condition,n=t.thenSource,i=t.elseSource;try{e=r();var o=e?n:i;o?this.add(subscribeToResult(this,o)):this._complete()}catch(e){this._error(e)}},t}(OuterSubscriber),_if=IfObservable.create;Observable.if=_if;var Action=function(e){function t(t,r){e.call(this)}return __extends(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(Subscription),AsyncAction=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r,this.pending=!1}return __extends(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),root.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){return void 0===r&&(r=0),null!==r&&this.delay===r?t:root.clearInterval(t)&&void 0||void 0},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);return r?r:void(this.pending===!1&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null)))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.delay=null,this.state=null,this.pending=!1,this.scheduler=null,n!==-1&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null))},t}(Action),Scheduler$1=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e}();Scheduler$1.now=Date.now?Date.now:function(){return+new Date};var AsyncScheduler=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];e.apply(this,t),this.actions=[],this.active=!1,this.scheduled=void 0}return __extends(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)return void t.push(e);var r;this.active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}},t}(Scheduler$1),async=new AsyncScheduler(AsyncAction),IntervalObservable=function(e){function t(t,r){void 0===t&&(t=0),void 0===r&&(r=async),e.call(this),this.period=t,this.scheduler=r,(!isNumeric(t)||t<0)&&(this.period=0),r&&"function"==typeof r.schedule||(this.scheduler=async)}return __extends(t,e),t.create=function(e,r){return void 0===e&&(e=0),void 0===r&&(r=async),new t(e,r)},t.dispatch=function(e){var t=e.index,r=e.subscriber,n=e.period;r.next(t),r.closed||(e.index+=1,this.schedule(e,n))},t.prototype._subscribe=function(e){var r=0,n=this.period,i=this.scheduler;e.add(i.schedule(t.dispatch,n,{index:r,subscriber:e,period:n}))},t}(Observable),interval=IntervalObservable.create;Observable.interval=interval;var merge$2=mergeStatic;Observable.merge=merge$2;var RaceOperator=function(){function e(){}return e.prototype.call=function(e,t){return t._subscribe(new RaceSubscriber(e))},e}(),RaceSubscriber=function(e){function t(t){e.call(this,t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return __extends(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var r=0;r<t;r++){var n=e[r],i=subscribeToResult(this,n,n,r);this.subscriptions&&(this.subscriptions.push(i),this.add(i))}this.observables=null}},t.prototype.notifyNext=function(e,t,r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==r){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(t)},t}(OuterSubscriber);Observable.race=raceStatic;var NeverObservable=function(e){function t(){e.call(this)}return __extends(t,e),t.create=function(){return new t},t.prototype._subscribe=function(e){noop$8()},t}(Observable),never=NeverObservable.create;Observable.never=never,Observable.of=staticOf;var OnErrorResumeNextOperator=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t._subscribe(new OnErrorResumeNextSubscriber(e,this.nextSources))},e}(),OnErrorResumeNextSubscriber=function(e){function t(t,r){e.call(this,t),this.destination=t,this.nextSources=r}return __extends(t,e),t.prototype.notifyError=function(e,t){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource()},t.prototype._complete=function(){this.subscribeToNextSource()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();e?this.add(subscribeToResult(this,e)):this.destination.complete()},t}(OuterSubscriber);Observable.onErrorResumeNext=onErrorResumeNextStatic;var PairsObservable=function(e){function t(t,r){e.call(this),this.obj=t,this.scheduler=r,this.keys=Object.keys(t)}return __extends(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t=this,r=t.keys,n=t.scheduler,i=r.length;if(n)return n.schedule(dispatch$1,0,{obj:this.obj,keys:r,length:i,index:0,subscriber:e});for(var o=0;o<i;o++){var s=r[o];e.next([s,this.obj[s]])}e.complete()},t}(Observable),pairs$1=PairsObservable.create;Observable.pairs=pairs$1;var RangeObservable=function(e){function t(t,r,n){e.call(this),this.start=t,this._count=r,this.scheduler=n}return __extends(t,e),t.create=function(e,r,n){return void 0===e&&(e=0),void 0===r&&(r=0),new t(e,r,n)},t.dispatch=function(e){var t=e.start,r=e.index,n=e.count,i=e.subscriber;return r>=n?void i.complete():(i.next(t),void(i.closed||(e.index=r+1,e.start=t+1,this.schedule(e))))},t.prototype._subscribe=function(e){var r=0,n=this.start,i=this._count,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{index:r,count:i,start:n,subscriber:e});for(;;){if(r++>=i){e.complete();break}if(e.next(n++),e.closed)break}},t}(Observable),range=RangeObservable.create;Observable.range=range;var UsingObservable=function(e){function t(t,r){e.call(this),this.resourceFactory=t,this.observableFactory=r}return __extends(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t,r=this,n=r.resourceFactory,i=r.observableFactory;try{return t=n(),new UsingSubscriber(e,t,i)}catch(t){e.error(t)}},t}(Observable),UsingSubscriber=function(e){function t(t,r,n){e.call(this,t),this.resource=r,this.observableFactory=n,t.add(r),this.tryUse()}return __extends(t,e),t.prototype.tryUse=function(){try{var e=this.observableFactory.call(this,this.resource);e&&this.add(subscribeToResult(this,e))}catch(e){this._error(e)}},t}(OuterSubscriber),using=UsingObservable.create;Observable.using=using;var ErrorObservable=function(e){function t(t,r){e.call(this),this.error=t,this.scheduler=r}return __extends(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.error,r=e.subscriber;r.error(t)},t.prototype._subscribe=function(e){var r=this.error,n=this.scheduler;return n?n.schedule(t.dispatch,0,{error:r,subscriber:e}):void e.error(r)},t}(Observable),_throw=ErrorObservable.create;Observable.throw=_throw;var TimerObservable=function(e){function t(t,r,n){void 0===t&&(t=0),e.call(this),this.period=-1,this.dueTime=0,isNumeric(r)?this.period=Number(r)<1&&1||Number(r):isScheduler(r)&&(n=r),isScheduler(n)||(n=async),this.scheduler=n,this.dueTime=isDate$7(t)?+t-this.scheduler.now():t}return __extends(t,e),t.create=function(e,r,n){return void 0===e&&(e=0),new t(e,r,n)},t.dispatch=function(e){var t=e.index,r=e.period,n=e.subscriber,i=this;if(n.next(t),!n.closed){if(r===-1)return n.complete();e.index=t+1,i.schedule(e,r)}},t.prototype._subscribe=function(e){var r=0,n=this,i=n.period,o=n.dueTime,s=n.scheduler;return s.schedule(t.dispatch,o,{index:r,period:i,subscriber:e})},t}(Observable),timer=TimerObservable.create;Observable.timer=timer;var ZipOperator=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t._subscribe(new ZipSubscriber(e,this.project))},e}(),ZipSubscriber=function(e){function t(t,r,n){void 0===n&&(n=Object.create(null)),e.call(this,t),this.index=0,this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=n}return __extends(t,e),t.prototype._next=function(e){var t=this.iterators,r=this.index++;isArray$1(e)?t.push(new StaticArrayIterator(e)):"function"==typeof e[$$iterator]?t.push(new StaticIterator(e[$$iterator]())):t.push(new ZipBufferIterator(this.destination,this,e,r))},t.prototype._complete=function(){var e=this.iterators,t=e.length;this.active=t;for(var r=0;r<t;r++){var n=e[r];n.stillUnsubscribed?this.add(n.subscribe(n,r)):this.active--}},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,r=this.destination,n=0;n<t;n++){var i=e[n];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,s=[],n=0;n<t;n++){var i=e[n],a=i.next();if(i.hasCompleted()&&(o=!0),a.done)return void r.complete();s.push(a.value)}this.project?this._tryProject(s):r.next(s),o&&r.complete()},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Subscriber),StaticIterator=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),StaticArrayIterator=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[$$iterator]=function(){return this},e.prototype.next=function(e){var t=this.index++,r=this.array;return t<this.length?{value:r[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),ZipBufferIterator=function(e){function t(t,r,n,i){e.call(this,t),this.parent=r,this.observable=n,this.index=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return __extends(t,e),t.prototype[$$iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return subscribeToResult(this,this.observable,this,t)},t}(OuterSubscriber),zip=zipStatic;Observable.zip=zip;var AjaxObservable=function(e){function t(t){e.call(this);var r={async:!0,createXHR:function(){return this.crossDomain?getCORSRequest.call(this):getXMLHttpRequest()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)r.url=t;else for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);this.request=r}return __extends(t,e),t.prototype._subscribe=function(e){return new AjaxSubscriber(e,this.request)},t}(Observable);AjaxObservable.create=function(){var e=function(e){return new AjaxObservable(e)};return e.get=ajaxGet,e.post=ajaxPost,e.delete=ajaxDelete,e.put=ajaxPut,e.getJSON=ajaxGetJSON,e}();var AjaxSubscriber=function(e){function t(t,r){e.call(this,t),this.request=r,this.done=!1;var n=r.headers=r.headers||{};r.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in n||root.FormData&&r.body instanceof root.FormData||"undefined"==typeof r.body||(n["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=this.serializeBody(r.body,r.headers["Content-Type"]),this.send()}return __extends(t,e),t.prototype.next=function(e){this.done=!0;var t=this,r=t.xhr,n=t.request,i=t.destination,o=new AjaxResponse(e,r,n);i.next(o)},t.prototype.send=function(){var e=this,t=e.request,r=e.request,n=r.user,i=r.method,o=r.url,s=r.async,a=r.password,u=r.headers,c=r.body,l=t.createXHR,p=tryCatch(l).call(t);if(p===errorObject)this.error(errorObject.e);else{this.xhr=p;var h=void 0;if(h=n?tryCatch(p.open).call(p,i,o,s,n,a):tryCatch(p.open).call(p,i,o,s),h===errorObject)return this.error(errorObject.e),null;p.timeout=t.timeout,p.responseType=t.responseType,this.setHeaders(p,u),this.setupEvents(p,t),c?p.send(c):p.send()}return p},t.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;
if(root.FormData&&e instanceof root.FormData)return e;if(t){var r=t.indexOf(";");r!==-1&&(t=t.substring(0,r))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map(function(t){return encodeURI(t)+"="+encodeURI(e[t])}).join("&");case"application/json":return JSON.stringify(e);default:return e}},t.prototype.setHeaders=function(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setRequestHeader(r,t[r])},t.prototype.setupEvents=function(e,t){var r=t.progressSubscriber;e.ontimeout=function e(t){var r=e.subscriber,n=e.progressSubscriber,i=e.request;n&&n.error(t),r.error(new AjaxTimeoutError(this,i))},e.ontimeout.request=t,e.ontimeout.subscriber=this,e.ontimeout.progressSubscriber=r,e.upload&&"withCredentials"in e&&root.XDomainRequest&&(r&&(e.onprogress=function e(t){var r=e.progressSubscriber;r.next(t)},e.onprogress.progressSubscriber=r),e.onerror=function e(t){var r=e.progressSubscriber,n=e.subscriber,i=e.request;r&&r.error(t),n.error(new AjaxError("ajax error",this,i))},e.onerror.request=t,e.onerror.subscriber=this,e.onerror.progressSubscriber=r),e.onreadystatechange=function e(t){var r=e.subscriber,n=e.progressSubscriber,i=e.request;if(4===this.readyState){var o=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;0===o&&(o=s?200:0),200<=o&&o<300?(n&&n.complete(),r.next(t),r.complete()):(n&&n.error(t),r.error(new AjaxError("ajax error "+o,this,i)))}},e.onreadystatechange.subscriber=this,e.onreadystatechange.progressSubscriber=r,e.onreadystatechange.request=t},t.prototype.unsubscribe=function(){var t=this,r=t.done,n=t.xhr;!r&&n&&4!==n.readyState&&n.abort(),e.prototype.unsubscribe.call(this)},t}(Subscriber),AjaxResponse=function(){function e(e,t,r){switch(this.originalEvent=e,this.xhr=t,this.request=r,this.status=t.status,this.responseType=t.responseType||r.responseType,this.responseType){case"json":"response"in t?this.response=t.responseType?t.response:JSON.parse(t.response||t.responseText||""):this.response=JSON.parse(t.responseText||"");break;case"xml":this.response=t.responseXML;break;case"text":default:this.response="response"in t?t.response:t.responseText}}return e}(),AjaxError=function(e){function t(t,r,n){e.call(this,t),this.message=t,this.xhr=r,this.request=n,this.status=r.status}return __extends(t,e),t}(Error),AjaxTimeoutError=function(e){function t(t,r){e.call(this,"ajax timeout",t,r)}return __extends(t,e),t}(AjaxError),ajax=AjaxObservable.create;Observable.ajax=ajax;var QueueAction=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return __extends(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):t.flush(this)},t}(AsyncAction),QueueScheduler=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t}(AsyncScheduler),queue=new QueueScheduler(QueueAction),ReplaySubject=function(e){function t(t,r,n){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=n,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=r<1?1:r}return __extends(t,e),t.prototype.next=function(t){var r=this._getNow();this._events.push(new ReplayEvent(r,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(t){var r=this._trimBufferThenGetEvents(),n=this.scheduler;n&&t.add(t=new ObserveOnSubscriber(t,n));for(var i=r.length,o=0;o<i&&!t.closed;o++)t.next(r[o].value);return e.prototype._subscribe.call(this,t)},t.prototype._getNow=function(){return(this.scheduler||queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,o=0;o<i&&!(e-n[o].time<r);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&n.splice(0,o),n},t}(Subject),ReplayEvent=function(){function e(e,t){this.time=e,this.value=t}return e}(),Object$1=root.Object;"function"!=typeof Object$1.assign&&!function(){Object$1.assign=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(void 0===e||null===e)throw new TypeError("cannot convert undefined or null to object");for(var n=Object$1(e),i=t.length,o=0;o<i;o++){var s=t[o];if(void 0!==s&&null!==s)for(var a in s)s.hasOwnProperty(a)&&(n[a]=s[a])}return n}}();var assign=Object$1.assign,WebSocketSubject=function(e){function t(t,r){if(t instanceof Observable)e.call(this,r,t);else{if(e.call(this),this.WebSocketCtor=root.WebSocket,this._output=new Subject,"string"==typeof t?this.url=t:assign(this,t),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new ReplaySubject}}return __extends(t,e),t.prototype.resultSelector=function(e){return JSON.parse(e.data)},t.create=function(e){return new t(e)},t.prototype.lift=function(e){var r=new t(this,this.destination);return r.operator=e,r},t.prototype.multiplex=function(e,t,r){var n=this;return new Observable(function(i){var o=tryCatch(e)();o===errorObject?i.error(errorObject.e):n.next(o);var s=n.subscribe(function(e){var t=tryCatch(r)(e);t===errorObject?i.error(errorObject.e):t&&i.next(e)},function(e){return i.error(e)},function(){return i.complete()});return function(){var e=tryCatch(t)();e===errorObject?i.error(errorObject.e):n.next(e),s.unsubscribe()}})},t.prototype._connectSocket=function(){var e=this,t=this.WebSocketCtor,r=this.protocol?new t(this.url,this.protocol):new t(this.url);this.socket=r;var n=new Subscription(function(){e.socket=null,r&&1===r.readyState&&r.close()}),i=this._output;r.onopen=function(t){var o=e.openObserver;o&&o.next(t);var s=e.destination;e.destination=Subscriber.create(function(e){return 1===r.readyState&&r.send(e)},function(t){var n=e.closingObserver;n&&n.next(void 0),t&&t.code?r.close(t.code,t.reason):i.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),e.destination=new ReplaySubject,e.socket=null},function(){var t=e.closingObserver;t&&t.next(void 0),r.close(),e.destination=new ReplaySubject,e.socket=null}),s&&s instanceof ReplaySubject&&n.add(s.subscribe(e.destination))},r.onerror=function(e){return i.error(e)},r.onclose=function(t){var r=e.closeObserver;r&&r.next(t),t.wasClean?i.complete():i.error(t)},r.onmessage=function(t){var r=tryCatch(e.resultSelector)(t);r===errorObject?i.error(errorObject.e):i.next(r)}},t.prototype._subscribe=function(e){var t=this,r=this.source;if(r)return r.subscribe(e);this.socket||this._connectSocket();var n=new Subscription;return n.add(this._output.subscribe(e)),n.add(function(){var e=t.socket;0===t._output.observers.length&&e&&1===e.readyState&&(e.close(),t.socket=null)}),n},t.prototype.unsubscribe=function(){var t=this,r=t.source,n=t.socket;n&&1===n.readyState&&(n.close(),this.socket=null),e.prototype.unsubscribe.call(this),r||(this.destination=new ReplaySubject)},t}(AnonymousSubject),webSocket=WebSocketSubject.create;Observable.webSocket=webSocket;var BufferOperator=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t._subscribe(new BufferSubscriber(e,this.closingNotifier))},e}(),BufferSubscriber=function(e){function t(t,r){e.call(this,t),this.buffer=[],this.add(subscribeToResult(this,r))}return __extends(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},t}(OuterSubscriber);Observable.prototype.buffer=buffer;var BufferCountOperator=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t}return e.prototype.call=function(e,t){return t._subscribe(new BufferCountSubscriber(e,this.bufferSize,this.startBufferEvery))},e}(),BufferCountSubscriber=function(e){function t(t,r,n){e.call(this,t),this.bufferSize=r,this.startBufferEvery=n,this.buffers=[[]],this.count=0}return __extends(t,e),t.prototype._next=function(e){var t=this.count+=1,r=this.destination,n=this.bufferSize,i=null==this.startBufferEvery?n:this.startBufferEvery,o=this.buffers,s=o.length,a=-1;t%i===0&&o.push([]);for(var u=0;u<s;u++){var c=o[u];c.push(e),c.length===n&&(a=u,r.next(c))}a!==-1&&o.splice(a,1)},t.prototype._complete=function(){for(var t=this.destination,r=this.buffers;r.length>0;){var n=r.shift();n.length>0&&t.next(n)}e.prototype._complete.call(this)},t}(Subscriber);Observable.prototype.bufferCount=bufferCount;var BufferTimeOperator=function(){function e(e,t,r,n){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t._subscribe(new BufferTimeSubscriber(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),Context=function(){function e(){this.buffer=[]}return e}(),BufferTimeSubscriber=function(e){function t(t,r,n,i,o){e.call(this,t),this.bufferTimeSpan=r,this.bufferCreationInterval=n,this.maxBufferSize=i,this.scheduler=o,this.contexts=[];var s=this.openContext();if(this.timespanOnly=null==n||n<0,this.timespanOnly){var a={subscriber:this,context:s,bufferTimeSpan:r};this.add(s.closeAction=o.schedule(dispatchBufferTimeSpanOnly,r,a))}else{var u={subscriber:this,context:s},c={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:this,scheduler:o};this.add(s.closeAction=o.schedule(dispatchBufferClose,r,u)),this.add(o.schedule(dispatchBufferCreation,n,c))}}return __extends(t,e),t.prototype._next=function(e){for(var t,r=this.contexts,n=r.length,i=0;i<n;i++){var o=r[i],s=o.buffer;s.push(e),s.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this,r=t.contexts,n=t.destination;r.length>0;){var i=r.shift();n.next(i.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),this.timespanOnly){e=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:e,bufferTimeSpan:r};this.add(e.closeAction=this.scheduler.schedule(dispatchBufferTimeSpanOnly,r,n))}},t.prototype.openContext=function(){var e=new Context;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts,r=t?t.indexOf(e):-1;r>=0&&t.splice(t.indexOf(e),1)},t}(Subscriber);Observable.prototype.bufferTime=bufferTime;var BufferToggleOperator=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t._subscribe(new BufferToggleSubscriber(e,this.openings,this.closingSelector))},e}(),BufferToggleSubscriber=function(e){function t(t,r,n){e.call(this,t),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(subscribeToResult(this,r))}return __extends(t,e),t.prototype._next=function(e){for(var t=this.contexts,r=t.length,n=0;n<r;n++)t[n].buffer.push(e)},t.prototype._error=function(t){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var r=t.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,i){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector,r=t.call(this,e);r&&this.trySubscribe(r)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var r=e.buffer,n=e.subscription;this.destination.next(r),t.splice(t.indexOf(e),1),this.remove(n),n.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,r=[],n=new Subscription,i={buffer:r,subscription:n};t.push(i);var o=subscribeToResult(this,e,i);!o||o.closed?this.closeBuffer(i):(o.context=i,this.add(o),n.add(o))},t}(OuterSubscriber);Observable.prototype.bufferToggle=bufferToggle;var BufferWhenOperator=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t._subscribe(new BufferWhenSubscriber(e,this.closingSelector))},e}(),BufferWhenSubscriber=function(e){function t(t,r){e.call(this,t),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}return __extends(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,r,n,i){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t=this.buffer;this.buffer&&this.destination.next(t),this.buffer=[];var r=tryCatch(this.closingSelector)();r===errorObject?this.error(errorObject.e):(e=new Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(subscribeToResult(this,r)),this.subscribing=!1)},t}(OuterSubscriber);Observable.prototype.bufferWhen=bufferWhen,Observable.prototype.cache=cache,Observable.prototype.catch=_catch,Observable.prototype.combineAll=combineAll,Observable.prototype.combineLatest=combineLatest$1,Observable.prototype.concat=concat$2,Observable.prototype.concatAll=concatAll,Observable.prototype.concatMap=concatMap;var MergeMapToOperator=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.ish=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e,t){return t._subscribe(new MergeMapToSubscriber(e,this.ish,this.resultSelector,this.concurrent))},e}(),MergeMapToSubscriber=function(e){function t(t,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.ish=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return __extends(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.resultSelector,r=this.index++,n=this.ish,i=this.destination;this.active++,this._innerSub(n,i,t,e,r)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,r,n,i){this.add(subscribeToResult(this,e,n,i))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){var o=this,s=o.resultSelector,a=o.destination;s?this.trySelectResult(e,t,r,n):a.next(t)},t.prototype.trySelectResult=function(e,t,r,n){var i,o=this,s=o.resultSelector,a=o.destination;try{i=s(e,t,r,n)}catch(e){return void a.error(e)}a.next(i)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(OuterSubscriber);Observable.prototype.concatMapTo=concatMapTo;var CountOperator=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t._subscribe(new CountSubscriber(e,this.predicate,this.source))},e}(),CountSubscriber=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.source=n,this.count=0,this.index=0}return __extends(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(Subscriber);Observable.prototype.count=count;var DeMaterializeOperator=function(){function e(){}return e.prototype.call=function(e,t){return t._subscribe(new DeMaterializeSubscriber(e))},e}(),DeMaterializeSubscriber=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(Subscriber);Observable.prototype.dematerialize=dematerialize;var DebounceOperator=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t._subscribe(new DebounceSubscriber(e,this.durationSelector))},e}(),DebounceSubscriber=function(e){function t(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return __extends(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var r=this.durationSubscription;this.value=e,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),r=subscribeToResult(this,t),r.closed||this.add(this.durationSubscription=r)},t.prototype.notifyNext=function(e,t,r,n,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(OuterSubscriber);Observable.prototype.debounce=debounce;var DebounceTimeOperator=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t._subscribe(new DebounceTimeSubscriber(e,this.dueTime,this.scheduler))},e}(),DebounceTimeSubscriber=function(e){function t(t,r,n){e.call(this,t),this.dueTime=r,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return __extends(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext$3,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(Subscriber);Observable.prototype.debounceTime=debounceTime;var DefaultIfEmptyOperator=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t._subscribe(new DefaultIfEmptySubscriber(e,this.defaultValue))},e}(),DefaultIfEmptySubscriber=function(e){function t(t,r){e.call(this,t),this.defaultValue=r,this.isEmpty=!0}return __extends(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(Subscriber);Observable.prototype.defaultIfEmpty=defaultIfEmpty;var DelayOperator=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t._subscribe(new DelaySubscriber(e,this.delay,this.scheduler))},e}(),DelaySubscriber=function(e){function t(t,r,n){e.call(this,t),this.delay=r,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}return __extends(t,e),t.dispatch=function(e){for(var t=e.source,r=t.queue,n=e.scheduler,i=e.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var o=Math.max(0,r[0].time-n.now());this.schedule(e,o)}else t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(this.errored!==!0){var t=this.scheduler,r=new DelayMessage(t.now()+this.delay,e);this.queue.push(r),this.active===!1&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e)},t.prototype._complete=function(){this.scheduleNotification(Notification.createComplete())},t}(Subscriber),DelayMessage=function(){function e(e,t){this.time=e,this.notification=t}return e}();Observable.prototype.delay=delay;var DelayWhenOperator=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t._subscribe(new DelayWhenSubscriber(e,this.delayDurationSelector))},e}(),DelayWhenSubscriber=function(e){function t(t,r){e.call(this,t),this.delayDurationSelector=r,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return __extends(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){try{var t=this.delayDurationSelector(e);t&&this.tryDelay(t,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e),r=null;return t!==-1&&(r=this.values[t],this.delayNotifierSubscriptions.splice(t,1),this.values.splice(t,1)),r},t.prototype.tryDelay=function(e,t){var r=subscribeToResult(this,e,t);this.add(r),this.delayNotifierSubscriptions.push(r),this.values.push(t)},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(OuterSubscriber),SubscriptionDelayObservable=function(e){function t(t,r){e.call(this),this.source=t,this.subscriptionDelay=r}return __extends(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(e,this.source))},t}(Observable),SubscriptionDelaySubscriber=function(e){function t(t,r){e.call(this),this.parent=t,this.source=r,this.sourceSubscribed=!1}return __extends(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(Subscriber);Observable.prototype.delayWhen=delayWhen;var DistinctOperator=function(){function e(e,t){this.compare=e,this.flushes=t}return e.prototype.call=function(e,t){return t._subscribe(new DistinctSubscriber(e,this.compare,this.flushes))},e}(),DistinctSubscriber=function(e){function t(t,r,n){e.call(this,t),this.values=[],"function"==typeof r&&(this.compare=r),n&&this.add(subscribeToResult(this,n))}return __extends(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.values.length=0},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){var t=!1,r=this.values,n=r.length;try{for(var i=0;i<n;i++)if(this.compare(r[i],e))return void(t=!0)}catch(e){return void this.destination.error(e)}this.values.push(e),this.destination.next(e)},t.prototype.compare=function(e,t){return e===t},t}(OuterSubscriber);Observable.prototype.distinct=distinct,Observable.prototype.distinctKey=distinctKey;var DistinctUntilChangedOperator=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t._subscribe(new DistinctUntilChangedSubscriber(e,this.compare,this.keySelector))},e}(),DistinctUntilChangedSubscriber=function(e){function t(t,r,n){e.call(this,t),this.keySelector=n,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return __extends(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=this.keySelector,r=e;if(t&&(r=tryCatch(this.keySelector)(e),r===errorObject))return this.destination.error(errorObject.e);var n=!1;if(this.hasKey){if(n=tryCatch(this.compare)(this.key,r),n===errorObject)return this.destination.error(errorObject.e)}else this.hasKey=!0;Boolean(n)===!1&&(this.key=r,this.destination.next(e))},t}(Subscriber);Observable.prototype.distinctUntilChanged=distinctUntilChanged,Observable.prototype.distinctUntilKeyChanged=distinctUntilKeyChanged;var DoOperator=function(){function e(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}return e.prototype.call=function(e,t){return t._subscribe(new DoSubscriber(e,this.nextOrObserver,this.error,this.complete))},e}(),DoSubscriber=function(e){function t(t,r,n,i){e.call(this,t);var o=new Subscriber(r,n,i);o.syncErrorThrowable=!0,this.add(o),this.safeSubscriber=o}return __extends(t,e),t.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},t.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)},t.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},t}(Subscriber);Observable.prototype.do=_do;var SwitchFirstOperator=function(){function e(){}return e.prototype.call=function(e,t){return t._subscribe(new SwitchFirstSubscriber(e))},e}(),SwitchFirstSubscriber=function(e){function t(t){e.call(this,t),this.hasCompleted=!1,this.hasSubscription=!1}return __extends(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(subscribeToResult(this,e)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(OuterSubscriber);Observable.prototype.exhaust=exhaust;var SwitchFirstMapOperator=function(){function e(e,t){this.project=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t._subscribe(new SwitchFirstMapSubscriber(e,this.project,this.resultSelector))},e}(),SwitchFirstMapSubscriber=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.resultSelector=n,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return __extends(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t=this.index++,r=this.destination;try{var n=this.project(e,t);this.hasSubscription=!0,this.add(subscribeToResult(this,n,e,t))}catch(e){r.error(e)}},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){var o=this,s=o.resultSelector,a=o.destination;s?this.trySelectResult(e,t,r,n):a.next(t)},t.prototype.trySelectResult=function(e,t,r,n){var i=this,o=i.resultSelector,s=i.destination;try{var a=o(e,t,r,n);s.next(a)}catch(e){s.error(e)}},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(OuterSubscriber);Observable.prototype.exhaustMap=exhaustMap;var ExpandOperator=function(){function e(e,t,r){this.project=e,this.concurrent=t,this.scheduler=r}return e.prototype.call=function(e,t){return t._subscribe(new ExpandSubscriber(e,this.project,this.concurrent,this.scheduler))},e}(),ExpandSubscriber=function(e){function t(t,r,n,i){e.call(this,t),this.project=r,this.concurrent=n,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}return __extends(t,e),t.dispatch=function(e){var t=e.subscriber,r=e.result,n=e.value,i=e.index;t.subscribeToProjection(r,n,i)},t.prototype._next=function(e){var r=this.destination;if(r.closed)return void this._complete();var n=this.index++;if(this.active<this.concurrent){r.next(e);var i=tryCatch(this.project)(e,n);if(i===errorObject)r.error(errorObject.e);else if(this.scheduler){var o={subscriber:this,result:i,value:e,index:n};this.add(this.scheduler.schedule(t.dispatch,0,o))}else this.subscribeToProjection(i,e,n)}else this.buffer.push(e)},t.prototype.subscribeToProjection=function(e,t,r){this.active++,this.add(subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(OuterSubscriber);Observable.prototype.expand=expand;var ArgumentOutOfRangeError=function(e){function t(){var t=e.call(this,"argument out of range");this.name=t.name="ArgumentOutOfRangeError",this.stack=t.stack,this.message=t.message}return __extends(t,e),t}(Error),ElementAtOperator=function(){function e(e,t){if(this.index=e,this.defaultValue=t,e<0)throw new ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t._subscribe(new ElementAtSubscriber(e,this.index,this.defaultValue))},e}(),ElementAtSubscriber=function(e){function t(t,r,n){e.call(this,t),this.index=r,this.defaultValue=n}return __extends(t,e),t.prototype._next=function(e){0===this.index--&&(this.destination.next(e),this.destination.complete())},t.prototype._complete=function(){var e=this.destination;this.index>=0&&("undefined"!=typeof this.defaultValue?e.next(this.defaultValue):e.error(new ArgumentOutOfRangeError)),e.complete()},t}(Subscriber);Observable.prototype.elementAt=elementAt;var FilterOperator=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t._subscribe(new FilterSubscriber(e,this.predicate,this.thisArg))},e}(),FilterSubscriber=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.thisArg=n,this.count=0,this.predicate=r}return __extends(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(Subscriber);Observable.prototype.filter=filter;var FinallyOperator=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t._subscribe(new FinallySubscriber(e,this.callback))},e}(),FinallySubscriber=function(e){function t(t,r){e.call(this,t),this.add(new Subscription(r))}return __extends(t,e),t}(Subscriber);Observable.prototype.finally=_finally;var FindValueOperator=function(){function e(e,t,r,n){this.predicate=e,this.source=t,this.yieldIndex=r,this.thisArg=n}return e.prototype.call=function(e,t){return t._subscribe(new FindValueSubscriber(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),FindValueSubscriber=function(e){function t(t,r,n,i,o){e.call(this,t),this.predicate=r,this.source=n,this.yieldIndex=i,this.thisArg=o,this.index=0}return __extends(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){var t=this,r=t.predicate,n=t.thisArg,i=this.index++;try{var o=r.call(n||this,e,i,this.source);o&&this.notifyComplete(this.yieldIndex?i:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(Subscriber);Observable.prototype.find=find,Observable.prototype.findIndex=findIndex,Observable.prototype.first=first;var MapPolyfill=function(){function e(){this.size=0,this._values=[],this._keys=[]}return e.prototype.get=function(e){var t=this._keys.indexOf(e);return t===-1?void 0:this._values[t]},e.prototype.set=function(e,t){var r=this._keys.indexOf(e);return r===-1?(this._keys.push(e),this._values.push(t),this.size++):this._values[r]=t,this},e.prototype.delete=function(e){
var t=this._keys.indexOf(e);return t!==-1&&(this._values.splice(t,1),this._keys.splice(t,1),this.size--,!0)},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},e.prototype.forEach=function(e,t){for(var r=0;r<this.size;r++)e.call(t,this._values[r],this._keys[r])},e}(),Map$7=root.Map||function(){return MapPolyfill}(),FastMap=function(){function e(){this.values={}}return e.prototype.delete=function(e){return this.values[e]=null,!0},e.prototype.set=function(e,t){return this.values[e]=t,this},e.prototype.get=function(e){return this.values[e]},e.prototype.forEach=function(e,t){var r=this.values;for(var n in r)r.hasOwnProperty(n)&&null!==r[n]&&e.call(t,r[n],n)},e.prototype.clear=function(){this.values={}},e}(),GroupByOperator=function(){function e(e,t,r,n){this.source=e,this.keySelector=t,this.elementSelector=r,this.durationSelector=n}return e.prototype.call=function(e,t){return t._subscribe(new GroupBySubscriber(e,this.keySelector,this.elementSelector,this.durationSelector))},e}(),GroupBySubscriber=function(e){function t(t,r,n,i){e.call(this,t),this.keySelector=r,this.elementSelector=n,this.durationSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return __extends(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var r=this.groups;r||(r=this.groups="string"==typeof t?new FastMap:new Map$7);var n,i=r.get(t);if(this.elementSelector)try{n=this.elementSelector(e)}catch(e){this.error(e)}else n=e;if(!i){r.set(t,i=new Subject);var o=new GroupedObservable(t,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new GroupedObservable(t,i))}catch(e){return void this.error(e)}this.add(s.subscribe(new GroupDurationSubscriber(t,i,this)))}}i.closed||i.next(n)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach(function(t,r){t.error(e)}),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||this.attemptedToUnsubscribe||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(Subscriber),GroupDurationSubscriber=function(e){function t(t,r,n){e.call(this),this.key=t,this.group=r,this.parent=n}return __extends(t,e),t.prototype._next=function(e){this._complete()},t.prototype._error=function(e){var t=this.group;t.closed||t.error(e),this.parent.removeGroup(this.key)},t.prototype._complete=function(){var e=this.group;e.closed||e.complete(),this.parent.removeGroup(this.key)},t}(Subscriber),GroupedObservable=function(e){function t(t,r,n){e.call(this),this.key=t,this.groupSubject=r,this.refCountSubscription=n}return __extends(t,e),t.prototype._subscribe=function(e){var t=new Subscription,r=this,n=r.refCountSubscription,i=r.groupSubject;return n&&!n.closed&&t.add(new InnerRefCountSubscription(n)),t.add(i.subscribe(e)),t},t}(Observable),InnerRefCountSubscription=function(e){function t(t){e.call(this),this.parent=t,t.count++}return __extends(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(Subscription);Observable.prototype.groupBy=groupBy;var IgnoreElementsOperator=function(){function e(){}return e.prototype.call=function(e,t){return t._subscribe(new IgnoreElementsSubscriber(e))},e}(),IgnoreElementsSubscriber=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._next=function(e){noop$8()},t}(Subscriber);Observable.prototype.ignoreElements=ignoreElements;var IsEmptyOperator=function(){function e(){}return e.prototype.call=function(e,t){return t._subscribe(new IsEmptySubscriber(e))},e}(),IsEmptySubscriber=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(Subscriber);Observable.prototype.isEmpty=isEmpty;var AuditOperator=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t._subscribe(new AuditSubscriber(e,this.durationSelector))},e}(),AuditSubscriber=function(e){function t(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1}return __extends(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=tryCatch(this.durationSelector)(e);t===errorObject?this.destination.error(errorObject.e):this.add(this.throttled=subscribeToResult(this,t))}},t.prototype.clearThrottle=function(){var e=this,t=e.value,r=e.hasValue,n=e.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(t))},t.prototype.notifyNext=function(e,t,r,n){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(OuterSubscriber);Observable.prototype.audit=audit;var AuditTimeOperator=function(){function e(e,t){this.duration=e,this.scheduler=t}return e.prototype.call=function(e,t){return t._subscribe(new AuditTimeSubscriber(e,this.duration,this.scheduler))},e}(),AuditTimeSubscriber=function(e){function t(t,r,n){e.call(this,t),this.duration=r,this.scheduler=n,this.hasValue=!1}return __extends(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(dispatchNext$4,this.duration,this))},t.prototype.clearThrottle=function(){var e=this,t=e.value,r=e.hasValue,n=e.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(t))},t}(Subscriber);Observable.prototype.auditTime=auditTime,Observable.prototype.last=last$1,Observable.prototype.let=letProto,Observable.prototype.letBind=letProto,Observable.prototype.every=every,Observable.prototype.map=map;var MapToOperator=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t._subscribe(new MapToSubscriber(e,this.value))},e}(),MapToSubscriber=function(e){function t(t,r){e.call(this,t),this.value=r}return __extends(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(Subscriber);Observable.prototype.mapTo=mapTo;var MaterializeOperator=function(){function e(){}return e.prototype.call=function(e,t){return t._subscribe(new MaterializeSubscriber(e))},e}(),MaterializeSubscriber=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype._next=function(e){this.destination.next(Notification.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(Notification.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(Notification.createComplete()),e.complete()},t}(Subscriber);Observable.prototype.materialize=materialize,Observable.prototype.max=max,Observable.prototype.merge=merge$3,Observable.prototype.mergeAll=mergeAll,Observable.prototype.mergeMap=mergeMap,Observable.prototype.flatMap=mergeMap,Observable.prototype.flatMapTo=mergeMapTo,Observable.prototype.mergeMapTo=mergeMapTo;var MergeScanOperator=function(){function e(e,t,r){this.project=e,this.seed=t,this.concurrent=r}return e.prototype.call=function(e,t){return t._subscribe(new MergeScanSubscriber(e,this.project,this.seed,this.concurrent))},e}(),MergeScanSubscriber=function(e){function t(t,r,n,i){e.call(this,t),this.project=r,this.acc=n,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return __extends(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,r=tryCatch(this.project)(this.acc,e),n=this.destination;r===errorObject?n.error(errorObject.e):(this.active++,this._innerSub(r,e,t))}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,r){this.add(subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.destination;this.acc=t,this.hasValue=!0,o.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},t}(OuterSubscriber);Observable.prototype.mergeScan=mergeScan,Observable.prototype.min=min;var ConnectableObservable=function(e){function t(t,r){e.call(this),this.source=t,this.subjectFactory=r,this._refCount=0}return __extends(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(e=this._connection=new Subscription,e.add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(),this))),e.closed?(this._connection=null,e=Subscription.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return this.lift(new RefCountOperator(this))},t}(Observable),ConnectableSubscriber=function(e){function t(t,r){e.call(this,t),this.connectable=r}return __extends(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(SubjectSubscriber),RefCountOperator=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var n=new RefCountSubscriber(e,r),i=t._subscribe(n);return n.closed||(n.connection=r.connect()),i},e}(),RefCountSubscriber=function(e){function t(t,r){e.call(this,t),this.connectable=r}return __extends(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(!e)return void(this.connection=null);this.connectable=null;var t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()},t}(Subscriber),MulticastObservable=function(e){function t(t,r,n){e.call(this),this.source=t,this.subjectFactory=r,this.selector=n}return __extends(t,e),t.prototype._subscribe=function(e){var t=this,r=t.selector,n=t.source,i=new ConnectableObservable(n,this.subjectFactory),o=r(i).subscribe(e);return o.add(i.connect()),o},t}(Observable);Observable.prototype.multicast=multicast,Observable.prototype.observeOn=observeOn,Observable.prototype.onErrorResumeNext=onErrorResumeNext;var PairwiseOperator=function(){function e(){}return e.prototype.call=function(e,t){return t._subscribe(new PairwiseSubscriber(e))},e}(),PairwiseSubscriber=function(e){function t(t){e.call(this,t),this.hasPrev=!1}return __extends(t,e),t.prototype._next=function(e){this.hasPrev?this.destination.next([this.prev,e]):this.hasPrev=!0,this.prev=e},t}(Subscriber);Observable.prototype.pairwise=pairwise,Observable.prototype.partition=partition,Observable.prototype.pluck=pluck,Observable.prototype.publish=publish,Observable.prototype.publishBehavior=publishBehavior,Observable.prototype.publishReplay=publishReplay,Observable.prototype.publishLast=publishLast,Observable.prototype.race=race,Observable.prototype.reduce=reduce;var RepeatOperator=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t._subscribe(new RepeatSubscriber(e,this.count,this.source))},e}(),RepeatSubscriber=function(e){function t(t,r,n){e.call(this,t),this.count=r,this.source=n}return __extends(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this,r=t.source,n=t.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,r.subscribe(this)}},t}(Subscriber);Observable.prototype.repeat=repeat;var RetryOperator=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t._subscribe(new RetrySubscriber(e,this.count,this.source))},e}(),RetrySubscriber=function(e){function t(t,r,n){e.call(this,t),this.count=r,this.source=n}return __extends(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(0===i)return e.prototype.error.call(this,t);i>-1&&(this.count=i-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,n.subscribe(this)}},t}(Subscriber);Observable.prototype.retry=retry;var RetryWhenOperator=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t._subscribe(new RetryWhenSubscriber(e,this.notifier,this.source))},e}(),RetryWhenSubscriber=function(e){function t(t,r,n){e.call(this,t),this.notifier=r,this.source=n}return __extends(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this.errors,n=this.retries,i=this.retriesSubscription;if(n)this.errors=null,this.retriesSubscription=null;else{if(r=new Subject,n=tryCatch(this.notifier)(r),n===errorObject)return e.prototype.error.call(this,errorObject.e);i=subscribeToResult(this,n)}this.unsubscribe(),this.closed=!1,this.errors=r,this.retries=n,this.retriesSubscription=i,r.next(t)}},t.prototype._unsubscribe=function(){var e=this,t=e.errors,r=e.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),r&&(r.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,r,n,i){var o=this,s=o.errors,a=o.retries,u=o.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this.unsubscribe(),this.isStopped=!1,this.closed=!1,this.errors=s,this.retries=a,this.retriesSubscription=u,this.source.subscribe(this)},t}(OuterSubscriber);Observable.prototype.retryWhen=retryWhen;var SampleOperator=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t._subscribe(new SampleSubscriber(e,this.notifier))},e}(),SampleSubscriber=function(e){function t(t,r){e.call(this,t),this.hasValue=!1,this.add(subscribeToResult(this,r))}return __extends(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,r,n,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(OuterSubscriber);Observable.prototype.sample=sample;var SampleTimeOperator=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t._subscribe(new SampleTimeSubscriber(e,this.period,this.scheduler))},e}(),SampleTimeSubscriber=function(e){function t(t,r,n){e.call(this,t),this.period=r,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(dispatchNotification,r,{subscriber:this,period:r}))}return __extends(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(Subscriber);Observable.prototype.sampleTime=sampleTime;var ScanOperator=function(){function e(e,t){this.accumulator=e,this.seed=t}return e.prototype.call=function(e,t){return t._subscribe(new ScanSubscriber(e,this.accumulator,this.seed))},e}(),ScanSubscriber=function(e){function t(t,r,n){e.call(this,t),this.accumulator=r,this.index=0,this.accumulatorSet=!1,this.seed=n,this.accumulatorSet="undefined"!=typeof n}return __extends(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.accumulatorSet=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){return this.accumulatorSet?this._tryNext(e):(this.seed=e,void this.destination.next(e))},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.accumulator(this.seed,e,r)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(Subscriber);Observable.prototype.scan=scan,Observable.prototype.share=share;var SingleOperator=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t._subscribe(new SingleSubscriber(e,this.predicate,this.source))},e}(),SingleSubscriber=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.source=n,this.seenValue=!1,this.index=0}return __extends(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.predicate;this.index++,t?this.tryNext(e):this.applySingleValue(e)},t.prototype.tryNext=function(e){try{var t=this.predicate(e,this.index,this.source);t&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new EmptyError)},t}(Subscriber);Observable.prototype.single=single;var SkipOperator=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t._subscribe(new SkipSubscriber(e,this.total))},e}(),SkipSubscriber=function(e){function t(t,r){e.call(this,t),this.total=r,this.count=0}return __extends(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(Subscriber);Observable.prototype.skip=skip;var SkipUntilOperator=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t._subscribe(new SkipUntilSubscriber(e,this.notifier))},e}(),SkipUntilSubscriber=function(e){function t(t,r){e.call(this,t),this.hasValue=!1,this.isInnerStopped=!1,this.add(subscribeToResult(this,r))}return __extends(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype._complete=function(){this.isInnerStopped?e.prototype._complete.call(this):this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,n,i){this.hasValue=!0},t.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&e.prototype._complete.call(this)},t}(OuterSubscriber);Observable.prototype.skipUntil=skipUntil;var SkipWhileOperator=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t._subscribe(new SkipWhileSubscriber(e,this.predicate))},e}(),SkipWhileSubscriber=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.skipping=!0,this.index=0}return __extends(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(Subscriber);Observable.prototype.skipWhile=skipWhile,Observable.prototype.startWith=startWith;var ImmediateDefinition=function(){function e(e){if(this.root=e,e.setImmediate&&"function"==typeof e.setImmediate)this.setImmediate=e.setImmediate.bind(e),this.clearImmediate=e.clearImmediate.bind(e);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var t=function e(t){delete e.instance.tasksByHandle[t]};t.instance=this,this.clearImmediate=t}}return e.prototype.identify=function(e){return this.root.Object.prototype.toString.call(e)},e.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},e.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},e.prototype.canUseReadyStateChange=function(){var e=this.root.document;return Boolean(e&&"onreadystatechange"in e.createElement("script"))},e.prototype.canUsePostMessage=function(){var e=this.root;if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}return!1},e.prototype.partiallyApplied=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=function e(){var t=e.handler,r=e.args;"function"==typeof t?t.apply(void 0,r):new Function(""+t)()};return n.handler=e,n.args=t,n},e.prototype.addFromSetImmediateArguments=function(e){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,e),this.nextHandle++},e.prototype.createProcessNextTickSetImmediate=function(){var e=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.process.nextTick(t.partiallyApplied(t.runIfPresent,r)),r};return e.instance=this,e},e.prototype.createPostMessageSetImmediate=function(){var e=this.root,t="setImmediate$"+e.Math.random()+"$",r=function r(n){var i=r.instance;n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&i.runIfPresent(+n.data.slice(t.length))};r.instance=this,e.addEventListener("message",r,!1);var n=function e(){var t=e.messagePrefix,r=e.instance,n=r.addFromSetImmediateArguments(arguments);return r.root.postMessage(t+n,"*"),n};return n.instance=this,n.messagePrefix=t,n},e.prototype.runIfPresent=function(e){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,e),0);else{var t=this.tasksByHandle[e];if(t){this.currentlyRunningATask=!0;try{t()}finally{this.clearImmediate(e),this.currentlyRunningATask=!1}}}},e.prototype.createMessageChannelSetImmediate=function(){var e=this,t=new this.root.MessageChannel;t.port1.onmessage=function(t){var r=t.data;e.runIfPresent(r)};var r=function e(){var t=e.channel,r=e.instance,n=r.addFromSetImmediateArguments(arguments);return t.port2.postMessage(n),n};return r.channel=t,r.instance=this,r},e.prototype.createReadyStateChangeSetImmediate=function(){var e=function e(){var t=e.instance,r=t.root,n=r.document,i=n.documentElement,o=t.addFromSetImmediateArguments(arguments),s=n.createElement("script");return s.onreadystatechange=function(){t.runIfPresent(o),s.onreadystatechange=null,i.removeChild(s),s=null},i.appendChild(s),o};return e.instance=this,e},e.prototype.createSetTimeoutSetImmediate=function(){var e=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.setTimeout(t.partiallyApplied(t.runIfPresent,r),0),r};return e.instance=this,e},e}(),Immediate=new ImmediateDefinition(root),AsapAction=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return __extends(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=Immediate.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.recycleAsyncId.call(this,t,r,n):void(0===t.actions.length&&(Immediate.clearImmediate(r),t.scheduled=void 0))},t}(AsyncAction),AsapScheduler=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.flush=function(){this.active=!0,this.scheduled=void 0;var e,t=this.actions,r=-1,n=t.length,i=t.shift();do if(e=i.execute(i.state,i.delay))break;while(++r<n&&(i=t.shift()));if(this.active=!1,e){for(;++r<n&&(i=t.shift());)i.unsubscribe();throw e}},t}(AsyncScheduler),asap=new AsapScheduler(AsapAction),SubscribeOnObservable=function(e){function t(t,r,n){void 0===r&&(r=0),void 0===n&&(n=asap),e.call(this),this.source=t,this.delayTime=r,this.scheduler=n,(!isNumeric(r)||r<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=asap)}return __extends(t,e),t.create=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=asap),new t(e,r,n)},t.dispatch=function(e){var t=e.source,r=e.subscriber;return t.subscribe(r)},t.prototype._subscribe=function(e){var r=this.delayTime,n=this.source,i=this.scheduler;return i.schedule(t.dispatch,r,{source:n,subscriber:e})},t}(Observable);Observable.prototype.subscribeOn=subscribeOn;var SwitchOperator=function(){function e(){}return e.prototype.call=function(e,t){return t._subscribe(new SwitchSubscriber(e))},e}(),SwitchSubscriber=function(e){function t(t){e.call(this,t),this.active=0,this.hasCompleted=!1}return __extends(t,e),t.prototype._next=function(e){this.unsubscribeInner(),this.active++,this.add(this.innerSubscription=subscribeToResult(this,e))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&this.destination.complete()},t.prototype.unsubscribeInner=function(){this.active=this.active>0?this.active-1:0;var e=this.innerSubscription;e&&(e.unsubscribe(),this.remove(e))},t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.unsubscribeInner(),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(OuterSubscriber);Observable.prototype.switch=_switch;var SwitchMapOperator=function(){function e(e,t){this.project=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t._subscribe(new SwitchMapSubscriber(e,this.project,this.resultSelector))},e}(),SwitchMapSubscriber=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.resultSelector=n,this.index=0}return __extends(t,e),t.prototype._next=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var n=this.innerSubscription;n&&n.unsubscribe(),this.add(this.innerSubscription=subscribeToResult(this,e,t,r))},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,i){this.resultSelector?this._tryNotifyNext(e,t,r,n):this.destination.next(t)},t.prototype._tryNotifyNext=function(e,t,r,n){var i;try{i=this.resultSelector(e,t,r,n)}catch(e){return void this.destination.error(e)}this.destination.next(i)},t}(OuterSubscriber);Observable.prototype.switchMap=switchMap;var SwitchMapToOperator=function(){function e(e,t){this.observable=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t._subscribe(new SwitchMapToSubscriber(e,this.observable,this.resultSelector))},e}(),SwitchMapToSubscriber=function(e){function t(t,r,n){e.call(this,t),this.inner=r,this.resultSelector=n,this.index=0}return __extends(t,e),t.prototype._next=function(e){var t=this.innerSubscription;t&&t.unsubscribe(),this.add(this.innerSubscription=subscribeToResult(this,this.inner,e,this.index++))},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,i){var o=this,s=o.resultSelector,a=o.destination;s?this.tryResultSelector(e,t,r,n):a.next(t)},t.prototype.tryResultSelector=function(e,t,r,n){var i,o=this,s=o.resultSelector,a=o.destination;try{i=s(e,t,r,n)}catch(e){return void a.error(e)}a.next(i)},t}(OuterSubscriber);Observable.prototype.switchMapTo=switchMapTo;var TakeOperator=function(){function e(e){if(this.total=e,this.total<0)throw new ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t._subscribe(new TakeSubscriber(e,this.total))},e}(),TakeSubscriber=function(e){function t(t,r){e.call(this,t),this.total=r,this.count=0}return __extends(t,e),t.prototype._next=function(e){var t=this.total;++this.count<=t&&(this.destination.next(e),this.count===t&&(this.destination.complete(),this.unsubscribe()))},t}(Subscriber);Observable.prototype.take=take;var TakeLastOperator=function(){function e(e){if(this.total=e,this.total<0)throw new ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t._subscribe(new TakeLastSubscriber(e,this.total))},e}(),TakeLastSubscriber=function(e){function t(t,r){e.call(this,t),this.total=r,this.ring=new Array,this.count=0}return __extends(t,e),t.prototype._next=function(e){var t=this.ring,r=this.total,n=this.count++;if(t.length<r)t.push(e);else{var i=n%r;t[i]=e}},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var o=t++%r;e.next(n[o])}e.complete()},t}(Subscriber);Observable.prototype.takeLast=takeLast;var TakeUntilOperator=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t._subscribe(new TakeUntilSubscriber(e,this.notifier))},e}(),TakeUntilSubscriber=function(e){function t(t,r){e.call(this,t),this.notifier=r,this.add(subscribeToResult(this,r))}return __extends(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.complete()},t.prototype.notifyComplete=function(){},t}(OuterSubscriber);Observable.prototype.takeUntil=takeUntil;var TakeWhileOperator=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t._subscribe(new TakeWhileSubscriber(e,this.predicate))},e}(),TakeWhileSubscriber=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.index=0}return __extends(t,e),t.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void r.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):r.complete()},t}(Subscriber);Observable.prototype.takeWhile=takeWhile;var ThrottleOperator=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t._subscribe(new ThrottleSubscriber(e,this.durationSelector))},e}(),ThrottleSubscriber=function(e){function t(t,r){e.call(this,t),this.destination=t,this.durationSelector=r}return __extends(t,e),t.prototype._next=function(e){this.throttled||this.tryDurationSelector(e)},t.prototype.tryDurationSelector=function(e){var t=null;try{t=this.durationSelector(e)}catch(e){return void this.destination.error(e)}this.emitAndThrottle(e,t)},t.prototype.emitAndThrottle=function(e,t){this.add(this.throttled=subscribeToResult(this,t)),this.destination.next(e)},t.prototype._unsubscribe=function(){var e=this.throttled;e&&(this.remove(e),this.throttled=null,e.unsubscribe())},t.prototype.notifyNext=function(e,t,r,n,i){this._unsubscribe()},t.prototype.notifyComplete=function(){this._unsubscribe()},t}(OuterSubscriber);Observable.prototype.throttle=throttle;var ThrottleTimeOperator=function(){function e(e,t){this.duration=e,this.scheduler=t}return e.prototype.call=function(e,t){return t._subscribe(new ThrottleTimeSubscriber(e,this.duration,this.scheduler))},e}(),ThrottleTimeSubscriber=function(e){function t(t,r,n){e.call(this,t),this.duration=r,this.scheduler=n}return __extends(t,e),t.prototype._next=function(e){this.throttled||(this.add(this.throttled=this.scheduler.schedule(dispatchNext$5,this.duration,{subscriber:this})),this.destination.next(e))},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(e.unsubscribe(),this.remove(e),this.throttled=null)},t}(Subscriber);Observable.prototype.throttleTime=throttleTime;var TimeInterval=function(){function e(e,t){this.value=e,this.interval=t}return e}(),TimeIntervalOperator=function(){function e(e){this.scheduler=e}return e.prototype.call=function(e,t){return t._subscribe(new TimeIntervalSubscriber(e,this.scheduler))},e}(),TimeIntervalSubscriber=function(e){
function t(t,r){e.call(this,t),this.scheduler=r,this.lastTime=0,this.lastTime=r.now()}return __extends(t,e),t.prototype._next=function(e){var t=this.scheduler.now(),r=t-this.lastTime;this.lastTime=t,this.destination.next(new TimeInterval(e,r))},t}(Subscriber);Observable.prototype.timeInterval=timeInterval;var TimeoutOperator=function(){function e(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.errorToSend=r,this.scheduler=n}return e.prototype.call=function(e,t){return t._subscribe(new TimeoutSubscriber(e,this.absoluteTimeout,this.waitFor,this.errorToSend,this.scheduler))},e}(),TimeoutSubscriber=function(e){function t(t,r,n,i,o){e.call(this,t),this.absoluteTimeout=r,this.waitFor=n,this.errorToSend=i,this.scheduler=o,this.index=0,this._previousIndex=0,this._hasCompleted=!1,this.scheduleTimeout()}return __extends(t,e),Object.defineProperty(t.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),t.dispatchTimeout=function(e){var t=e.subscriber,r=e.index;t.hasCompleted||t.previousIndex!==r||t.notifyTimeout()},t.prototype.scheduleTimeout=function(){var e=this.index;this.scheduler.schedule(t.dispatchTimeout,this.waitFor,{subscriber:this,index:e}),this.index++,this._previousIndex=e},t.prototype._next=function(e){this.destination.next(e),this.absoluteTimeout||this.scheduleTimeout()},t.prototype._error=function(e){this.destination.error(e),this._hasCompleted=!0},t.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},t.prototype.notifyTimeout=function(){this.error(this.errorToSend||new Error("timeout"))},t}(Subscriber);Observable.prototype.timeout=timeout;var TimeoutWithOperator=function(){function e(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=r,this.scheduler=n}return e.prototype.call=function(e,t){return t._subscribe(new TimeoutWithSubscriber(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),TimeoutWithSubscriber=function(e){function t(t,r,n,i,o){e.call(this),this.destination=t,this.absoluteTimeout=r,this.waitFor=n,this.withObservable=i,this.scheduler=o,this.timeoutSubscription=void 0,this.index=0,this._previousIndex=0,this._hasCompleted=!1,t.add(this),this.scheduleTimeout()}return __extends(t,e),Object.defineProperty(t.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),t.dispatchTimeout=function(e){var t=e.subscriber,r=e.index;t.hasCompleted||t.previousIndex!==r||t.handleTimeout()},t.prototype.scheduleTimeout=function(){var e=this.index,r={subscriber:this,index:e};this.scheduler.schedule(t.dispatchTimeout,this.waitFor,r),this.index++,this._previousIndex=e},t.prototype._next=function(e){this.destination.next(e),this.absoluteTimeout||this.scheduleTimeout()},t.prototype._error=function(e){this.destination.error(e),this._hasCompleted=!0},t.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},t.prototype.handleTimeout=function(){if(!this.closed){var e=this.withObservable;this.unsubscribe(),this.destination.add(this.timeoutSubscription=subscribeToResult(this,e))}},t}(OuterSubscriber);Observable.prototype.timeoutWith=timeoutWith;var Timestamp=function(){function e(e,t){this.value=e,this.timestamp=t}return e}(),TimestampOperator=function(){function e(e){this.scheduler=e}return e.prototype.call=function(e,t){return t._subscribe(new TimestampSubscriber(e,this.scheduler))},e}(),TimestampSubscriber=function(e){function t(t,r){e.call(this,t),this.scheduler=r}return __extends(t,e),t.prototype._next=function(e){var t=this.scheduler.now();this.destination.next(new Timestamp(e,t))},t}(Subscriber);Observable.prototype.timestamp=timestamp;var ToArrayOperator=function(){function e(){}return e.prototype.call=function(e,t){return t._subscribe(new ToArraySubscriber(e))},e}(),ToArraySubscriber=function(e){function t(t){e.call(this,t),this.array=[]}return __extends(t,e),t.prototype._next=function(e){this.array.push(e)},t.prototype._complete=function(){this.destination.next(this.array),this.destination.complete()},t}(Subscriber);Observable.prototype.toArray=toArray,Observable.prototype.toPromise=toPromise;var WindowOperator=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var r=new WindowSubscriber(e),n=t._subscribe(r);return n.closed||r.add(subscribeToResult(r,this.windowBoundaries)),n},e}(),WindowSubscriber=function(e){function t(t){e.call(this,t),this.window=new Subject,t.next(this.window)}return __extends(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,r=this.window=new Subject;t.next(r)},t}(OuterSubscriber);Observable.prototype.window=window$1;var WindowCountOperator=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t._subscribe(new WindowCountSubscriber(e,this.windowSize,this.startWindowEvery))},e}(),WindowCountSubscriber=function(e){function t(t,r,n){e.call(this,t),this.destination=t,this.windowSize=r,this.startWindowEvery=n,this.windows=[new Subject],this.count=0,t.next(this.windows[0])}return __extends(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,i=this.windows,o=i.length,s=0;s<o&&!this.closed;s++)i[s].next(e);var a=this.count-n+1;if(a>=0&&a%t===0&&!this.closed&&i.shift().complete(),++this.count%t===0&&!this.closed){var u=new Subject;i.push(u),r.next(u)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(Subscriber);Observable.prototype.windowCount=windowCount;var WindowTimeOperator=function(){function e(e,t,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.scheduler=r}return e.prototype.call=function(e,t){return t._subscribe(new WindowTimeSubscriber(e,this.windowTimeSpan,this.windowCreationInterval,this.scheduler))},e}(),WindowTimeSubscriber=function(e){function t(t,r,n,i){if(e.call(this,t),this.destination=t,this.windowTimeSpan=r,this.windowCreationInterval=n,this.scheduler=i,this.windows=[],null!==n&&n>=0){var o=this.openWindow(),s={subscriber:this,window:o,context:null},a={windowTimeSpan:r,windowCreationInterval:n,subscriber:this,scheduler:i};this.add(i.schedule(dispatchWindowClose,r,s)),this.add(i.schedule(dispatchWindowCreation,n,a))}else{var u=this.openWindow(),c={subscriber:this,window:u,windowTimeSpan:r};this.add(i.schedule(dispatchWindowTimeSpanOnly,r,c))}}return __extends(t,e),t.prototype._next=function(e){for(var t=this.windows,r=t.length,n=0;n<r;n++){var i=t[n];i.closed||i.next(e)}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new Subject;this.windows.push(e);var t=this.destination;return t.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(Subscriber);Observable.prototype.windowTime=windowTime;var WindowToggleOperator=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t._subscribe(new WindowToggleSubscriber(e,this.openings,this.closingSelector))},e}(),WindowToggleSubscriber=function(e){function t(t,r,n){e.call(this,t),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=subscribeToResult(this,r,r))}return __extends(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var r=t.length,n=0;n<r;n++)t[n].window.next(e)},t.prototype._error=function(t){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var r=t.length,n=-1;++n<r;){var i=t[n];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,r=-1;++r<t;){var n=e[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,r,n,i){if(e===this.openings){var o=this.closingSelector,s=tryCatch(o)(t);if(s===errorObject)return this.error(errorObject.e);var a=new Subject,u=new Subscription,c={window:a,subscription:u};this.contexts.push(c);var l=subscribeToResult(this,s,c);l.closed?this.closeWindow(this.contexts.length-1):(l.context=c,u.add(l)),this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(e!==-1){var t=this.contexts,r=t[e],n=r.window,i=r.subscription;t.splice(e,1),n.complete(),i.unsubscribe()}},t}(OuterSubscriber);Observable.prototype.windowToggle=windowToggle;var WindowOperator$1=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t._subscribe(new WindowSubscriber$1(e,this.closingSelector))},e}(),WindowSubscriber$1=function(e){function t(t,r){e.call(this,t),this.destination=t,this.closingSelector=r,this.openWindow()}return __extends(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.openWindow(i)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var r=this.window=new Subject;this.destination.next(r);var n=tryCatch(this.closingSelector)();if(n===errorObject){var i=errorObject.e;this.destination.error(i),this.window.error(i)}else this.add(this.closingNotification=subscribeToResult(this,n))},t}(OuterSubscriber);Observable.prototype.windowWhen=windowWhen;var WithLatestFromOperator=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t._subscribe(new WithLatestFromSubscriber(e,this.observables,this.project))},e}(),WithLatestFromSubscriber=function(e){function t(t,r,n){e.call(this,t),this.observables=r,this.project=n,this.toRespond=[];var i=r.length;this.values=new Array(i);for(var o=0;o<i;o++)this.toRespond.push(o);for(var o=0;o<i;o++){var s=r[o];this.add(subscribeToResult(this,s,s,o))}}return __extends(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.values[r]=t;var o=this.toRespond;if(o.length>0){var s=o.indexOf(r);s!==-1&&o.splice(s,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(OuterSubscriber);Observable.prototype.withLatestFrom=withLatestFrom,Observable.prototype.zip=zipProto,Observable.prototype.zipAll=zipAll;var SubscriptionLog=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.subscribedFrame=e,this.unsubscribedFrame=t}return e}(),SubscriptionLoggable=function(){function e(){this.subscriptions=[]}return e.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},e.prototype.logUnsubscribedFrame=function(e){var t=this.subscriptions,r=t[e];t[e]=new SubscriptionLog(r.subscribedFrame,this.scheduler.now())},e}(),ColdObservable=function(e){function t(t,r){e.call(this,function(e){var t=this,r=t.logSubscribedFrame();return e.add(new Subscription(function(){t.logUnsubscribedFrame(r)})),t.scheduleMessages(e),e}),this.messages=t,this.subscriptions=[],this.scheduler=r}return __extends(t,e),t.prototype.scheduleMessages=function(e){for(var t=this.messages.length,r=0;r<t;r++){var n=this.messages[r];e.add(this.scheduler.schedule(function(e){var t=e.message,r=e.subscriber;t.notification.observe(r)},n.frame,{message:n,subscriber:e}))}},t}(Observable);applyMixins(ColdObservable,[SubscriptionLoggable]);var HotObservable=function(e){function t(t,r){e.call(this),this.messages=t,this.subscriptions=[],this.scheduler=r}return __extends(t,e),t.prototype._subscribe=function(t){var r=this,n=r.logSubscribedFrame();return t.add(new Subscription(function(){r.logUnsubscribedFrame(n)})),e.prototype._subscribe.call(this,t)},t.prototype.setup=function(){for(var e=this,t=e.messages.length,r=0;r<t;r++)!function(){var t=e.messages[r];e.scheduler.schedule(function(){t.notification.observe(e)},t.frame)}()},t}(Subject);applyMixins(HotObservable,[SubscriptionLoggable]);var RequestAnimationFrameDefinition=function(){function e(e){e.requestAnimationFrame?(this.cancelAnimationFrame=e.cancelAnimationFrame.bind(e),this.requestAnimationFrame=e.requestAnimationFrame.bind(e)):e.mozRequestAnimationFrame?(this.cancelAnimationFrame=e.mozCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.mozRequestAnimationFrame.bind(e)):e.webkitRequestAnimationFrame?(this.cancelAnimationFrame=e.webkitCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.webkitRequestAnimationFrame.bind(e)):e.msRequestAnimationFrame?(this.cancelAnimationFrame=e.msCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.msRequestAnimationFrame.bind(e)):e.oRequestAnimationFrame?(this.cancelAnimationFrame=e.oCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.oRequestAnimationFrame.bind(e)):(this.cancelAnimationFrame=e.clearTimeout.bind(e),this.requestAnimationFrame=function(t){return e.setTimeout(t,1e3/60)})}return e}(),AnimationFrame=new RequestAnimationFrameDefinition(root),AnimationFrameAction=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return __extends(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=AnimationFrame.requestAnimationFrame(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.recycleAsyncId.call(this,t,r,n):void(0===t.actions.length&&(AnimationFrame.cancelAnimationFrame(r),t.scheduled=void 0))},t}(AsyncAction),AnimationFrameScheduler=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.flush=function(){this.active=!0,this.scheduled=void 0;var e,t=this.actions,r=-1,n=t.length,i=t.shift();do if(e=i.execute(i.state,i.delay))break;while(++r<n&&(i=t.shift()));if(this.active=!1,e){for(;++r<n&&(i=t.shift());)i.unsubscribe();throw e}},t}(AsyncScheduler),animationFrame=new AnimationFrameScheduler(AnimationFrameAction),Scheduler={asap:asap,queue:queue,animationFrame:animationFrame,async:async},Symbol$3={rxSubscriber:rxSubscriber,observable:observable,iterator:$$iterator},KeyMap$1=function(){function e(){}return e}();KeyMap$1.spaceBar=32,KeyMap$1.enter=13,KeyMap$1.a=65,KeyMap$1.z=90,KeyMap$1.backSpace=8,KeyMap$1.zero=48,KeyMap$1.nine=57;var Character=function(){function e(e){this.isCurrent=!1,this.lineBreak=!1,this.placeHolder=!1,this.deleteChar=!1,this.isSelected=!1,e===KeyMap$1.enter?(this.value="\n",this.lineBreak=!0):e===-1?(this.value="",this.placeHolder=!0):e===KeyMap$1.backSpace?this.deleteChar=!0:this.value=String.fromCharCode(e).toLowerCase()}return e}(),Document=function(){function e(){this.characters=[],this.firstSelectedCharacter=-1,this.currentChar=new Character((-1)),this.characters.push(this.currentChar),this.characters[0].isCurrent=!0}return e.prototype.deselectPreviousCharacter=function(){if(this.currentChar){var e=this.characters.indexOf(this.currentChar);this.characters[e].isCurrent=!1}},e.prototype.clearSelection=function(e){this.firstSelectedCharacter=-1,e&&(this.firstSelectedCharacter=this.characters.indexOf(e.character)),this.characters.forEach(function(e){return e.isSelected=!1})},e.prototype.edit=function(e,t){if(e.deleteChar){var r=this.characters.indexOf(this.currentChar);r>=1&&(this.characters.splice(r,1),this.characters.length>1?(this.characters[r-1].isCurrent=!0,this.currentChar=this.characters[r-1]):1===this.characters.length&&(this.characters[0].isCurrent=!0,this.currentChar=this.characters[0]))}else if(this.characters.splice(t,0,e),e.lineBreak){this.deselectPreviousCharacter();var n=new Character((-1));this.characters.splice(t+1,0,n),this.placeCursor(n)}else this.placeCursor(e)},e.prototype.placeCursor=function(e){this.deselectPreviousCharacter();var t=this.characters.indexOf(e);this.characters[t].isCurrent=!0,this.currentChar=e},e.prototype.selectCharacter=function(e){for(var t=this.characters.indexOf(e),r=this.firstSelectedCharacter;r<=t;r++)this.characters[r].isSelected=!0},e.prototype.processInput=function(e,t){if("modify"===t){var r=this.characters.indexOf(this.currentChar);r<0&&(r=this.characters.length-1),this.edit(e,r+1)}"select"===t&&this.placeCursor(e),"range"===t&&this.selectCharacter(e)},e}(),__decorate$21=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$21=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},TextEditor=function(){function e(){this.currentDocument=new Document}return e.prototype.isSuportedCharacter=function(e){return e>=KeyMap$1.a&&e<KeyMap$1.z||(e===KeyMap$1.enter||e===KeyMap$1.spaceBar||e===KeyMap$1.backSpace||e>=KeyMap$1.zero&&e<=KeyMap$1.nine)},e.prototype.getCharacterFromElement=function(e,t){var r=[].slice.call(this.editor.children).indexOf(e.target);return r>=0?{operation:t,character:this.currentDocument.characters[r],element:e}:null},e.prototype.ngOnInit=function(){var e=this;this.editor=document.getElementById("page"),this.keyUp=Observable.fromEvent(document,"keyup").filter(function(t){return e.isSuportedCharacter(t.which)}).map(function(e){return{operation:"modify",character:new Character(e.which),element:e}}),this.mouseDown=Observable.fromEvent(this.editor,"mousedown").do(function(t){return e.currentDocument.clearSelection(e.getCharacterFromElement(t,"range"))}).flatMap(function(t){return Observable.fromEvent(e.editor,"mousemove")}).map(function(t){return e.getCharacterFromElement(t,"range")}).filter(function(e){return null!==e}).takeUntil(Observable.fromEvent(this.editor,"mouseup")).repeat(),this.click=Observable.fromEvent(this.editor,"click").map(function(t){return e.getCharacterFromElement(t,"select")}).filter(function(e){return null!==e}),this.keyDown=Observable.fromEvent(document,"keydown").filter(function(e){return e.which===KeyMap$1.spaceBar||e.which===KeyMap$1.backSpace}).map(function(e){return{element:e}}),this.keyUp.merge(this.click).merge(this.mouseDown).merge(this.keyDown).subscribe(function(t){e.currentDocument.processInput(t.character,t.operation),t.element.preventDefault()})},e}();TextEditor=__decorate$21([Component({selector:"editor",templateUrl:"./components/text-editor/text-editor.html"}),__metadata$21("design:paramtypes",[])],TextEditor);var __decorate$22=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$22=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},CommentDemo=function(){function e(){this.counter=0}return e.prototype.count=function(){this.counter++},e}();CommentDemo=__decorate$22([Component({selector:"comment-demo",templateUrl:"./components/change-detection/comment-demo.html"}),__metadata$22("design:paramtypes",[])],CommentDemo);var __decorate$24=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$24=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Child=function(){function e(){}return e.prototype.setTime=function(e){this.time=e},e}();Child=__decorate$24([Component({selector:"child",template:"<div>{{time}}</div>"}),__metadata$24("design:paramtypes",[])],Child);var __decorate$23=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$23=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Parent=function(){function e(){}return e.prototype.updateViewChildren=function(){this.viewChildren.toArray().forEach(function(e){return e.setTime((new Date).toTimeString())})},e}();__decorate$23([ViewChildren(Child),__metadata$23("design:type",QueryList)],Parent.prototype,"viewChildren",void 0),Parent=__decorate$23([Component({selector:"parent",template:'<div>\n                <button (click)="updateViewChildren()">Update Time via ViewChildren</button>\n                <child></child>\n                <child></child>\n              </div>'}),__metadata$23("design:paramtypes",[])],Parent);var QuestionModel=function(){function e(){this.questions=[]}return e.prototype.toGroup=function(){var e={};return this.questions.forEach(function(t){t.required?e[t.key]=new FormControl("",Validators.required):e[t.key]=new FormControl("")}),new FormGroup(e)},e}(),QuestionBase=function(){function e(){}return e}(),TextboxQuestion=function(e){function t(){e.call(this),this.controlType="textbox"}return __extends(t,e),t}(QuestionBase),DropDownQuestion=function(e){function t(){e.call(this),this.options=[],this.controlType="dropdown"}return __extends(t,e),t}(QuestionBase),__decorate$25=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$25=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},SurveyDemo=function(){function e(){this.questionModel=new QuestionModel;var e=new TextboxQuestion;e.key="lastName",e.text="Last name",e.required=!0,e.order=2,this.questionModel.questions.push(e),e=new TextboxQuestion,e.key="firstName",e.text="First name",e.required=!0,e.order=1,this.questionModel.questions.push(e),e=new TextboxQuestion,e.key="emailAddress",e.text="Email",e.required=!1,e.type="email",e.order=3,this.questionModel.questions.push(e);var t=new DropDownQuestion;t.key="country",t.text="Country",t.options.push({key:"usa",value:"USA"}),t.options.push({key:"germany",value:"Germany"}),t.options.push({key:"canada",value:"Canada"}),t.options.push({key:"australia",value:"Australia"}),t.order=4,this.questionModel.questions.push(t),this.questionModel.questions.sort(function(e,t){return e.order-t.order})}return e}();SurveyDemo=__decorate$25([Component({selector:"survey-demo",template:'<div><h1>Survey using Dynamic Form</h1><survey [model]="questionModel"></survey></div>'}),__metadata$25("design:paramtypes",[])],SurveyDemo);var logReducer=function(e,t){switch(void 0===e&&(e=[]),t.type){case"ADD_ENTRY":return e.concat([t.data]);case"LOAD_ENTRIES":return t.data;default:return e}},Store=function(){function e(){var e=this;this.dispatcher=new Subject,this.log=new Subject,this.logItems=[],this.dispatcher.subscribe(function(t){return e.handleAction(t)}),this.logEntries=this.log.asObservable()}return e.prototype.handleAction=function(e){this.logItems=logReducer(this.logItems,e),this.log.next(this.logItems)},e.prototype.dispatchAction=function(e){this.dispatcher.next(e)},e}(),LogAction=function(){function e(e,t){this.type=e,this.data=t}return e}(),LogEntry=function(){function e(e,t){this.text=e,this.severity=t}return e}(),__decorate$27=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$27=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},LogTailService=function(){function e(e){this.http=e}return e.prototype.getLogEntries=function(){return this.http.get("./components/log-tail/log.json").map(function(e){return e.json()})},e}();LogTailService=__decorate$27([Injectable(),__metadata$27("design:paramtypes",[Http])],LogTailService);var __decorate$26=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$26=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},LogDemo=function(){function e(e,t){this.store=e,this.logTailService=t}return e.prototype.generateLogEntry=function(){var e=new LogEntry(this.msg,this.severity);this.store.dispatchAction(new LogAction("ADD_ENTRY",e)),this.msg="",this.severity=void 0},e.prototype.ngOnInit=function(){var e=this;this.logTailService.getLogEntries().subscribe(function(t){return e.store.dispatchAction(new LogAction("LOAD_ENTRIES",t.entries))})},e}();LogDemo=__decorate$26([Component({providers:[Store,LogTailService],template:'<div>\n                <h1>Error log state managed using Redux</h1>\n                <button style="margin-bottom: 10px;" (click)="generateLogEntry()">Add new log entry</button>\n                <input placeholder="message" type="text" [(ngModel)]="msg" />\n                <input placeholder="severity" type="number" [(ngModel)]="severity" />\n                <table class="table">\n                     <tr>\n                        <td><strong>Message</strong></td><td><strong>Severity</strong></td>\n                     </tr>\n                     <tr *ngFor="let log of store.logEntries | async">\n                        <td>{{log.text}}</td>\n                        <td>{{log.severity}}</td>\n                     </tr>\n                </table>\n                <h4><a href="http://www.syntaxsuccess.com/viewarticle/redux-in-angular-2.0">Read more here</a></h4>\n              </div>'}),__metadata$26("design:paramtypes",[Store,LogTailService])],LogDemo);var __decorate$28=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$28=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},InputOutputDemo=function(){function e(){this.count=0,this.runningTotal=0,this.myString="",this.myTitle="Input/Output Demo"}return e.prototype.update=function(){this.count++,this.runningTotal+=this.count,this.myString+="A"},e.prototype.myStringChanged=function(e){console.log(e)},e}();InputOutputDemo=__decorate$28([Component({template:'<button (click)="update()">Update</button>\n              <input-output plain="just a simple attribute"\n                            fixedValue="another hard coded value"\n                            (stringChanged)="myStringChanged($event)"\n                            [mySum]="runningTotal"\n                            [counter]="count"\n                            [headline]="myTitle"\n                            [growingString]="myString">\n              </input-output>'}),__metadata$28("design:paramtypes",[])],InputOutputDemo);var TreeNode$2=function(){function e(e,t,r){this.key=e,this.url=t,this.name=r,this.showIcon=!1,this.expanded=!1,this.icon=null,t&&(this.showIcon=!0,this.icon=this.getIcon())}return e.prototype.expand=function(){this.expanded=!this.expanded,this.icon=this.getIcon()},e.prototype.getIcon=function(){return this.showIcon===!0?this.expanded?"- ":"+ ":null},e}(),treeNodeReducer=function(e,t){switch(void 0===e&&(e=[]),t.name){case"LOAD_NODES":return e.nodes.map(function(e){return new TreeNode$2(e.key,e.url,e.name)})}},__decorate$30=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$30=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Store$1=function(){function e(e){var t=this;this._http=e,this.dispatcher=new Subject,this.treeNodes={},this.nodes={},this.dispatcher.subscribe(function(e){return t.handleAction(e)})}return e.prototype.handleAction=function(e){var t=this;"LOAD_NODES"===e.name&&(this.nodes[e.key]?this.treeNodes[e.key].next(this.nodes[e.key]):this._http.get(e.url).map(function(e){return e.json()}).subscribe(function(r){t.nodes[e.key]=treeNodeReducer(r,e),t.treeNodes[e.key].next(t.nodes[e.key])}))},e.prototype.getTreeNodes=function(e){return this.treeNodes.hasOwnProperty(e)||(this.treeNodes[e]=new Subject),this.treeNodes[e].asObservable()},e.prototype.dispatchAction=function(e){
this.dispatcher.next(e)},e}();Store$1=__decorate$30([Injectable(),__metadata$30("design:paramtypes",[Http])],Store$1);var __decorate$31=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$31=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},TreeNodeService=function(){function e(e){this._store=e}return e.prototype.loadTreeNodes=function(e){e.url&&this._store.dispatchAction({key:e.key,url:e.url,name:"LOAD_NODES"})},e}();TreeNodeService=__decorate$31([Injectable(),__metadata$31("design:paramtypes",[Store$1])],TreeNodeService);var __decorate$29=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$29=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},CountryDemo=function(){function e(){this.node=null}return e.prototype.ngOnInit=function(){this.node=new TreeNode$2("root","./tree-view-data/countries.json","")},e}();CountryDemo=__decorate$29([Component({template:'<lazy-tree-view [root]="node"></lazy-tree-view>',providers:[Store$1,TreeNodeService]}),__metadata$29("design:paramtypes",[])],CountryDemo);var __decorate$32=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$32=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},RxJsStreams=function(){function e(){this.concatStream=[],this.mergeStream=[],this.forkJoinStream=[],this.flatMappedStreams={}}return e.prototype.flatMapStreams=function(){var e=this,t=Observable.of(10);t.flatMap(function(e){return Observable.of(e+10)}).subscribe(function(t){return e.flatMappedStreams={msg:"10 + 10 = "+t}})},e.prototype.concatStreams=function(){var e=this,t=Observable.timer(10,500).map(function(e){return{source:1,value:e}}).take(4),r=Observable.timer(10,500).map(function(e){return{source:2,value:e}}).take(4);t.concat(r).subscribe(function(t){return e.concatStream.push(t)})},e.prototype.mergeStreams=function(){var e=this,t=Observable.timer(10,500).map(function(e){return{source:1,value:e}}).take(4),r=Observable.timer(10,500).map(function(e){return{source:2,value:e}}).take(4);t.merge(r).subscribe(function(t){return e.mergeStream.push(t)})},e.prototype.forkJoinStreams=function(){var e=this,t=Observable.of({source:1,value:1}),r=Observable.of({source:2,value:1});Observable.forkJoin(t,r).subscribe(function(t){return e.forkJoinStream=t})},e}();RxJsStreams=__decorate$32([Component({selector:"rxjs-streams",templateUrl:"./components/rxjs-streams/rxjs-streams.html"}),__metadata$32("design:paramtypes",[])],RxJsStreams);var __decorate$34=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$34=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},FriendsService=function(){function e(e){this._http=e,this._friends=null}return e.prototype.clearCache=function(){this._friends=null},e.prototype.getFriends=function(){return this._friends||(this._friends=this._http.get("./components/rxjs-caching/friends.json").map(function(e){return e.json().friends}).do(function(e){return console.log("fetched friends")}).publishReplay(1).refCount()),this._friends},e}();FriendsService=__decorate$34([Injectable(),__metadata$34("design:paramtypes",[Http])],FriendsService);var __decorate$33=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$33=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},CachingDemo=function(){function e(e){this._friendsService=e,this.display={first:!0,second:!0}}return e.prototype.remove=function(e){this.display[e]=!1},e.prototype.reset=function(){this.display={first:!0,second:!0}},e.prototype.clearCache=function(){this._friendsService.clearCache()},e}();CachingDemo=__decorate$33([Component({providers:[FriendsService],templateUrl:"./components/rxjs-caching/caching-demo.html"}),__metadata$33("design:paramtypes",[FriendsService])],CachingDemo);var __decorate$35=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$35=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},RxJsBuffering=function(){function e(){this.numbers=[1,2,3,4,5],this.sum=new Subject,this.calculation={},this.showSum=!1}return e.prototype.add=function(e){this.sum.next(e)},e.prototype.ngOnInit=function(){var e=this;this.series=this.sum.asObservable().do(function(t){return e.showSum=!1}).bufferCount(3).subscribe(function(t){e.calculation={sum:t.reduce(function(e,t){return e+t})},e.showSum=!0})},e}();RxJsBuffering=__decorate$35([Component({template:'\n    <h3>Click three numbers to add</h3>\n    <div (click)="add(number)" class="box" *ngFor="let number of numbers">{{number}}</div>\n    <div class="sum" *ngIf="showSum">SUM: {{calculation.sum}}</div>\n  '}),__metadata$35("design:paramtypes",[])],RxJsBuffering);var routes=[{path:"",redirectTo:"/about",pathMatch:"full"},{path:"about",component:About},{path:"demo",component:DemoPage,children:[{path:"spreadsheet",component:Spreadsheet},{path:"jquery",component:JqueryIntegration},{path:"react",component:Angular2Host},{path:"algorithms",component:Algorithms},{path:"graph",component:Graph},{path:"pub-sub",component:PubSub},{path:"text-editor",component:TextEditor},{path:"address",component:AddressBook},{path:"http",component:HttpSample},{path:"treeview",component:TreeViewDemo},{path:"grid",component:GridDemo},{path:"input",component:InputControls},{path:"contact",component:ContactList},{path:"textbox",component:BoundTextbox},{path:"non-bindable",component:IgnoreBindings},{path:"form",component:AddressForm},{path:"change",component:CommentDemo},{path:"parent-child",component:Parent},{path:"survey",component:SurveyDemo},{path:"redux",component:LogDemo},{path:"iodemo",component:InputOutputDemo},{path:"rxjs",component:RxJsStreams},{path:"friends",component:CachingDemo},{path:"buffering",component:RxJsBuffering},{path:"countries",component:CountryDemo}]}],routing=RouterModule.forRoot(routes),__decorate$36=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$36=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},TreeView$1=function(){function e(){}return e}();__decorate$36([Input(),__metadata$36("design:type",Array)],TreeView$1.prototype,"directories",void 0),TreeView$1=__decorate$36([Component({selector:"tree-view",templateUrl:"./components/tree-view/tree-view.html"}),__metadata$36("design:paramtypes",[])],TreeView$1);var __decorate$37=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$37=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},LazyTreeView=function(){function e(e,t){this._store=e,this._treeNodeService=t,this.items=[]}return e.prototype.ngOnInit=function(){var e=this;this.subscription=this._store.getTreeNodes(this.root.key).subscribe(function(t){e.items=t}),this._treeNodeService.loadTreeNodes(this.root)},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e}();__decorate$37([Input(),__metadata$37("design:type",TreeNode$2)],LazyTreeView.prototype,"root",void 0),LazyTreeView=__decorate$37([Component({templateUrl:"./components/lazy-loaded-tree-view/tree-view.html",selector:"lazy-tree-view"}),__metadata$37("design:paramtypes",[Store$1,TreeNodeService])],LazyTreeView);var __decorate$38=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$38=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Survey=function(){function e(){this.payLoad=null}return e.prototype.ngOnInit=function(){this.form=this.model.toGroup()},e.prototype.onSubmit=function(){this.payLoad=JSON.stringify(this.form.value)},e}();__decorate$38([Input(),__metadata$38("design:type",Object)],Survey.prototype,"model",void 0),Survey=__decorate$38([Component({selector:"survey",templateUrl:"./components/survey/survey.html"}),__metadata$38("design:paramtypes",[])],Survey);var __decorate$39=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$39=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},FriendsList=function(){function e(e){this._friendsServce=e,this.friends=[]}return e.prototype.loadData=function(){var e=this;this.subscription=this._friendsServce.getFriends().subscribe(function(t){return e.friends=t},function(e){return console.log(e)})},e.prototype.ngOnInit=function(){this.loadData()},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe(),console.log("Destroyed")},e}();FriendsList=__decorate$39([Component({selector:"friends-list",template:'\n    <div *ngFor="let friend of friends">\n      {{friend}}\n    </div>\n    <button (click)="loadData()">Reload</button>\n  '}),__metadata$39("design:paramtypes",[FriendsService])],FriendsList);var Customer=function(){function e(){}return e}(),__decorate$40=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$40=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Producer=function(){function e(e){this.pubSubService=e,this.firstName="",this.lastName=""}return e.prototype.createCustomer=function(){var e=new Customer;e.firstName=this.firstName,e.lastName=this.lastName,this.pubSubService.Stream.emit(e)},e}();__decorate$40([Input(),__metadata$40("design:type",Object)],Producer.prototype,"firstName",void 0),__decorate$40([Input(),__metadata$40("design:type",Object)],Producer.prototype,"lastName",void 0),Producer=__decorate$40([Component({selector:"producer",templateUrl:"./components/pub-sub/producer.html"}),__metadata$40("design:paramtypes",[PubSubService])],Producer);var __decorate$41=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$41=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Consumer=function(){function e(e){this.pubSubService=e,this.processed=[],this.subscription=null}return e.prototype.ngOnInit=function(){var e=this;this.subscription=this.pubSubService.Stream.subscribe(function(t){return e.processCustomer(t)})},e.prototype.processCustomer=function(e){this.processed.push(e)},e.prototype.stopProcessing=function(){this.subscription.unsubscribe()},e}();Consumer=__decorate$41([Component({selector:"consumer",templateUrl:"./components/pub-sub/consumer.html"}),__metadata$41("design:paramtypes",[PubSubService])],Consumer);var __decorate$42=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$42=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param$1=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},InputOutput=function(){function e(e,t){this.stringChanged=new EventEmitter$1,console.log(t),this.el=e}return Object.defineProperty(e.prototype,"growingString",{get:function(){return this._growingString},set:function(e){this._growingString=e.toLowerCase(),this.stringChanged.next({value:"changed to "+this._growingString})},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){console.log(this.fixedValue)},e}();__decorate$42([Output(),__metadata$42("design:type",Object)],InputOutput.prototype,"stringChanged",void 0),__decorate$42([Input(),__metadata$42("design:type",Number)],InputOutput.prototype,"counter",void 0),__decorate$42([Input(),__metadata$42("design:type",String)],InputOutput.prototype,"fixedValue",void 0),__decorate$42([Input("mySum"),__metadata$42("design:type",Number)],InputOutput.prototype,"sum",void 0),__decorate$42([Input(),__metadata$42("design:type",String)],InputOutput.prototype,"headline",void 0),__decorate$42([Input(),__metadata$42("design:type",Object),__metadata$42("design:paramtypes",[Object])],InputOutput.prototype,"growingString",null),InputOutput=__decorate$42([Component({template:"<h1>{{headline}}</h1>\n              <div>Counter: {{counter}}</div>\n              <div>Running total of counter values: {{sum}}</div>\n              <div>Growing string: {{growingString}}</div>",selector:"input-output"}),__param$1(1,Attribute("plain")),__metadata$42("design:paramtypes",[ElementRef,Object])],InputOutput);var Sorter=function(){function e(){this.direction=1}return e.prototype.sort=function(e,t){var r=this;this.key===e?this.direction=-this.direction:this.direction=1,this.key=e,t.sort(function(t,n){return t[e]===n[e]?0:t[e]>n[e]?r.direction:-r.direction})},e}(),__decorate$43=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$43=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Grid=function(){function e(){this.sorter=new Sorter}return e.prototype.sort=function(e){this.sorter.sort(e,this.rows)},e.prototype.ngOnInit=function(){console.log(this.name)},e}();__decorate$43([Input(),__metadata$43("design:type",Array)],Grid.prototype,"columns",void 0),__decorate$43([Input(),__metadata$43("design:type",Array)],Grid.prototype,"rows",void 0),__decorate$43([Input(),__metadata$43("design:type",String)],Grid.prototype,"name",void 0),Grid=__decorate$43([Component({selector:"grid",templateUrl:"./components/grid/grid.html"}),__metadata$43("design:paramtypes",[])],Grid);var Comment$1=function(){function e(){}return e}(),BaseComment=function(){function e(){this.comments=[]}return e.prototype.addComment=function(){var e=new Comment$1;e.text=this.text,e.author=this.author,this.comments.push(e)},e.prototype.lastUpdated=function(){return Date().toString()},e}(),__decorate$44=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$44=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},CommentSection1=function(e){function t(){e.call(this),this.message="Using ChangeDetectionStrategy.OnPush"}return __extends(t,e),t}(BaseComment);CommentSection1=__decorate$44([Component({templateUrl:"./components/change-detection/change-detection.html",selector:"comment-section-1",changeDetection:ChangeDetectionStrategy.OnPush}),__metadata$44("design:paramtypes",[])],CommentSection1);var __decorate$45=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$45=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},CommentSection2=function(e){function t(){e.call(this),this.message="Using ChangeDetectionStrategy.Default"}return __extends(t,e),t}(BaseComment);CommentSection2=__decorate$45([Component({templateUrl:"./components/change-detection/change-detection.html",selector:"comment-section-2",changeDetection:ChangeDetectionStrategy.Default}),__metadata$45("design:paramtypes",[])],CommentSection2);var Coordinates=function(){function e(e,t,r){this.x=e,this.y=t,this.viewContainer=r}return e}(),__decorate$46=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$46=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Vertex=function(){function e(e,t){this.edgeService=e,this.vc=t}return e.prototype.setCoordinates=function(){var e=this.element.nativeElement.offsetLeft,t=this.element.nativeElement.offsetTop;this.edgeService.next(new Coordinates(e,t,this.vc))},e}();__decorate$46([ViewChild("vertex"),__metadata$46("design:type",ElementRef)],Vertex.prototype,"element",void 0),Vertex=__decorate$46([Component({selector:"vertex",inputs:["value"],template:'<div #vertex class="vertex" (click)="setCoordinates()"><span class="vertex-text">{{value}}</span></div>'}),__metadata$46("design:paramtypes",[EdgeService,ViewContainerRef])],Vertex);var Insertion=function(){function e(){}return e.sort=function(e){for(var t=1;t<e.items.length;t++)!function(t){setTimeout(function(){for(var r=e.items[t].val,n=t-1;n>=0&&e.items[n].val>r;)e.items[n+1].val=e.items[n].val,n-=1;e.items[n+1].val=r,e.setCurrent(e.items[n+1])},1e3*t)}(t)},e}(),__decorate$47=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata$47=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},InsertionSort=function(){function e(){this.list=new ValList,this.list.items=[new ListItem(5),new ListItem(33),new ListItem(5),new ListItem(5),new ListItem(2),new ListItem((-2)),new ListItem(4),new ListItem(88),new ListItem(6),new ListItem(400),new ListItem(1),new ListItem(58),new ListItem(30)]}return e.prototype.sortList=function(){Insertion.sort(this.list)},e}();InsertionSort=__decorate$47([Component({selector:"insertion-sort",inputs:["list: list"],templateUrl:"./components/insertion-sort/insertion-sort.html"}),__metadata$47("design:paramtypes",[])],InsertionSort);var ValList=function(){function e(){}return e.prototype.setCurrent=function(e){this.clearAll(),e.current=!0},e.prototype.clearAll=function(){this.items.forEach(function(e){return e.current=!1})},e}(),ListItem=function(){function e(e){this.val=e,this.current=!1}return e.prototype.getClass=function(){return this.current?"current-item":null},e}(),__decorate=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},AppModule=function(){function e(){}return e}();AppModule=__decorate([NgModule({imports:[BrowserModule,ReactiveFormsModule,routing,FormsModule,HttpModule],declarations:[AppComponent,FriendsList,Producer,Consumer,TreeView$1,LazyTreeView,Survey,About,DemoPage,InputOutput,Spreadsheet,JqueryIntegration,Angular2Host,Algorithms,Graph,PubSub,Grid,CommentSection1,CommentSection2,Edge,Vertex,InsertionSort,Child,TextEditor,AddressBook,HttpSample,TreeViewDemo,GridDemo,InputControls,ContactList,BoundTextbox,IgnoreBindings,AddressForm,CommentDemo,Parent,SurveyDemo,LogDemo,InputOutputDemo,RxJsStreams,CachingDemo,RxJsBuffering,CountryDemo],entryComponents:[Edge],providers:[AddressBookTitleService,{provide:LocationStrategy,useClass:HashLocationStrategy}],bootstrap:[AppComponent]}),__metadata("design:paramtypes",[])],AppModule),platformBrowserDynamic().bootstrapModule(AppModule);
